<!DOCTYPE html>
<html>

<head>
    <!-- Required meta tags always come first -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="description" content="CAS - Enterprise Single Sign-On for the Web"/>
    <meta name="keywords" content="authentication, login, cas, central authentication service, web, java, protocol, thymeleaf,
                   open source, boot, spring, authorization, google, facebook, twitter, higher-ed, enterprise,
                   access management, single signon, sso, RBAC, ABAC, attributes, SAML, OpenID, openid connect,
                   JWT, ADFS"/>
    <meta name="robots" content="index,follow"/>

    
    

        
    


    

    <script>
        ((i, s, o, g, r, a, m) => {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-83384532-2', 'auto');
        ga('send', 'pageview');

    </script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.3/css/all.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3"/>

    <link rel="stylesheet" type="text/css" media="screen" href="../../stylesheets/stylesheet.css">
    <link rel="stylesheet" type="text/css" media="print" href="../../stylesheets/print.css">

    <link href='https://fonts.googleapis.com/css?family=Lato:400,300,700' rel='stylesheet'>
    <link href='https://fonts.googleapis.com/css?family=Merriweather:900,900italic,300,300italic&subset=latin-ext,latin' rel='stylesheet'>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@100;200;300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css" rel="stylesheet">

    <title>CAS - Maven Overlay Installation</title>

</head>

<body>
<!-- HEADER -->
<header class="hidden-sm-down">
    <div class="container">
        <div class="row">
            <div class="col-xs-4 col-md-2">
                <a href="../../index.html">
                    <img class="undecorated" src="../../images/cas_logo.png"/>
                </a>
            </div>
            <div class="col-xs-8 col-md-6">
                <h1>Enterprise Single Sign-On for All</h1>
            </div>
            <div class="hidden-sm-down col-md-4">
                <a id="forkme_banner" href="https://github.com/apereo/cas">View on GitHub</a>
            </div>

        </div>
    </div>
</header>

<!-- NAVBAR -->

<nav class="navbar navbar-expand-md navbar-dark bg-primary bg-dark">
    <div class="container">
        <button class="navbar-toggler collapsed" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarsExample04" aria-controls="navbarsExample04" aria-expanded="false"
                aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="navbar-collapse collapse" id="navbarsExample04">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item active"><a href="../../index.html" class="zoom nav-link">Home</a></li>
                <li class="nav-item"><a href="https://github.com/apereo/cas/releases" class="zoom nav-link">Releases</a></li>
                <li class="nav-item"><a href="../../Support.html" class="zoom nav-link">Support</a></li>
                <li class="nav-item"><a href="../../Mailing-Lists.html" class="zoom nav-link">Mailing Lists</a></li>
                <li class="nav-item">
                    <a class="zoom nav-link" href="../../Demos.html">Demos</a>
                </li>
                <li class="nav-item dropdown">
                    <a class="zoom nav-link dropdown-toggle mr-md-2" href="#" id="cas-versions" data-bs-toggle="dropdown"
                       aria-haspopup="true" aria-expanded="false">Versions</a>
                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="cas-versions">
                        
                        
                        <a class="dropdown-item" href="/cas/development/">Development</a>
                        
                        
                        
                        <a class="dropdown-item" href="/cas/6.6.x/">v6.6.x</a>
                        
                        
                        
                        <a class="dropdown-item" href="/cas/6.5.x/">v6.5.x</a>
                        
                        
                        
                        <a class="dropdown-item" href="/cas/6.4.x/">v6.4.x</a>
                        
                        
                        
                        <a class="dropdown-item" href="/cas/6.3.x/">v6.3.x</a>
                        
                        
                        
                        <a class="dropdown-item" href="/cas/6.2.x/">v6.2.x</a>
                        
                        
                        
                        <a class="dropdown-item" href="/cas/6.1.x/">v6.1.x</a>
                        
                        
                        
                        <a class="dropdown-item" href="/cas/6.0.x/">v6.0.x</a>
                        
                        
                        
                        <a class="dropdown-item" href="/cas/5.3.x/">v5.3.x</a>
                        
                        
                        
                        <a class="dropdown-item" href="/cas/5.2.x/">v5.2.x</a>
                        
                        
                        
                        <a class="dropdown-item" href="/cas/5.1.x/">v5.1.x</a>
                        
                        
                        
                        <a class="dropdown-item" href="/cas/5.0.x/">v5.0.x</a>
                        
                        
                        
                        <a class="dropdown-item" href="/cas/4.2.x/">v4.2.x</a>
                        
                        
                        
                        <a class="dropdown-item" href="/cas/4.1.x/">v4.1.x</a>
                        
                        
                        
                        <a class="dropdown-item" href="/cas/4.0.x/">v4.0.x</a>
                        
                        

                    </div>
                </li>
                <li class="nav-item"><a href="https://apereo.github.io" target="_blank" class="zoom nav-link">Blog</a></li>
            </ul>

        </div>

    </div>
</nav>


<div class="container-fluid">
    <div class="row flex-xl-nowrap">
        <div class="col-12 col-md-3 col-xl-2 docs-sidebar pb-5" id="sidebar"></div>


        <div class="d-none d-xl-block col-xl-2 docs-toc">
    <div id="pageContents">
        <ul class="section-nav"></ul>
    </div>
</div>


        <main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 cas-docs-content" role="main">


            

            <section>
                <nav id="docsNavBar">
                    <span id="toolbarIcons"></span>
                </nav>

                <div id="cas-docs-container">
                    <h1 id="maven-overlay-installation">Maven Overlay Installation</h1>
<p>CAS installation is a fundamentally source-oriented process, and we recommend a
<a href="http://maven.apache.org/plugins/maven-war-plugin/overlays.html">Maven WAR overlay</a> project to organize
customizations such as component configuration and UI design.
The output of a Maven WAR overlay build is a <code class="language-plaintext highlighter-rouge">cas.war</code> file that can be deployed on a Java servlet container like
<a href="http://tomcat.apache.org/whichversion.html">Tomcat</a>.</p>

<p>A simple Maven WAR overlay project is provided for reference and study:
<a href="https://github.com/Jasig/cas-overlay-template">https://github.com/Jasig/cas-overlay-template</a></p>

<p>The following list of CAS components are those most often customized by deployers:</p>

<ol>
  <li>Authentication handlers (i.e. <code class="language-plaintext highlighter-rouge">LdapAuthenticationHandler</code>)</li>
  <li>Storage backend (i.e. <code class="language-plaintext highlighter-rouge">MemcachedTicketRegistry</code>)</li>
  <li>View layer files (JSP/CSS/Javascript)</li>
</ol>

<p>The first two are controlled by modifying Spring XML configuration files under
<code class="language-plaintext highlighter-rouge">src/main/webapp/WEB-INF/spring-configuration</code>, the latter by modifying JSP and CSS files under
<code class="language-plaintext highlighter-rouge">src/main/webapp/WEB-INF/view/jsp/default</code> in the Maven WAR overlay project. Every aspect of CAS can be controlled by
adding, removing, or modifying files in the overlay; itâ€™s also possible and indeed common to customize the behavior of
CAS by adding third-party components that implement CAS APIs as Java source files or dependency references.</p>

<p>Once an overlay project has been created, the <code class="language-plaintext highlighter-rouge">cas.war</code> file must be built and subsequently deployed into a Java
servlet container like Tomcat. The following set of commands, issued from the Maven WAR overlay project root
directory, provides a sketch of how to accomplish this on a Unix platform.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$CATALINA_HOME</span>/bin/shutdown.sh
mvn clean package
<span class="nb">rm</span> <span class="nt">-rf</span> <span class="nv">$CATALINA_HOME</span>/logs/<span class="k">*</span>
<span class="nb">rm</span> <span class="nt">-f</span> <span class="nv">$CATALINA_HOME</span>/webapps/cas.war
<span class="nb">rm</span> <span class="nt">-rf</span> <span class="nv">$CATALINA_HOME</span>/webapps/cas
<span class="nb">rm</span> <span class="nt">-rf</span> <span class="nv">$CATALINA_HOME</span>/work/<span class="k">*</span>
<span class="nb">cp</span> <span class="nt">-v</span> target/cas.war <span class="nv">$CATALINA_HOME</span>/webapps
<span class="nv">$CATALINA_HOME</span>/bin/startup.sh</code></pre></figure>

<h2 id="configuration-files">Configuration Files</h2>
<p>CAS configuration is controlled primarily by Spring XML context configuration files. At a minimum, every deployer
must customize <code class="language-plaintext highlighter-rouge">deployerConfigContext.xml</code> and <code class="language-plaintext highlighter-rouge">cas.properties</code> by including them in the Maven WAR overlay,
but there are other optional configuration files that may be included in the overlay for further customization
or to provide additional features. The following exploded file system hierarchy shows how files should be organized
in the overlay (1):</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="se">\-</span><span class="nt">--src</span>
    +---main
    |   +---resources
    |   |       apereo.properties
    |   |       cas-theme-default.properties
    |   |       log4j.xml
    |   |       messages.properties
    |   |       protocol_views.properties
    |   |       saml_views.properties
    |   |       truststore.jks
    |   |       
    |   <span class="se">\-</span><span class="nt">--webapp</span>
    |       |   favicon.ico
    |       |   index.jsp
    |       |   
    |       +---css
    |       |       cas.css
    |       |       
    |       +---images
    |       |       cas-logo.png
    |       |       confirm.gif
    |       |       error.gif
    |       |       error.png
    |       |       green.gif
    |       |       info.gif
    |       |       info.png
    |       |       ja-sig-logo.gif
    |       |       jasig-logo-small.png
    |       |       jasig-logo.png
    |       |       key-point_bl.gif
    |       |       key-point_br.gif
    |       |       key-point_tl.gif
    |       |       key-point_tr.gif
    |       |       question.png
    |       |       red.gif
    |       |       success.png
    |       |       warning.png
    |       |       
    |       +---js
    |       |       cas.js
    |       |       
    |       +---themes
    |       |   <span class="se">\-</span><span class="nt">--apereo</span>
    |       |       +---css
    |       |       |       cas.css
    |       |       |       
    |       |       +---images
    |       |       |       apereo-logo.png
    |       |       |       bg-tile.gif
    |       |       |       
    |       |       <span class="se">\-</span><span class="nt">--js</span>
    |       |               cas.js
    |       |               
    |       <span class="se">\-</span><span class="nt">--WEB-INF</span>
    |           |   cas-servlet.xml
    |           |   cas.properties
    |           |   deployerConfigContext.xml
    |           |   restlet-servlet.xml
    |           |   web.xml
    |           |   
    |           +---spring-configuration
    |           |       applicationContext.xml
    |           |       argumentExtractorsConfiguration.xml
    |           |       auditTrailContext.xml
    |           |       filters.xml
    |           |       log4jConfiguration.xml
    |           |       propertyFileConfigurer.xml
    |           |       README.txt
    |           |       securityContext.xml
    |           |       ticketExpirationPolicies.xml
    |           |       ticketGrantingTicketCookieGenerator.xml
    |           |       ticketRegistry.xml
    |           |       uniqueIdGenerators.xml
    |           |       warnCookieGenerator.xml
    |           |       
    |           +---unused-spring-configuration
    |           |       clearpass-configuration.xml
    |           |       lppe-configuration.xml
    |           |       mbeans.xml
    |           |       
    |           +---view
    |           |   <span class="se">\-</span><span class="nt">--jsp</span>
    |           |       |   authorizationFailure.jsp
    |           |       |   errors.jsp
    |           |       |   
    |           |       +---default
    |           |       |   <span class="se">\-</span><span class="nt">--ui</span>
    |           |       |       |   casAccountDisabledView.jsp
    |           |       |       |   casAccountLockedView.jsp
    |           |       |       |   casBadHoursView.jsp
    |           |       |       |   casBadWorkstationView.jsp
    |           |       |       |   casConfirmView.jsp
    |           |       |       |   casExpiredPassView.jsp
    |           |       |       |   casGenericSuccess.jsp
    |           |       |       |   casLoginMessageView.jsp
    |           |       |       |   casLoginView.jsp
    |           |       |       |   casLogoutView.jsp
    |           |       |       |   casMustChangePassView.jsp
    |           |       |       |   serviceErrorSsoView.jsp
    |           |       |       |   serviceErrorView.jsp
    |           |       |       |   
    |           |       |       <span class="se">\-</span><span class="nt">--includes</span>
    |           |       |               bottom.jsp
    |           |       |               top.jsp
    |           |       |               
    |           |       +---monitoring
    |           |       |       viewStatistics.jsp
    |           |       |       
    |           |       <span class="se">\-</span><span class="nt">--protocol</span>
    |           |           |   casPostResponseView.jsp
    |           |           |   
    |           |           +---2.0
    |           |           |       casProxyFailureView.jsp
    |           |           |       casProxySuccessView.jsp
    |           |           |       casServiceValidationFailure.jsp
    |           |           |       casServiceValidationSuccess.jsp
    |           |           |       
    |           |           +---3.0
    |           |           |       casServiceValidationFailure.jsp
    |           |           |       casServiceValidationSuccess.jsp
    |           |           |       
    |           |           +---clearPass
    |           |           |       clearPassFailure.jsp
    |           |           |       clearPassSuccess.jsp
    |           |           |       
    |           |           +---oauth
    |           |           |       confirm.jsp
    |           |           |       
    |           |           <span class="se">\-</span><span class="nt">--openid</span>
    |           |                   casOpenIdAssociationFailureView.jsp
    |           |                   casOpenIdAssociationSuccessView.jsp
    |           |                   casOpenIdServiceFailureView.jsp
    |           |                   casOpenIdServiceSuccessView.jsp
    |           |                   user.jsp
    |           |                   
    |           <span class="se">\-</span><span class="nt">--webflow</span>
    |               +---login
    |               |       login-webflow.xml
    |               |       
    |               <span class="se">\-</span><span class="nt">--logout</span>
    |                       logout-webflow.xml
    |                                               </code></pre></figure>

<p>The approach to Spring configuration is to group related components into a single configuration file, which allows
deployers to include the handful of files containing components (typically authentication and ticketing) required
for their environment. The files are intended to be self-identifying with respect to the kinds of components they
contain, with the exception of <code class="language-plaintext highlighter-rouge">applicationContext.xml</code> and <code class="language-plaintext highlighter-rouge">cas-servlet.xml</code>. For example, <code class="language-plaintext highlighter-rouge">auditTrailContext.xml</code>
contains components related to the CAS audit trail where events are emitted for successful and failed authentication attempts, among other kinds of auditable events.</p>

<p>It is common practice to exclude <code class="language-plaintext highlighter-rouge">cas.properties</code> from the overlay and place it at a well-known filesystem location
outside the WAR deployable. In that case, <code class="language-plaintext highlighter-rouge">propertyFileConfigurer.xml</code> must be configured to point to the filesystem
location of <code class="language-plaintext highlighter-rouge">cas.properties</code>. Generally, the Spring XML configuration files under <code class="language-plaintext highlighter-rouge">spring-configuration</code> are the most
common configuration files, beyond <code class="language-plaintext highlighter-rouge">deployerConfigContext.xml</code>, to be included in an overlay. The supplementary Spring
configuration files are organized into logically separate configuration concerns that are clearly indicated by the file
name.</p>

<p>CAS uses Spring Webflow to drive the login process in a modular and configurable fashion; the <code class="language-plaintext highlighter-rouge">login-webflow.xml</code>
file contains a straightforward description of states and transitions in the flow. Customizing this file is probably
the most common configuration concern beyond component configuration in the Spring XML configuration files. See the
Spring Webflow Customization Guide for a thorough description of the various CAS flows and discussion of common
configuration points.</p>

<h2 id="spring-configuration">Spring Configuration</h2>
<p>CAS server depends heavily on the Spring framework. There are exact and specific XML configuration files under <code class="language-plaintext highlighter-rouge">spring-configuration</code> directory that control various properties of CAS as well as <code class="language-plaintext highlighter-rouge">cas-servlet.xml</code> and <code class="language-plaintext highlighter-rouge">deployerConfigContext.xml</code> the latter of which is mostly expected by CAS adopters to be included in the overlay for environment-specific CAS settings.</p>

<p>Spring beans in the XML configuration files can be overwritten to change behavior if need be via the Maven overlay process. There are two approaches to this:</p>

<ol>
  <li>The XML file can be obtained from source for the CAS version and placed at the same exact path by the same exact name in the Maven overlay build. If configured correctly, the build will use the locally-provided XML file rather than the default.</li>
  <li>CAS server is able to load patterns of XML configuration files to overwrite what is provided by default. These configuration files that intend to overrule CAS default behavior can be placed at <code class="language-plaintext highlighter-rouge">/WEB-INF/</code> and must be named by the following pattern: <code class="language-plaintext highlighter-rouge">cas-servlet-*.xml</code>. Beans placed in this file will overwrite others. This configuration is recognized by the <code class="language-plaintext highlighter-rouge">DispatcherServlet</code> in the <code class="language-plaintext highlighter-rouge">web.xml</code> file:</li>
</ol>

<figure class="highlight"><pre><code class="language-xml" data-lang="xml">...

<span class="nt">&lt;servlet-class&gt;</span>
    org.springframework.web.servlet.DispatcherServlet
<span class="nt">&lt;/servlet-class&gt;</span>
<span class="nt">&lt;init-param&gt;</span>
    <span class="nt">&lt;param-name&gt;</span>contextConfigLocation<span class="nt">&lt;/param-name&gt;</span>
    <span class="nt">&lt;param-value&gt;</span>/WEB-INF/cas-servlet.xml, /WEB-INF/cas-servlet-*.xml<span class="nt">&lt;/param-value&gt;</span>
<span class="nt">&lt;/init-param&gt;</span>

...</code></pre></figure>

<h2 id="custom-and-third-party-source">Custom and Third-Party Source</h2>
<p>It is common to customize or extend the functionality of CAS by developing Java components that implement CAS APIs or
to include third-party source by Maven dependency references. Including third-party source is trivial; simply include
the relevant dependency in the overlay <code class="language-plaintext highlighter-rouge">pom.xml</code> file. In order to include custom Java source, it should be included
under a <code class="language-plaintext highlighter-rouge">src/java/main</code> directory in the overlay project source tree.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
</pre></td><td class="rouge-code"><pre>â”œâ”€â”€ src
â”‚Â Â  â”œâ”€â”€ main
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ java
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ edu
â”‚Â Â  â”‚Â Â  â”‚Â Â      â””â”€â”€ vt
â”‚Â Â  â”‚Â Â  â”‚Â Â          â””â”€â”€ middleware
â”‚Â Â  â”‚Â Â  â”‚Â Â              â””â”€â”€ cas
â”‚Â Â  â”‚Â Â  â”‚Â Â                  â”œâ”€â”€ audit
â”‚Â Â  â”‚Â Â  â”‚Â Â                  â”‚Â Â  â”œâ”€â”€ CompactSlf4jAuditTrailManager.java
â”‚Â Â  â”‚Â Â  â”‚Â Â                  â”‚Â Â  â”œâ”€â”€ CredentialsResourceResolver.java
â”‚Â Â  â”‚Â Â  â”‚Â Â                  â”‚Â Â  â”œâ”€â”€ ServiceResourceResolver.java
â”‚Â Â  â”‚Â Â  â”‚Â Â                  â”‚Â Â  â””â”€â”€ TicketOrCredentialPrincipalResolver.java
â”‚Â Â  â”‚Â Â  â”‚Â Â                  â”œâ”€â”€ authentication
â”‚Â Â  â”‚Â Â  â”‚Â Â                  â”‚Â Â  â””â”€â”€ principal
â”‚Â Â  â”‚Â Â  â”‚Â Â                  â”‚Â Â      â”œâ”€â”€ AbstractCredentialsToPrincipalResolver.java
â”‚Â Â  â”‚Â Â  â”‚Â Â                  â”‚Â Â      â”œâ”€â”€ PDCCredentialsToPrincipalResolver.java
â”‚Â Â  â”‚Â Â  â”‚Â Â                  â”‚Â Â      â””â”€â”€ UsernamePasswordCredentialsToPrincipalResolver.java
â”‚Â Â  â”‚Â Â  â”‚Â Â                  â”œâ”€â”€ services
â”‚Â Â  â”‚Â Â  â”‚Â Â                  â”‚Â Â  â””â”€â”€ JsonServiceRegistryDao.java
â”‚Â Â  â”‚Â Â  â”‚Â Â                  â”œâ”€â”€ util
â”‚Â Â  â”‚Â Â  â”‚Â Â                  â”‚Â Â  â””â”€â”€ X509Helper.java
â”‚Â Â  â”‚Â Â  â”‚Â Â                  â””â”€â”€ web
â”‚Â Â  â”‚Â Â  â”‚Â Â                      â”œâ”€â”€ HelpController.java
â”‚Â Â  â”‚Â Â  â”‚Â Â                      â”œâ”€â”€ RegisteredServiceController.java
â”‚Â Â  â”‚Â Â  â”‚Â Â                      â”œâ”€â”€ StatsController.java
â”‚Â Â  â”‚Â Â  â”‚Â Â                      â”œâ”€â”€ WarnController.java
â”‚Â Â  â”‚Â Â  â”‚Â Â                      â”œâ”€â”€ flow
â”‚Â Â  â”‚Â Â  â”‚Â Â                      â”‚Â Â  â”œâ”€â”€ AbstractForgottenCredentialAction.java
â”‚Â Â  â”‚Â Â  â”‚Â Â                      â”‚Â Â  â”œâ”€â”€ AbstractLdapQueryAction.java
â”‚Â Â  â”‚Â Â  â”‚Â Â                      â”‚Â Â  â”œâ”€â”€ AffiliationHandlerAction.java
â”‚Â Â  â”‚Â Â  â”‚Â Â                      â”‚Â Â  â”œâ”€â”€ CheckAccountRecoveryMaintenanceAction.java
â”‚Â Â  â”‚Â Â  â”‚Â Â                      â”‚Â Â  â”œâ”€â”€ CheckPasswordExpirationAction.java
â”‚Â Â  â”‚Â Â  â”‚Â Â                      â”‚Â Â  â”œâ”€â”€ ForgottenCredentialTypeAction.java
â”‚Â Â  â”‚Â Â  â”‚Â Â                      â”‚Â Â  â”œâ”€â”€ LookupRegisteredServiceAction.java
â”‚Â Â  â”‚Â Â  â”‚Â Â                      â”‚Â Â  â”œâ”€â”€ NoSuchFlowHandler.java
â”‚Â Â  â”‚Â Â  â”‚Â Â                      â”‚Â Â  â”œâ”€â”€ User.java
â”‚Â Â  â”‚Â Â  â”‚Â Â                      â”‚Â Â  â”œâ”€â”€ UserLookupAction.java
â”‚Â Â  â”‚Â Â  â”‚Â Â                      â”‚Â Â  â””â”€â”€ WarnCookieHandlerAction.java
â”‚Â Â  â”‚Â Â  â”‚Â Â                      â””â”€â”€ util
â”‚Â Â  â”‚Â Â  â”‚Â Â                          â”œâ”€â”€ ProtocolParameterAuthority.java
â”‚Â Â  â”‚Â Â  â”‚Â Â                          â”œâ”€â”€ UriEncoder.java
â”‚Â Â  â”‚Â Â  â”‚Â Â                          â””â”€â”€ UrlBuilder.java
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Also, note that for any custom Java component to compile and be included in the final <code class="language-plaintext highlighter-rouge">cas.war</code> file, the <code class="language-plaintext highlighter-rouge">pom.xml</code> in the Maven overlay must include a reference to the Maven Java compiler so classes can compiled. Here is a <em>sample</em> build configuration:</p>

<figure class="highlight"><pre><code class="language-xml" data-lang="xml">...

<span class="nt">&lt;build&gt;</span>
    <span class="nt">&lt;plugins&gt;</span>
        <span class="nt">&lt;plugin&gt;</span>
            <span class="nt">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="nt">&lt;/groupId&gt;</span>
            <span class="nt">&lt;artifactId&gt;</span>maven-war-plugin<span class="nt">&lt;/artifactId&gt;</span>
            <span class="nt">&lt;version&gt;</span>2.3<span class="nt">&lt;/version&gt;</span>
            <span class="nt">&lt;configuration&gt;</span>
                <span class="nt">&lt;warName&gt;</span>cas<span class="nt">&lt;/warName&gt;</span>
                <span class="nt">&lt;overlays&gt;</span>
                    <span class="nt">&lt;overlay&gt;</span>
                        <span class="nt">&lt;groupId&gt;</span>org.jasig.cas<span class="nt">&lt;/groupId&gt;</span>
                        <span class="nt">&lt;artifactId&gt;</span>cas-server-webapp<span class="nt">&lt;/artifactId&gt;</span>
                        <span class="nt">&lt;excludes&gt;</span>
                <span class="nt">&lt;exclude&gt;</span>WEB-INF/cas.properties<span class="nt">&lt;/exclude&gt;</span>
                            <span class="nt">&lt;exclude&gt;</span>WEB-INF/classes/log4j.xml<span class="nt">&lt;/exclude&gt;</span>
                            <span class="nt">&lt;exclude&gt;</span>...<span class="nt">&lt;/exclude&gt;</span>
                        <span class="nt">&lt;/excludes&gt;</span>
                    <span class="nt">&lt;/overlay&gt;</span>
                <span class="nt">&lt;/overlays&gt;</span>
            <span class="nt">&lt;/configuration&gt;</span>
        <span class="nt">&lt;/plugin&gt;</span>
        <span class="nt">&lt;plugin&gt;</span>
            <span class="nt">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="nt">&lt;/groupId&gt;</span>
            <span class="nt">&lt;artifactId&gt;</span>maven-compiler-plugin<span class="nt">&lt;/artifactId&gt;</span>
            <span class="nt">&lt;version&gt;</span>3.1<span class="nt">&lt;/version&gt;</span>
            <span class="nt">&lt;configuration&gt;</span>
                <span class="nt">&lt;source&gt;</span>${java.source.version}<span class="nt">&lt;/source&gt;</span>
                <span class="nt">&lt;target&gt;</span>${java.target.version}<span class="nt">&lt;/target&gt;</span>
            <span class="nt">&lt;/configuration&gt;</span>
        <span class="nt">&lt;/plugin&gt;</span>

    <span class="nt">&lt;/plugins&gt;</span>
    <span class="nt">&lt;finalName&gt;</span>cas<span class="nt">&lt;/finalName&gt;</span>
<span class="nt">&lt;/build&gt;</span>

...</code></pre></figure>

<p><em>(1) The filesystem hierarchy visualization is generated by the <code class="language-plaintext highlighter-rouge">tree</code> program.</em></p>

                </div>
            </section>
        </main>
    </div>
</div>


<footer>
    <div class="container">
        CAS is supported by the <a href="https://www.apereo.org/">Apereo Foundation</a>.
    </div>
</footer>

<script>
    let pageSection = '';
</script>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.3.2/js/tether.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js"></script>

<script src="../../javascripts/URI.js"></script>
<script src="../../javascripts/main.js"></script>

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>
<script type="text/javascript" src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
</body>

</html>
