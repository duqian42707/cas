<!DOCTYPE html>
<html>

<head>
    <!-- Required meta tags always come first -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="description" content="CAS - Enterprise Single Sign-On for the Web"/>
    <meta name="keywords" content="authentication, login, cas, central authentication service, web, java, protocol, thymeleaf,
                   open source, boot, spring, authorization, google, facebook, twitter, higher-ed, enterprise,
                   access management, single signon, sso, RBAC, ABAC, attributes, SAML, OpenID, openid connect,
                   JWT, ADFS"/>
    <meta name="robots" content="index,follow"/>

    
    

        
    


    

    <script>
        ((i, s, o, g, r, a, m) => {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-83384532-2', 'auto');
        ga('send', 'pageview');

    </script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.3/css/all.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3"/>

    <link rel="stylesheet" type="text/css" media="screen" href="../../stylesheets/stylesheet.css">
    <link rel="stylesheet" type="text/css" media="print" href="../../stylesheets/print.css">

    <link href='https://fonts.googleapis.com/css?family=Lato:400,300,700' rel='stylesheet'>
    <link href='https://fonts.googleapis.com/css?family=Merriweather:900,900italic,300,300italic&subset=latin-ext,latin' rel='stylesheet'>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@100;200;300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css" rel="stylesheet">

    <title>CAS Properties</title>

</head>

<body>
<!-- HEADER -->
<header class="hidden-sm-down">
    <div class="container">
        <div class="row">
            <div class="col-xs-4 col-md-2">
                <a href="../../index.html">
                    <img class="undecorated" src="../../images/cas_logo.png"/>
                </a>
            </div>
            <div class="col-xs-8 col-md-6">
                <h1>Enterprise Single Sign-On for All</h1>
            </div>
            <div class="hidden-sm-down col-md-4">
                <a id="forkme_banner" href="https://github.com/apereo/cas">View on GitHub</a>
            </div>

        </div>
    </div>
</header>

<!-- NAVBAR -->

<nav class="navbar navbar-expand-md navbar-dark bg-primary bg-dark">
    <div class="container">
        <button class="navbar-toggler collapsed" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarsExample04" aria-controls="navbarsExample04" aria-expanded="false"
                aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="navbar-collapse collapse" id="navbarsExample04">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item active"><a href="../../index.html" class="zoom nav-link">Home</a></li>
                <li class="nav-item"><a href="https://github.com/apereo/cas/releases" class="zoom nav-link">Releases</a></li>
                <li class="nav-item"><a href="../../Support.html" class="zoom nav-link">Support</a></li>
                <li class="nav-item"><a href="../../Mailing-Lists.html" class="zoom nav-link">Mailing Lists</a></li>
                <li class="nav-item">
                    <a class="zoom nav-link" href="../../Demos.html">Demos</a>
                </li>
                <li class="nav-item dropdown">
                    <a class="zoom nav-link dropdown-toggle mr-md-2" href="#" id="cas-versions" data-bs-toggle="dropdown"
                       aria-haspopup="true" aria-expanded="false">Versions</a>
                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="cas-versions">
                        
                        
                        <a class="dropdown-item" href="/cas/development/">Development</a>
                        
                        
                        
                        <a class="dropdown-item" href="/cas/6.6.x/">v6.6.x</a>
                        
                        
                        
                        <a class="dropdown-item" href="/cas/6.5.x/">v6.5.x</a>
                        
                        
                        
                        <a class="dropdown-item" href="/cas/6.4.x/">v6.4.x</a>
                        
                        
                        
                        <a class="dropdown-item" href="/cas/6.3.x/">v6.3.x</a>
                        
                        
                        
                        <a class="dropdown-item" href="/cas/6.2.x/">v6.2.x</a>
                        
                        
                        
                        <a class="dropdown-item" href="/cas/6.1.x/">v6.1.x</a>
                        
                        
                        
                        <a class="dropdown-item" href="/cas/6.0.x/">v6.0.x</a>
                        
                        
                        
                        <a class="dropdown-item" href="/cas/5.3.x/">v5.3.x</a>
                        
                        
                        
                        <a class="dropdown-item" href="/cas/5.2.x/">v5.2.x</a>
                        
                        
                        
                        <a class="dropdown-item" href="/cas/5.1.x/">v5.1.x</a>
                        
                        
                        
                        <a class="dropdown-item" href="/cas/5.0.x/">v5.0.x</a>
                        
                        
                        
                        <a class="dropdown-item" href="/cas/4.2.x/">v4.2.x</a>
                        
                        
                        
                        <a class="dropdown-item" href="/cas/4.1.x/">v4.1.x</a>
                        
                        
                        
                        <a class="dropdown-item" href="/cas/4.0.x/">v4.0.x</a>
                        
                        

                    </div>
                </li>
                <li class="nav-item"><a href="https://apereo.github.io" target="_blank" class="zoom nav-link">Blog</a></li>
            </ul>

        </div>

    </div>
</nav>


<div class="container-fluid">
    <div class="row flex-xl-nowrap">
        <div class="col-12 col-md-3 col-xl-2 docs-sidebar pb-5" id="sidebar"></div>


        <div class="d-none d-xl-block col-xl-2 docs-toc">
    <div id="pageContents">
        <ul class="section-nav"></ul>
    </div>
</div>


        <main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 cas-docs-content" role="main">


            

            <section>
                <nav id="docsNavBar">
                    <span id="toolbarIcons"></span>
                </nav>

                <div id="cas-docs-container">
                    <h1 id="cas-properties">CAS Properties</h1>

<p>Various properties can be specified in CAS <a href="Configuration-Management.html#overview">either inside configuration files or as command
line switches</a>. This section provides a list common CAS properties and
references to the underlying modules that consume them.</p>

<div class="alert alert-warning"><strong>Be Selective</strong><p>
This section is meant as a guide only. Do <strong>NOT</strong> copy/paste the entire collection of settings into your CAS configuration; rather pick only the properties that you need. Do NOT enable settings unless you are certain of their purpose and do NOT copy settings into your configuration only to keep them as <i>reference</i>. All these ideas lead to upgrade headaches, maintenance nightmares and premature aging.</p></div>

<p>Note that property names can be specified in very relaxed terms. For instance <code class="language-plaintext highlighter-rouge">cas.someProperty</code>, <code class="language-plaintext highlighter-rouge">cas.some-property</code>, <code class="language-plaintext highlighter-rouge">cas.some_property</code> are all valid names.</p>

<p>The following list of properties are controlled by and provided to CAS. Each block, for most use cases, corresponds
to a specific CAS module that is expected to be included in the final CAS distribution prepared during the build
and deployment process.</p>

<div class="alert alert-info"><strong>YAGNI</strong><p>Note that for nearly ALL use cases,
simply declaring and configuring properties listed below is sufficient. You should NOT have to
explicitly massage a CAS XML configuration file to design an authentication handler,
create attribute release policies, etc. CAS at runtime will auto-configure all required changes for you.</p></div>

<h2 id="general">General</h2>

<p>A number of CAS configuration options equally apply to a number of modules and features. To understand and 
take note of those options, please <a href="Configuration-Properties-Common.html">review this guide</a>.</p>

<h2 id="validation">Validation</h2>

<p>Configuration properties are automatically validated on CAS startup to report issues with configuration binding,
specially if defined CAS settings cannot be recognized or validated by the configuration schema. The validation process
is on by default and can be skipped on startup using a special <em>system property</em> <code class="language-plaintext highlighter-rouge">SKIP_CONFIG_VALIDATION</code> 
that should be set to <code class="language-plaintext highlighter-rouge">true</code>.</p>

<p>Additional validation processes are also handled via <a href="Configuration-Metadata-Repository.html">Configuration Metadata</a>
and property migrations applied automatically on startup by Spring Boot and family.</p>

<h2 id="custom-settings">Custom Settings</h2>

<p>The following settings could be used to extend CAS with arbitrary configuration keys and values:</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.custom.properties.[property-name]=[property-value]
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="configuration-storage">Configuration Storage</h2>

<p>This section outlines strategies that can be used to store CAS configuration and settings.</p>

<h3 id="standalone">Standalone</h3>

<p>This is the default configuration mode which indicates that CAS does NOT require connections 
to an external configuration server and will run in an embedded standalone mode.</p>

<h4 id="by-directory">By Directory</h4>

<p>CAS by default will attempt to locate settings and properties inside a given directory indicated
under the setting name <code class="language-plaintext highlighter-rouge">cas.standalone.configurationDirectory</code> and otherwise falls back to using:</p>

<ol>
  <li><code class="language-plaintext highlighter-rouge">/etc/cas/config</code></li>
  <li><code class="language-plaintext highlighter-rouge">/opt/cas/config</code></li>
  <li><code class="language-plaintext highlighter-rouge">/var/cas/config</code></li>
</ol>

<p>CAS has the ability to also load a Groovy file for loading settings. The file is expected to be found at the above matching 
directory and should be named <code class="language-plaintext highlighter-rouge">${cas-application-name}.groovy</code>, such as <code class="language-plaintext highlighter-rouge">cas.groovy</code>. The script is able to combine conditional settings for active profiles and common settings that are applicable to all environments and profiles into one location with a structure that is similar to the below example:</p>

<div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="c1">// Settings may be filtered by individual profiles</span>
<span class="n">profiles</span> <span class="o">{</span>
    <span class="n">standalone</span> <span class="o">{</span>
        <span class="n">cas</span><span class="o">.</span><span class="na">some</span><span class="o">.</span><span class="na">setting</span><span class="o">=</span><span class="s2">"value"</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="c1">// This applies to all profiles and environments</span>
<span class="n">cas</span><span class="o">.</span><span class="na">common</span><span class="o">.</span><span class="na">setting</span><span class="o">=</span><span class="s2">"value"</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="by-file">By File</h4>

<p>There also exists a <code class="language-plaintext highlighter-rouge">cas.standalone.configurationFile</code> which can be used to directly feed a collection of properties
to CAS in form of a file or classpath resource. This is specially useful in cases where a bare CAS server is deployed in the cloud without 
the extra ceremony of a configuration server or an external directory for that matter and the deployer wishes to avoid overriding embedded configuration files.</p>

<h3 id="spring-cloud">Spring Cloud</h3>

<p>The following settings are to be loaded by the CAS configuration runtime, which bootstraps
the entire CAS running context. They are to be put inside the <code class="language-plaintext highlighter-rouge">src/main/resources/bootstrap.properties</code>
of the configuration server itself. See <a href="Configuration-Server-Management.html">this guide</a> for more info.</p>

<p>The configuration server backed by Spring Cloud supports the following profiles.</p>

<h3 id="native">Native</h3>

<p>Load settings from external properties/yaml configuration files.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="c"># spring.profiles.active=native
</span>
<span class="c"># The configuration directory where CAS should monitor to locate settings.
# spring.cloud.config.server.native.search-locations=file:///etc/cas/config
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="git-repository">Git Repository</h3>

<p>Allow the CAS Spring Cloud configuration server to load settings from an internal/external Git repository.
This then allows CAS to become a client of the configuration server, consuming settings over HTTP where needed.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="c"># spring.profiles.active=default
</span>
<span class="c"># The location of the git repository that contains CAS settings.
# The location can point to an HTTP/SSH/directory.
# spring.cloud.config.server.git.uri=https://github.com/repoName/config
# spring.cloud.config.server.git.uri=file://${user.home}/config
</span>
<span class="c"># The credentials used to authenticate git requests, specially
# when using HTTPS. If connecting to the repository via SSH, remember
# to register your public keys with an SSH agent just as your normal would have
# with any other public repository.
# spring.cloud.config.server.git.username=
# spring.cloud.config.server.git.password=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>The above configuration also applies to online git-based repositories such as Github, BitBucket, etc.</p>

<h3 id="consul">Consul</h3>

<p>Allow the CAS Spring Cloud configuration server to load settings from <a href="../installation/Service-Discovery-Guide-Consul.html">HashiCorp’s Consul</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="c"># spring.cloud.consul.config.enabled=true
# spring.cloud.consul.config.prefix=configuration
# spring.cloud.consul.config.default-context=apps
# spring.cloud.consul.config.profile-separator=::
</span>
<span class="c"># spring.cloud.consul.config.watch.delay=1000
# spring.cloud.consul.config.watch.enabled=false
</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="vault">Vault</h3>

<p>Allow the CAS Spring Cloud configuration server to load settings from <a href="Configuration-Properties-Security.html">HashiCorp’s Vault</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="c"># spring.cloud.vault.host=127.0.0.1
# spring.cloud.vault.port=8200
# spring.cloud.vault.connection-timeout=3000
# spring.cloud.vault.read-timeout=5000
# spring.cloud.vault.enabled=true
# spring.cloud.vault.fail-fast=true
# spring.cloud.vault.scheme=http
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="token-authentication">Token Authentication</h4>

<p>Tokens are the core method for authentication within Vault. Token authentication requires a static token to be provided.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># spring.cloud.vault.authentication=TOKEN
# spring.cloud.vault.token=1305dd6a-a754-f145-3563-2fa90b0773b7
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="appid-authentication">AppID Authentication</h4>

<p>Vault supports AppId authentication that consists of two hard to guess tokens. The AppId defaults to <code class="language-plaintext highlighter-rouge">spring.application.name</code> that is statically configured. The second token is the UserId which is a part determined by the application, usually related to the runtime environment. Spring Cloud Vault Config supports IP address, Mac address and static 
UserId’s (e.g. supplied via System properties). The IP and Mac address are represented as Hex-encoded SHA256 hash.</p>

<p>Using IP addresses:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nb">export </span><span class="nv">IP_ADDRESS</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span> <span class="nt">-n</span> 192.168.99.1 | <span class="nb">sha256sum</span><span class="sb">`</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># spring.cloud.vault.authentication=APPID
# spring.cloud.vault.app-id.user-id=$IP_ADDRESS
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>Using MAC address:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nb">export</span> <span class="nv">$MAC_ADDRESS</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span> <span class="nt">-n</span> ABCDEFGH | <span class="nb">sha256sum</span><span class="sb">`</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c"># spring.cloud.vault.authentication=APPID
# spring.cloud.vault.app-id.user-id=$MAC_ADDRESS
# spring.cloud.vault.app-id.network-interface=eth0
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="kubernetes-authentication">Kubernetes Authentication</h4>

<p>Kubernetes authentication mechanism allows to authenticate with Vault using a Kubernetes Service Account Token. The authentication is role based and the role is bound to a service account name and a namespace.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c"># spring.cloud.vault.authentication=KUBERNETES
# spring.cloud.vault.kubernetes.role=my-dev-role
# spring.cloud.vault.kubernetes.service-account-token-file: /var/run/secrets/kubernetes.io/serviceaccount/token
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="generic-backend-v1">Generic Backend v1</h4>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># spring.cloud.vault.generic.enabled=true
# spring.cloud.vault.generic.backend=secret
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="kv-backend-v2">KV Backend v2</h4>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># spring.cloud.vault.kv.enabled=true
# spring.cloud.vault.kv.backend=secret
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="mongodb">MongoDb</h3>

<p>Allow the CAS Spring Cloud configuration server to load settings from a MongoDb instance.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.spring.cloud.mongo.uri=mongodb://casuser:Mellon@ds135522.mlab.com:35522/jasigcas
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="azure-keyvault-secrets">Azure KeyVault Secrets</h3>

<p>Allow the CAS Spring Cloud configuration server to load settings from Microsoft Azure’s KeyVault instance.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="c"># azure.keyvault.enabled=true
# azure.keyvault.uri=put-your-azure-keyvault-uri-here
# azure.keyvault.client-id=put-your-azure-client-id-here
# azure.keyvault.client-key=put-your-azure-client-key-here
# azure.keyvault.token-acquire-timeout-seconds=60
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="zookeeper">ZooKeeper</h3>

<p>Allow the CAS Spring Cloud configuration server to load settings from an Apache ZooKeeper instance.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="c"># spring.cloud.zookeeper.connect-string=localhost:2181
# spring.cloud.zookeeper.enabled=true
# spring.cloud.zookeeper.config.enabled=true
# spring.cloud.zookeeper.max-retries=10
# spring.cloud.zookeeper.config.root=cas/config
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="amazon-secrets-manager">Amazon Secrets Manager</h3>

<p>Common AWS settings for this feature are available <a href="Configuration-Properties-Common.html#amazon-integration-settings">here</a>
under the configuration key <code class="language-plaintext highlighter-rouge">cas.spring.cloud.aws.secrets-manager</code>.</p>

<h3 id="amazon-parameter-store">Amazon Parameter Store</h3>

<p>Common AWS settings for this feature are available <a href="Configuration-Properties-Common.html#amazon-integration-settings">here</a>
under the configuration key <code class="language-plaintext highlighter-rouge">cas.spring.cloud.aws.ssm</code>.</p>

<h3 id="amazon-s3">Amazon S3</h3>

<p>The following settings may be passed using strategies outlined <a href="Configuration-Management.html#overview">here</a> in order for CAS to establish a connection,
using the configuration key <code class="language-plaintext highlighter-rouge">cas.spring.cloud.aws.s3</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># ${configuration-key}.bucket-name=cas-properties
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>Common AWS settings for this feature are available <a href="Configuration-Properties-Common.html#amazon-integration-settings">here</a>
under the configuration key <code class="language-plaintext highlighter-rouge">cas.spring.cloud.aws.s3</code>.</p>

<h3 id="dynamodb">DynamoDb</h3>

<p>Common AWS settings for this feature are available <a href="Configuration-Properties-Common.html#amazon-integration-settings">here</a>
under the configuration key <code class="language-plaintext highlighter-rouge">cas.spring.cloud.dynamo-db</code>.</p>

<h3 id="jdbc">JDBC</h3>

<p>Allow the CAS Spring Cloud configuration server to load settings from a RDBMS instance. Database settings for this feature 
are available <a href="Configuration-Properties-Common.html#database-settings">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.spring.cloud.jdbc</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.spring.cloud.jdbc.sql=SELECT id, name, value FROM CAS_SETTINGS_TABLE
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="rest">REST</h3>

<p>Allow the CAS Spring Cloud configuration server to load settings from a REST API.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="c"># cas.spring.cloud.rest.url=
# cas.spring.cloud.rest.basic-auth-username=
# cas.spring.cloud.rest.basic-auth-password=
# cas.spring.cloud.rest.method=
# cas.spring.cloud.rest.headers=Header1:Value1;Header2:Value2
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="configuration-security">Configuration Security</h2>

<p>To learn more about how sensitive CAS settings can be
secured, <a href="Configuration-Properties-Security.html">please review this guide</a>.</p>

<h3 id="standalone-1">Standalone</h3>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="c"># cas.standalone.configuration-security.alg=PBEWithMD5AndTripleDES
# cas.standalone.configuration-security.provider=BC
# cas.standalone.configuration-security.iterations=
# cas.standalone.configuration-security.psw=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>The above settings may be passed to CAS using any of the <a href="Configuration-Management.html#overview">strategies outline here</a>,
though it might be more secure to pass them to CAS as either command-line or system properties.</p>

<h3 id="spring-cloud-1">Spring Cloud</h3>

<p>Encrypt and decrypt configuration via Spring Cloud, if the Spring Cloud configuration server is used.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="c"># spring.cloud.config.server.encrypt.enabled=true
</span>
<span class="c"># encrypt.keyStore.location=file:///etc/cas/casconfigserver.jks
# encrypt.keyStore.password=keystorePassword
# encrypt.keyStore.alias=DaKey
# encrypt.keyStore.secret=changeme
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="cloud-configuration-bus">Cloud Configuration Bus</h2>

<p>CAS uses the Spring Cloud Bus to manage configuration in a distributed deployment. Spring Cloud Bus links nodes of a
distributed system with a lightweight message broker.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="c"># spring.cloud.bus.enabled=false
# spring.cloud.bus.refresh.enabled=true
# spring.cloud.bus.env.enabled=true
# spring.cloud.bus.destination=CasCloudBus
# spring.cloud.bus.ack.enabled=true
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>To learn more about this topic, <a href="Configuration-Management.html">please review this guide</a>.</p>

<h3 id="rabbitmq">RabbitMQ</h3>

<p>Broadcast CAS configuration updates to other nodes in the cluster
via <a href="http://docs.spring.io/spring-cloud-stream/docs/current/reference/htmlsingle/#_rabbitmq_binder">RabbitMQ</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="c"># spring.rabbitmq.host=
# spring.rabbitmq.port=
# spring.rabbitmq.username=
# spring.rabbitmq.password=
</span>
<span class="c"># Or all of the above in one line
# spring.rabbitmq.addresses=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="kafka">Kafka</h3>

<p>Broadcast CAS configuration updates to other nodes in the cluster
via <a href="http://docs.spring.io/spring-cloud-stream/docs/current/reference/htmlsingle/#_apache_kafka_binder">Kafka</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c"># spring.cloud.stream.bindings.output.content-type=application/json
# spring.cloud.stream.kafka.binder.zkNodes=...
# spring.cloud.stream.kafka.binder.brokers=...
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="embedded-container">Embedded Container</h2>

<p>The following properties are related to the embedded containers that ship with CAS.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre></td><td class="rouge-code"><pre><span class="py">server.servlet.context-path</span><span class="p">=</span><span class="s">/cas</span>
<span class="py">server.port</span><span class="p">=</span><span class="s">8443</span>
<span class="py">server.ssl.key-store</span><span class="p">=</span><span class="s">file:/etc/cas/thekeystore</span>
<span class="py">server.ssl.key-store-password</span><span class="p">=</span><span class="s">changeit</span>
<span class="py">server.ssl.key-password</span><span class="p">=</span><span class="s">changeit</span>
<span class="c"># server.ssl.ciphers=
# server.ssl.client-auth=
# server.ssl.enabled=
# server.ssl.key-alias=
# server.ssl.key-store-provider=
# server.ssl.key-store-type=
# server.ssl.protocol=
# server.ssl.trust-store=
# server.ssl.trust-store-password=
# server.ssl.trust-store-provider=
# server.ssl.trust-store-type=
</span>
<span class="c"># server.max-http-header-size=2097152
# server.use-forward-headers=true
# server.connection-timeout=20000
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="embedded-jetty-container">Embedded Jetty Container</h3>

<p>The following settings affect the runtime behavior of the embedded Jetty container.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="rouge-code"><pre><span class="c"># server.jetty.acceptors=-1       
</span>
<span class="c"># server.jetty.accesslog.append=false
# server.jetty.accesslog.custom-format=
# server.jetty.accesslog.enabled=false
# server.jetty.accesslog.file-date-format=
# server.jetty.accesslog.filename=
# server.jetty.accesslog.format=
# server.jetty.accesslog.ignore-paths=
# server.jetty.accesslog.retention-period=31
</span>
<span class="c"># server.jetty.connection-idle-timeout=
# server.jetty.max-http-form-post-size=200000B
# server.jetty.max-threads=200
# server.jetty.min-threads=8
# server.jetty.selectors=-1
# server.jetty.thread-idle-timeout=-1
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="embedded-apache-tomcat-container">Embedded Apache Tomcat Container</h3>

<p>The following settings affect the runtime behavior of the embedded Apache Tomcat container.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="rouge-code"><pre><span class="c"># server.tomcat.basedir=build/tomcat
</span>
<span class="c"># server.tomcat.accesslog.enabled=true
# server.tomcat.accesslog.pattern=%t %a "%r" %s (%D ms)
# server.tomcat.accesslog.suffix=.log
</span>
<span class="c"># server.tomcat.max-http-post-size=20971520
# server.tomcat.max-threads=5
# server.tomcat.port-header=X-Forwarded-Port
# server.tomcat.protocol-header=X-Forwarded-Proto
# server.tomcat.protocol-header-https-value=https
# server.tomcat.remote-ip-header=X-FORWARDED-FOR
# server.tomcat.uri-encoding=UTF-8
</span>
<span class="c"># cas.server.tomcat.server-name=Apereo CAS
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="http-proxying">HTTP Proxying</h4>

<p>In the event that you decide to run CAS without any SSL configuration in the embedded Tomcat container and on a non-secure port
yet wish to customize the connector configuration that is linked to the running port (i.e. <code class="language-plaintext highlighter-rouge">8080</code>), the following settings may apply:</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="c"># cas.server.tomcat.http-proxy.enabled=true
# cas.server.tomcat.http-proxy.secure=true
# cas.server.tomcat.http-proxy.protocol=AJP/1.3
# cas.server.tomcat.http-proxy.scheme=https
# cas.server.tomcat.http-proxy.redirect-port=
# cas.server.tomcat.http-proxy.proxy-port=
# cas.server.tomcat.http-proxy.attributes.attribute-name=attributeValue
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="http">HTTP</h4>

<p>Enable HTTP connections for the embedded Tomcat container, in addition to the configuration
linked to the <code class="language-plaintext highlighter-rouge">server.port</code> setting.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="c"># cas.server.tomcat.http.port=8080
# cas.server.tomcat.http.protocol=org.apache.coyote.http11.Http11NioProtocol
# cas.server.tomcat.http.enabled=true
# cas.server.tomcat.http.attributes.attribute-name=attributeValue
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="ajp">AJP</h4>

<p>Enable AJP connections for the embedded Tomcat container,</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre><span class="c"># cas.server.tomcat.ajp.secure=false
# cas.server.tomcat.ajp.enabled=false
# cas.server.tomcat.ajp.proxy-port=-1
# cas.server.tomcat.ajp.protocol=AJP/1.3
# cas.server.tomcat.ajp.async-timeout=5000
# cas.server.tomcat.ajp.scheme=http
# cas.server.tomcat.ajp.max-post-size=20971520
# cas.server.tomcat.ajp.port=8009
# cas.server.tomcat.ajp.enable-lookups=false
# cas.server.tomcat.ajp.redirect-port=-1
# cas.server.tomcat.ajp.allow-trace=false
# cas.server.tomcat.ajp.attributes.attribute-name=attributeValue
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="ssl-valve">SSL Valve</h4>

<p>The Tomcat SSLValve is a way to get a client certificate from an SSL proxy (e.g. HAProxy or BigIP F5)
running in front of Tomcat via an HTTP header. If you enable this, make sure your proxy is ensuring
that this header does not originate with the client (e.g. the browser).</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="c"># cas.server.tomcat.ssl-valve.enabled=false
# cas.server.tomcat.ssl-valve.ssl-client-cert-header=ssl_client_cert
# cas.server.tomcat.ssl-valve.ssl-cipher-header=ssl_cipher
# cas.server.tomcat.ssl-valve.ssl-session-id-header=ssl_session_id
# cas.server.tomcat.ssl-valve.ssl-cipher-user-key-size-header=ssl_cipher_usekeysize
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>Example HAProxy Configuration (snippet): Configure SSL frontend with cert optional, redirect to cas, if cert provided, put it on header.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="rouge-code"><pre>frontend web-vip
  bind 192.168.2.10:443 ssl crt /var/lib/haproxy/certs/www.example.com.pem ca-file /var/lib/haproxy/certs/ca.pem verify optional
  mode http
  acl www-cert ssl_fc_sni if { www.example.com }
  acl empty-path path /
  http-request redirect location /cas/ if empty-path www-cert
  http-request del-header ssl_client_cert unless { ssl_fc_has_crt }
  http-request set-header ssl_client_cert -----BEGIN\ CERTIFICATE-----\ %[ssl_c_der,base64]\ -----END\ CERTIFICATE-----\  if { ssl_fc_has_crt }
  acl cas-path path_beg -i /cas
  reqadd X-Forwarded-Proto:\ https
  use_backend cas-pool if cas-path

backend cas-pool
  option httpclose
  option forwardfor
  cookie SERVERID-cas insert indirect nocache
  server cas-1 192.168.2.10:8080 check cookie cas-1
</pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="extended-access-log-valve">Extended Access Log Valve</h4>

<p>Enable the <a href="http://tomcat.apache.org/tomcat-8.0-doc/config/valve.html#Extended_Access_Log_Valve">extended access log</a>
for the embedded Tomcat container.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="c"># cas.server.tomcat.ext-access-log.enabled=false
# cas.server.tomcat.ext-access-log.pattern=c-ip s-ip cs-uri sc-status time x-threadname x-H(secure) x-H(remoteUser)
# cas.server.tomcat.ext-access-log.suffix=.log
# cas.server.tomcat.ext-access-log.prefix=localhost_access_extended
# cas.server.tomcat.ext-access-log.directory=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="rewrite-valve">Rewrite Valve</h4>

<p>Enable the <a href="https://tomcat.apache.org/tomcat-8.0-doc/rewrite.html">rewrite valve</a> for the embedded Tomcat container.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.server.tomcat.rewrite-valve.location=classpath://container/tomcat/rewrite.config
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="basic-authentication">Basic Authentication</h4>

<p>Enable basic authentication for the embedded Apache Tomcat.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="c"># cas.server.tomcat.basic-authn.enabled=true
# cas.server.tomcat.basic-authn.security-roles[0]=admin
# cas.server.tomcat.basic-authn.auth-roles[0]=admin
# cas.server.tomcat.basic-authn.patterns[0]=/*
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="apache-portable-runtime-apr">Apache Portable Runtime (APR)</h4>

<p>Tomcat can use the <a href="https://tomcat.apache.org/tomcat-9.0-doc/apr.html">Apache Portable Runtime</a> to provide superior scalability, performance, and better integration with native server technologies.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="c"># cas.server.tomcat.apr.enabled=false
</span>
<span class="c"># cas.server.tomcat.apr.ssl-protocol=
# cas.server.tomcat.apr.ssl-verify-depth=10
# cas.server.tomcat.apr.ssl-verify-client=require
# cas.server.tomcat.apr.ssl-cipher-suite=
# cas.server.tomcat.apr.ssl-disable-compression=false
# cas.server.tomcat.apr.ssl-honor-cipher-order=false
</span>
<span class="c"># cas.server.tomcat.apr.ssl-certificate-chain-file=
# cas.server.tomcat.apr.ssl-ca-certificate-file=
# cas.server.tomcat.apr.ssl-certificate-key-file=
# cas.server.tomcat.apr.ssl-certificate-file=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>Enabling APR requires the following JVM system property that indicates the location of the APR library binaries (i.e. <code class="language-plaintext highlighter-rouge">usr/local/opt/tomcat-native/lib</code>):</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nt">-Djava</span>.library.path<span class="o">=</span>/path/to/tomcat-native/lib
</pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="connector-io">Connector IO</h4>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="c"># cas.server.tomcat.socket.app-read-buf-size=0
# cas.server.tomcat.socket.app-write-buf-size=0
# cas.server.tomcat.socket.buffer-pool=0
# cas.server.tomcat.socket.performance-connection-time=-1
# cas.server.tomcat.socket.performance-latency=-1
# cas.server.tomcat.socket.performance-bandwidth=-1
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="session-clustering--replication">Session Clustering &amp; Replication</h4>

<p>Enable in-memory session replication to replicate web application session deltas.</p>

<table>
  <thead>
    <tr>
      <th>Clustering Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">DEFAULT</code></td>
      <td>Discovers cluster members via multicast discovery and optionally via staticly defined cluster members using the <code class="language-plaintext highlighter-rouge">clusterMembers</code>. <a href="http://tomcat.apache.org/tomcat-9.0-doc/cluster-howto.html">SimpelTcpCluster with McastService</a></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CLOUD</code></td>
      <td>For use in Kubernetes where members are discovered via accessing the Kubernetes API or doing a DNS lookup of the members of a Kubernetes service. <a href="https://cwiki.apache.org/confluence/display/TOMCAT/ClusteringCloud">Documentation</a> is currently light, see code for details.</td>
    </tr>
  </tbody>
</table>

<table>
  <thead>
    <tr>
      <th><code class="language-plaintext highlighter-rouge">CLOUD</code> Membership Providers</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">kubernetes</code></td>
      <td>Uses <a href="https://github.com/apache/tomcat/blob/master/java/org/apache/catalina/tribes/membership/cloud/KubernetesMembershipProvider.java">Kubernetes API</a> to find other pods in a deployment. API is discovered and accessed via information in environment variables set in the container.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">dns</code></td>
      <td>Uses <a href="https://github.com/apache/tomcat/blob/master/java/org/apache/catalina/tribes/membership/cloud/DNSMembershipProvider.java">DNS lookups</a> to find addresses of the pods behind a service specified by DNS_MEMBERSHIP_SERVICE_NAME environment variable.</td>
    </tr>
    <tr>
      <td><a href="https://github.com/apache/tomcat/blob/master/java/org/apache/catalina/tribes/MembershipProvider.java">MembershipProvider impl classname</a></td>
      <td>Use a membership provider implementation of your choice.</td>
    </tr>
  </tbody>
</table>

<p>Most settings apply to the <code class="language-plaintext highlighter-rouge">DEFAULT</code> clustering type, which requires members to be defined via <code class="language-plaintext highlighter-rouge">clusterMembers</code> if multicast discovery doesn’t work. The <code class="language-plaintext highlighter-rouge">cloudMembershipProvider</code> setting applies to the <code class="language-plaintext highlighter-rouge">CLOUD</code> type.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre></td><td class="rouge-code"><pre><span class="c"># cas.server.tomcat.clustering.enabled=false
# cas.server.tomcat.clustering.clustering-type=DEFAULT|CLOUD
# cas.server.tomcat.clustering.cluster-members=ip-address:port:index
# cas.server.tomcat.clustering.cloud-membership-provider=kubernetes|dns|[MembershipProvider impl classname](https://github.com/apache/tomcat/blob/master/java/org/apache/catalina/tribes/MembershipProvider.java)
# cas.server.tomcat.clustering.expire-sessions-on-shutdown=false
# cas.server.tomcat.clustering.channel-send-options=8
</span>
<span class="c"># cas.server.tomcat.clustering.receiver-port=4000
# cas.server.tomcat.clustering.receiver-timeout=5000
# cas.server.tomcat.clustering.receiver-max-threads=6
# cas.server.tomcat.clustering.receiver-address=auto
# cas.server.tomcat.clustering.receiver-auto-bind=100
</span>
<span class="c"># cas.server.tomcat.clustering.membership-port=45564
# cas.server.tomcat.clustering.membership-address=228.0.0.4
# cas.server.tomcat.clustering.membership-frequency=500
# cas.server.tomcat.clustering.membership-drop-time=3000
# cas.server.tomcat.clustering.membership-recovery-enabled=true
# cas.server.tomcat.clustering.membership-local-loopback-disabled=false
# cas.server.tomcat.clustering.membership-recovery-counter=10
</span>
<span class="c"># cas.server.tomcat.clustering.manager-type=DELTA|BACKUP
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="cas-server">CAS Server</h2>

<p>Identify the CAS server. <code class="language-plaintext highlighter-rouge">name</code> and <code class="language-plaintext highlighter-rouge">prefix</code> are always required settings.</p>

<p>A CAS host is automatically appended to the ticket ids generated by CAS.
If none is specified, one is automatically detected and used by CAS.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="c"># cas.server.name=https://cas.example.org:8443
# cas.server.prefix=https://cas.example.org:8443/cas 
# cas.server.scope=example.org
# cas.host.name=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="session-replication">Session replication</h2>

<p>Control aspects of session replication for certain CAS features, such as OAuth or OpenID Connect,
allowing session and authentication profile data to be kept with the client as a cookie.</p>

<p>Common cookie properties found <a href="Configuration-Properties-Common.html#cookie-properties">here</a> under 
the configuration key <code class="language-plaintext highlighter-rouge">cas.session-replication.cookie</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.session-replication.auto-configure-cookie-path=true
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="cas-banner">CAS Banner</h2>

<p>On startup, CAS will display a banner along with some diagnostics info.
In order to skip this step and summarize, set the system property <code class="language-plaintext highlighter-rouge">-DCAS_BANNER_SKIP=true</code>.</p>

<h3 id="update-check">Update Check</h3>

<p>CAS may also be conditionally configured to report, as part of the banner, whether a newer CAS release is available for an upgrade.
This check is off by default and may be enabled with a system property of <code class="language-plaintext highlighter-rouge">-DCAS_UPDATE_CHECK_ENABLED=true</code>.</p>

<h2 id="actuator-management-endpoints">Actuator Management Endpoints</h2>

<p>The following properties describe access controls and settings for the <code class="language-plaintext highlighter-rouge">/actuator</code>
endpoint of CAS which provides administrative functionality and oversight into the CAS software.</p>

<p>To learn more about this topic, <a href="../monitoring/Monitoring-Statistics.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="c"># management.endpoints.enabled-by-default=true
# management.endpoints.web.base-path=/actuator
</span>
<span class="c"># management.endpoints.web.exposure.include=info,health,status,configurationMetadata
# management.endpoints.web.exposure.exclude=
</span>
<span class="c"># management.endpoints.jmx.exposure.exclude=*
# management.endpoints.jmx.exposure.include=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="basic-authentication-security">Basic Authentication Security</h3>

<p>Credentials for basic authentication may be defined via the following settings:</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c"># spring.security.user.name=casuser
# spring.security.user.password=
# spring.security.user.roles=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="jaas-authentication-security">JAAS Authentication Security</h3>

<p>JAAS authentication for endpoint security may be configured via the following settings:</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c"># cas.monitor.endpoints.jaas.refresh-configuration-on-startup=true
# cas.monitor.endpoints.jaas.login-config=file:/etc/cas/config/jaas.conf
# cas.monitor.endpoints.jaas.login-context-name=CAS
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="ldap-authentication-security">LDAP Authentication Security</h3>

<p>Shared LDAP settings for this feature are available <a href="Configuration-Properties-Common.html#ldap-connection-settings">here</a> 
under the configuration key <code class="language-plaintext highlighter-rouge">cas.monitor.endpoints.ldap</code>.</p>

<p>LDAP authentication for endpoint security may be additionally configured via the following settings:</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="c"># cas.monitor.endpoints.ldap.ldap-authz.role-attribute=uugid
# cas.monitor.endpoints.ldap.ldap-authz.role-prefix=ROLE_
# cas.monitor.endpoints.ldap.ldap-authz.allow-multiple-results=false
# cas.monitor.endpoints.ldap.ldap-authz.group-attribute=
# cas.monitor.endpoints.ldap.ldap-authz.group-prefix=
# cas.monitor.endpoints.ldap.ldap-authz.group-filter=
# cas.monitor.endpoints.ldap.ldap-authz.group-base-dn=
# cas.monitor.endpoints.ldap.ldap-authz.base-dn=
# cas.monitor.endpoints.ldap.ldap-authz.search-filter=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="jdbc-authentication-security">JDBC Authentication Security</h3>

<p>Shared database settings for this feature are available <a href="Configuration-Properties-Common.html#database-settings">here</a>
under the configuration key <code class="language-plaintext highlighter-rouge">cas.monitor.endpoints.jdbc</code>.</p>

<p>JDBC authentication for endpoint security may be additionally configured via the following settings:</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># cas.monitor.endpoints.jdbc.role-prefix=
# cas.monitor.endpoints.jdbc.query=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>Password encoding  settings for this feature are available <a href="Configuration-Properties-Common.html#password-encoding">here</a> 
under the configuration key <code class="language-plaintext highlighter-rouge">cas.monitor.endpoints.jdbc</code>.</p>

<h3 id="enabling-endpoints">Enabling Endpoints</h3>

<p>To determine whether an endpoint is available, the calculation order for all endpoints is as follows:</p>

<ol>
  <li>The <code class="language-plaintext highlighter-rouge">enabled</code> setting of the individual endpoint (i.e. <code class="language-plaintext highlighter-rouge">info</code>) is consulted in CAS settings, as demonstrated below:</li>
</ol>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># management.endpoint.&lt;endpoint-name&gt;.enabled=true
</span></pre></td></tr></tbody></table></code></pre></div></div>

<ol>
  <li>If undefined, the global endpoint security is consulted from CAS settings.</li>
  <li>If undefined, the default built-in setting for the endpoint in CAS is consulted, which is typically <code class="language-plaintext highlighter-rouge">false</code> by default.</li>
</ol>

<p>A number of available endpoint ids <a href="../monitoring/Monitoring-Statistics.html">should be listed here</a>.</p>

<p>Endpoints may also be mapped to custom arbitrary endpoints. For example, to remap the <code class="language-plaintext highlighter-rouge">health</code> endpoint to <code class="language-plaintext highlighter-rouge">healthcheck</code>, 
specify the following settings:</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># management.endpoints.web.path-mapping.health=healthcheck
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="health-endpoint">Health Endpoint</h3>

<p>The <code class="language-plaintext highlighter-rouge">health</code> endpoint may also be configured to show details using <code class="language-plaintext highlighter-rouge">management.endpoint.health.show-details</code> via the following conditions:</p>

<table>
  <thead>
    <tr>
      <th>URL</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">never</code></td>
      <td>Never display details of health monitors.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">always</code></td>
      <td>Always display details of health monitors.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">when-authorized</code></td>
      <td>Details are only shown to authorized users. Authorized roles can be configured using <code class="language-plaintext highlighter-rouge">management.endpoint.health.roles</code>.</td>
    </tr>
  </tbody>
</table>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># management.endpoint.health.show-details=never
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>The results and details of the <code class="language-plaintext highlighter-rouge">health</code> endpoints are produced by a number of health indicator components that may monitor different systems, such as LDAP connection
pools, database connections, etc. Such health indicators are turned off by default and may individually be controlled and turned on via the following settings:</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># management.health.&lt;name&gt;.enabled=true
# management.health.defaults.enabled=false 
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>The following health indicator names are available, given the presence of the appropriate CAS feature:</p>

<table>
  <thead>
    <tr>
      <th>Health Indicator</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">memoryHealthIndicator</code></td>
      <td>Reports back on the health status of CAS JVM memory usage, etc.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">systemHealthIndicator</code></td>
      <td>Reports back on the health of the system of the CAS server.(Load, Uptime, Heap, CPU etc.)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">sessionHealthIndicator</code></td>
      <td>Reports back on the health status of CAS tickets and SSO session usage.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">duoSecurityHealthIndicator</code></td>
      <td>Reports back on the health status of Duo Security APIs.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ehcacheHealthIndicator</code></td>
      <td>Reports back on the health status of Ehcache caches.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">hazelcastHealthIndicator</code></td>
      <td>Reports back on the health status of Hazelcast caches.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">dataSourceHealthIndicator</code></td>
      <td>Reports back on the health status of JDBC connections.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">pooledLdapConnectionFactoryHealthIndicator</code></td>
      <td>Reports back on the health status of LDAP connection pools.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">memcachedHealthIndicator</code></td>
      <td>Reports back on the health status of Memcached connections.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">mongoHealthIndicator</code></td>
      <td>Reports back on the health status of MongoDb connections.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">samlRegisteredServiceMetadataHealthIndicator</code></td>
      <td>Reports back on the health status of SAML2 service provider metadata sources.</td>
    </tr>
  </tbody>
</table>

<h3 id="endpoint-security">Endpoint Security</h3>

<p>Global endpoint security configuration activated by CAS may be controlled under the configuration key <code class="language-plaintext highlighter-rouge">cas.monitor.endpoints.endpoint.&lt;endpoint-name&gt;</code>.
There is a special endpoint named <code class="language-plaintext highlighter-rouge">defaults</code>  which serves as a shortcut that controls the security of all endpoints, if left undefined in CAS settings. Accessing an endpoint
over the web can be allowed via a special login form whose access and presence can be controlled via:</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.monitor.endpoints.form-login-enabled=false
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>Note that any individual endpoint must be first enabled before any security can be applied. The security of all endpoints is controlled using the following settings:</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="c"># ${configuration-key}.required-roles[0]=
# ${configuration-key}.required-authorities[0]=
# ${configuration-key}.required-ip-addresses[0]=
# ${configuration-key}.access[0]=PERMIT|ANONYMOUS|DENY|AUTHENTICATED|ROLE|AUTHORITY|IP_ADDRESS
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>The following access levels are allowed for each individual endpoint:</p>

<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PERMIT</code></td>
      <td>Allow open access to the endpoint.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ANONYMOUS</code></td>
      <td>Allow anonymous access to the endpoint.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">DENY</code></td>
      <td>Default. Block access to the endpoint.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">AUTHENTICATED</code></td>
      <td>Require authenticated access to the endpoint.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ROLE</code></td>
      <td>Require authenticated access to the endpoint along with a role requirement.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">AUTHORITY</code></td>
      <td>Require authenticated access to the endpoint along with an authority requirement.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">IP_ADDRESS</code></td>
      <td>Require authenticated access to the endpoint using a collection of IP addresses.</td>
    </tr>
  </tbody>
</table>

<h3 id="spring-boot-admin-server">Spring Boot Admin Server</h3>

<p>To learn more about this topic, <a href="../monitoring/Configuring-Monitoring-Administration.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="c"># spring.boot.admin.url=https://bootadmin.example.org:8444
# spring.boot.admin.client.management-url=${cas.server.prefix}/status
# spring.boot.admin.client.name=Apereo CAS
# spring.boot.admin.client.metadata.user.name=
# spring.boot.admin.client.metadata.user.password=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="javamelody">JavaMelody</h3>

<p>To learn more about this topic, <a href="../monitoring/Configuring-Monitoring-JavaMelody.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre><span class="c"># javamelody.enabled=true
# javamelody.excluded-datasources=one,two,etc
# javamelody.spring-monitoring-enabled=true
# javamelody.init-parameters.log=true
# javamelody.init-parameters.url-exclude-pattern=(/webjars/.*|/css/.*|/images/.*|/fonts/.*|/js/.*)
# javamelody.init-parameters.monitoring-path=/monitoring
</span>
<span class="c"># Control access via IP regular expression patterns
# javamelody.init-parameters.allowed-addr-pattern=.+
# Control access via Basic AuthN
# javamelody.init-parameters.authorized-users=admin:pwd
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="web-application-session">Web Application Session</h2>

<p>Control the CAS web application session behavior
as it’s treated by the underlying servlet container engine.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c"># server.servlet.session.timeout=PT30S
# server.servlet.session.cookie.http-only=true
# server.servlet.session.tracking-modes=COOKIE
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="views">Views</h2>

<p>Control how CAS should treat views and other UI elements.</p>

<p>To learn more about this topic, <a href="../ux/User-Interface-Customization-Views.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre></td><td class="rouge-code"><pre><span class="c"># spring.thymeleaf.encoding=UTF-8
</span>
<span class="c"># Controls  whether views should be cached by CAS.
# When turned on, ad-hoc chances to views are not automatically
# picked up by CAS until a restart. Small incremental performance
# improvements are to be expected.
# spring.thymeleaf.cache=true
</span>
<span class="c"># Instruct CAS to locate views at the below location.
# This location can be externalized to a directory outside
# the cas web application.
# spring.thymeleaf.prefix=classpath:/templates/
</span>
<span class="c"># Defines a default URL to which CAS may redirect if there is no service provided in the authentication request.
# cas.view.default-redirect-url=https://www.github.com
</span>
<span class="c"># CAS views may be located at the following paths outside
# the web application context, in addition to prefix specified
# above which is handled via Thymeleaf.
# cas.view.template-prefixes[0]=file:///etc/cas/templates
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="custom-login-fields">Custom Login Fields</h2>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c"># cas.view.custom-login-form-fields.[field-name].message-bundle-key=
# cas.view.custom-login-form-fields.[field-name].required=true
# cas.view.custom-login-form-fields.[field-name].converter=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="cas-v1">CAS v1</h3>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.view.cas1.attribute-renderer-type=DEFAULT|VALUES_PER_LINE
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="cas-v2">CAS v2</h3>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="c"># cas.view.cas2.v3-forward-compatible=false
# cas.view.cas2.success=protocol/2.0/casServiceValidationSuccess
# cas.view.cas2.failure=protocol/2.0/casServiceValidationFailure
# cas.view.cas2.proxy.success=protocol/2.0/casProxySuccessView
# cas.view.cas2.proxy.failure=protocol/2.0/casProxyFailureView
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="cas-v3">CAS v3</h3>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c"># cas.view.cas3.success=protocol/3.0/casServiceValidationSuccess
# cas.view.cas3.failure=protocol/3.0/casServiceValidationFailure
# cas.view.cas3.attribute-renderer-type=DEFAULT|INLINE
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="restful-views">Restful Views</h3>

<p>Control the resolution of CAS views via REST. RESTful settings for this feature are 
available <a href="Configuration-Properties-Common.html#restful-integrations">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.view.rest</code>.</p>

<h2 id="logging">Logging</h2>

<p>Control the location and other settings of the CAS logging configuration.
To learn more about this topic, <a href="../logging/Logging.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="c"># logging.config=file:/etc/cas/log4j2.xml
# server.servlet.context-parameters.is-log4j-auto-initialization-disabled=true
</span>       
<span class="c"># cas.logging.mdc-enabled=true
</span>
<span class="c"># Control log levels via properties
# logging.level.org.apereo.cas=DEBUG
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>To disable log sanitization, start the container with the system property <code class="language-plaintext highlighter-rouge">CAS_TICKET_ID_SANITIZE_SKIP=true</code>.</p>

<h2 id="aspectj-configuration">AspectJ Configuration</h2>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># spring.aop.auto=true
# spring.aop.proxy-target-class=true
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="authentication-attributes">Authentication Attributes</h2>

<p>Set of authentication attributes that are retrieved by the principal resolution process,
typically via some component of <a href="../integration/Attribute-Resolution.html">Person Directory</a>
from a number of attribute sources unless noted otherwise by the specific authentication scheme.</p>

<p>If multiple attribute repository sources are defined, they are added into a list
and their results are cached and merged.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.attribute-repository.expiration-time=30
# cas.authn.attribute-repository.expiration-time-unit=MINUTES
# cas.authn.attribute-repository.maximum-cache-size=10000
# cas.authn.attribute-repository.merger=REPLACE|ADD|MULTIVALUED|NONE
# cas.authn.attribute-repository.aggregation=MERGE|CASCADE
</span></pre></td></tr></tbody></table></code></pre></div></div>

<div class="alert alert-info"><strong>Remember This</strong><p>Note that in certain cases,
CAS authentication is able to retrieve and resolve attributes from the authentication source in the same authentication request, which would
eliminate the need for configuring a separate attribute repository specially if both the authentication and the attribute source are the same.
Using separate repositories should be required when sources are different, or when there is a need to tackle more advanced attribute
resolution use cases such as cascading, merging, etc.
<a href="../installation/Configuring-Principal-Resolution.html">See this guide</a> for more info.</p></div>

<p>Attributes for all sources are defined in their own individual block.
CAS does not care about the source owner of attributes. It finds them where they can be found and otherwise, it moves on.
This means that certain number of attributes can be resolved via one source and the remaining attributes
may be resolved via another. If there are commonalities across sources, the merger shall decide the final result and behavior.</p>

<p>The story in plain english is:</p>

<ul>
  <li>I have a bunch of attributes that I wish to resolve for the authenticated principal.</li>
  <li>I have a bunch of sources from which said attributes are retrieved.</li>
  <li>Figure it out.</li>
</ul>

<p>Note that attribute repository sources, if/when defined, execute in a specific order.
This is important to take into account when attribute merging may take place.
By default, the execution order (when defined) is the following but can be adjusted per source:</p>

<ol>
  <li>LDAP</li>
  <li>JDBC</li>
  <li>JSON</li>
  <li>Groovy</li>
  <li><a href="http://www.internet2.edu/products-services/trust-identity/grouper/">Internet2 Grouper</a></li>
  <li>REST</li>
  <li>Script</li>
  <li>Stubbed/Static</li>
</ol>

<p>Note that if no <em>explicit</em> attribute mappings are defined, all permitted attributes on the record
may be retrieved by CAS from the attribute repository source and made available to the principal. On the other hand,
if explicit attribute mappings are defined, then <em>only mapped attributes</em> are retrieved.</p>

<h3 id="multimapped-attribute">Multimapped Attribute</h3>

<p>Attributes may be allowed to be virtually renamed and remapped. The following definition, for instance, attempts to grab the attribute <code class="language-plaintext highlighter-rouge">uid</code> from the attribute source and rename it to <code class="language-plaintext highlighter-rouge">userId</code>:</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.attribute-repository.[type-placeholder].attributes.uid=userId
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="merging-strategies">Merging Strategies</h3>

<p>The following merging strategies can be used to resolve conflicts when the same attribute are found from multiple sources:</p>

<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">REPLACE</code></td>
      <td>Overwrites existing attribute values, if any.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ADD</code></td>
      <td>Retains existing attribute values if any, and ignores values from subsequent sources in the resolution chain.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MULTIVALUED</code></td>
      <td>Combines all values into a single attribute, essentially creating a multi-valued attribute.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">NONE</code></td>
      <td>Do not merge attributes, only use attributes retrieved during authentication.</td>
    </tr>
  </tbody>
</table>

<h3 id="aggregation-strategies">Aggregation Strategies</h3>

<p>The following aggregation strategies can be used to resolve and merge attributes
when multiple attribute repository sources are defined to fetch data:</p>

<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MERGE</code></td>
      <td>Default. Query multiple repositories in order and merge the results into a single result set.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CASCADE</code></td>
      <td>Same as above; results from each query are passed down to the next attribute repository source.</td>
    </tr>
  </tbody>
</table>

<h3 id="stub">Stub</h3>

<p>Static attributes that need to be mapped to a hardcoded value belong here.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.attribute-repository.stub.id=
</span>
<span class="c"># cas.authn.attribute-repository.stub.attributes.uid=uid
# cas.authn.attribute-repository.stub.attributes.displayName=displayName
# cas.authn.attribute-repository.stub.attributes.cn=commonName
# cas.authn.attribute-repository.stub.attributes.affiliation=groupMembership
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="ldap">LDAP</h3>

<p>If you wish to directly and separately retrieve attributes from an LDAP source, LDAP settings for this feature are available <a href="Configuration-Properties-Common.html#ldap-connection-settings">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.attribute-repository.ldap[0]</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.attribute-repository.ldap[0].id=
# cas.authn.attribute-repository.ldap[0].order=0
</span>
<span class="c"># cas.authn.attribute-repository.ldap[0].attributes.uid=uid
# cas.authn.attribute-repository.ldap[0].attributes.display-name=displayName
# cas.authn.attribute-repository.ldap[0].attributes.cn=commonName
# cas.authn.attribute-repository.ldap[0].attributes.affiliation=groupMembership
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="groovy">Groovy</h3>

<p>If you wish to directly and separately retrieve attributes from a Groovy script,
the following settings are then relevant:</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.attribute-repository.groovy[0].location=file:/etc/cas/attributes.groovy
# cas.authn.attribute-repository.groovy[0].case-insensitive=false
# cas.authn.attribute-repository.groovy[0].order=0
# cas.authn.attribute-repository.groovy[0].id=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>The Groovy script may be designed as:</p>

<div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre><span class="kn">import</span> <span class="nn">java.util.*</span>

<span class="kt">def</span> <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;&gt;</span> <span class="n">run</span><span class="o">(</span><span class="kd">final</span> <span class="n">Object</span><span class="o">...</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="kt">def</span> <span class="n">username</span> <span class="o">=</span> <span class="n">args</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
    <span class="kt">def</span> <span class="n">attributes</span> <span class="o">=</span> <span class="n">args</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
    <span class="kt">def</span> <span class="n">logger</span> <span class="o">=</span> <span class="n">args</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span>
    <span class="kt">def</span> <span class="n">properties</span> <span class="o">=</span> <span class="n">args</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span>
    <span class="kt">def</span> <span class="n">appContext</span> <span class="o">=</span> <span class="n">args</span><span class="o">[</span><span class="mi">4</span><span class="o">]</span>

    <span class="n">logger</span><span class="o">.</span><span class="na">debug</span><span class="o">(</span><span class="s2">"[{}]: The received uid is [{}]"</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="na">class</span><span class="o">.</span><span class="na">simpleName</span><span class="o">,</span> <span class="n">uid</span><span class="o">)</span>
    <span class="k">return</span><span class="o">[</span><span class="nl">username:</span><span class="o">[</span><span class="n">uid</span><span class="o">],</span> <span class="nl">likes:</span><span class="o">[</span><span class="s2">"cheese"</span><span class="o">,</span> <span class="s2">"food"</span><span class="o">],</span> <span class="nl">id:</span><span class="o">[</span><span class="mi">1234</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">,</span><span class="mi">4</span><span class="o">,</span><span class="mi">5</span><span class="o">],</span> <span class="nl">another:</span><span class="s2">"attribute"</span><span class="o">]</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="json">JSON</h3>

<p>If you wish to directly and separately retrieve attributes from a static JSON source,
the following settings are then relevant:</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.attribute-repository.json[0].location=file://etc/cas/attribute-repository.json
# cas.authn.attribute-repository.json[0].order=0
# cas.authn.attribute-repository.json[0].id=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>The format of the file may be:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre><span class="p">{</span><span class="w">
    </span><span class="nl">"user1"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"firstName"</span><span class="p">:[</span><span class="s2">"Json1"</span><span class="p">],</span><span class="w">
        </span><span class="nl">"lastName"</span><span class="p">:[</span><span class="s2">"One"</span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"user2"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"firstName"</span><span class="p">:[</span><span class="s2">"Json2"</span><span class="p">],</span><span class="w">
        </span><span class="nl">"eduPersonAffiliation"</span><span class="p">:[</span><span class="s2">"employee"</span><span class="p">,</span><span class="w"> </span><span class="s2">"student"</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="rest-1">REST</h3>

<p>Retrieve attributes from a REST endpoint. RESTful settings for this feature are available <a href="Configuration-Properties-Common.html#restful-integrations">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.attribute-repository.rest[0]</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.attribute-repository.rest[0].order=0
# cas.authn.attribute-repository.rest[0].id=
# cas.authn.attribute-repository.rest[0].case-insensitive=false
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>The authenticating user id is passed in form of a request parameter under <code class="language-plaintext highlighter-rouge">username</code>. The response is expected
to be a JSON map as such:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"JohnSmith"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"age"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">29</span><span class="p">,</span><span class="w">
  </span><span class="nl">"messages"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"msg 1"</span><span class="p">,</span><span class="w"> </span><span class="s2">"msg 2"</span><span class="p">,</span><span class="w"> </span><span class="s2">"msg 3"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="pythonjavascriptgroovy">Python/Javascript/Groovy</h3>

<div class="alert alert-warning"><strong>Usage</strong>
<p><strong>This feature is deprecated and is scheduled to be removed in the future.</strong></p>
</div>

<p>Similar to the Groovy option but more versatile, this option takes advantage of Java’s native 
scripting API to invoke Groovy, Python or Javascript scripting engines to compile a pre-defined script to resolve attributes. 
The following settings are relevant:</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.attribute-repository.script[0].location=file:/etc/cas/script.groovy
# cas.authn.attribute-repository.script[0].order=0
# cas.authn.attribute-repository.script[0].id=
# cas.authn.attribute-repository.script[0].case-insensitive=false
# cas.authn.attribute-repository.script[0].engine-name=js|groovy|python
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>While Javascript and Groovy should be natively supported by CAS, Python scripts may need
to massage the CAS configuration to include the <a href="http://search.maven.org/#search%7Cga%7C1%7Ca%3A%22jython-standalone%22">Python modules</a>.</p>

<p>The Groovy script may be defined as:</p>

<div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="kn">import</span> <span class="nn">java.util.*</span>

<span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;&gt;</span> <span class="n">run</span><span class="o">(</span><span class="kd">final</span> <span class="n">Object</span><span class="o">...</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="kt">def</span> <span class="n">uid</span> <span class="o">=</span> <span class="n">args</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
    <span class="kt">def</span> <span class="n">logger</span> <span class="o">=</span> <span class="n">args</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>

    <span class="n">logger</span><span class="o">.</span><span class="na">debug</span><span class="o">(</span><span class="s2">"Groovy things are happening just fine with UID: {}"</span><span class="o">,</span><span class="n">uid</span><span class="o">)</span>
    <span class="k">return</span><span class="o">[</span><span class="nl">username:</span><span class="o">[</span><span class="n">uid</span><span class="o">],</span> <span class="nl">likes:</span><span class="o">[</span><span class="s2">"cheese"</span><span class="o">,</span> <span class="s2">"food"</span><span class="o">],</span> <span class="nl">id:</span><span class="o">[</span><span class="mi">1234</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">,</span><span class="mi">4</span><span class="o">,</span><span class="mi">5</span><span class="o">],</span> <span class="nl">another:</span><span class="s2">"attribute"</span><span class="o">]</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>The Javascript script may be defined as:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td><td class="rouge-code"><pre><span class="kd">function</span> <span class="nx">run</span><span class="p">(</span><span class="nx">uid</span><span class="p">,</span> <span class="nx">logger</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">print</span><span class="p">(</span><span class="dl">"</span><span class="s2">Things are happening just fine</span><span class="dl">"</span><span class="p">)</span>
    <span class="nx">logger</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="dl">"</span><span class="s2">Javascript called with UID: {}</span><span class="dl">"</span><span class="p">,</span><span class="nx">uid</span><span class="p">);</span>

    <span class="c1">// If you want to call back into Java, this is one way to do so</span>
    <span class="kd">var</span> <span class="nx">javaObj</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">JavaImporter</span><span class="p">(</span><span class="nx">org</span><span class="p">.</span><span class="nx">yourorgname</span><span class="p">.</span><span class="nx">yourpackagename</span><span class="p">);</span>
    <span class="kd">with</span> <span class="p">(</span><span class="nx">javaObj</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">objFromJava</span> <span class="o">=</span> <span class="nx">JavaClassInPackage</span><span class="p">.</span><span class="nx">someStaticMethod</span><span class="p">(</span><span class="nx">uid</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="kd">var</span> <span class="nx">map</span> <span class="o">=</span> <span class="p">{};</span>
    <span class="nx">map</span><span class="p">[</span><span class="dl">"</span><span class="s2">attr_from_java</span><span class="dl">"</span><span class="p">]</span> <span class="o">=</span> <span class="nx">objFromJava</span><span class="p">.</span><span class="nx">getSomething</span><span class="p">();</span>
    <span class="nx">map</span><span class="p">[</span><span class="dl">"</span><span class="s2">username</span><span class="dl">"</span><span class="p">]</span> <span class="o">=</span> <span class="nx">uid</span><span class="p">;</span>
    <span class="nx">map</span><span class="p">[</span><span class="dl">"</span><span class="s2">likes</span><span class="dl">"</span><span class="p">]</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">cheese</span><span class="dl">"</span><span class="p">;</span>
    <span class="nx">map</span><span class="p">[</span><span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1234</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">];</span>
    <span class="nx">map</span><span class="p">[</span><span class="dl">"</span><span class="s2">another</span><span class="dl">"</span><span class="p">]</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">attribute</span><span class="dl">"</span><span class="p">;</span>

    <span class="k">return</span> <span class="nx">map</span><span class="p">;</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="jdbc-1">JDBC</h3>

<p>Retrieve attributes from a JDBC source. Database settings for this feature are available <a href="Configuration-Properties-Common.html#database-settings">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.attribute-repository.jdbc[0]</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.attribute-repository.jdbc[0].attributes.uid=uid
# cas.authn.attribute-repository.jdbc[0].attributes.display-name=displayName
# cas.authn.attribute-repository.jdbc[0].attributes.cn=commonName
# cas.authn.attribute-repository.jdbc[0].attributes.affiliation=groupMembership
</span>
<span class="c"># cas.authn.attribute-repository.jdbc[0].single-row=true
# cas.authn.attribute-repository.jdbc[0].order=0
# cas.authn.attribute-repository.jdbc[0].id=
# cas.authn.attribute-repository.jdbc[0].require-all-attributes=true
# cas.authn.attribute-repository.jdbc[0].case-canonicalization=NONE|LOWER|UPPER
# cas.authn.attribute-repository.jdbc[0].query-type=OR|AND
# cas.authn.attribute-repository.jdbc[0].case-insensitive-query-attributes=username
</span>
<span class="c"># Used only when there is a mapping of many rows to one user
# cas.authn.attribute-repository.jdbc[0].column-mappings.column-attr-name1=columnAttrValue1
# cas.authn.attribute-repository.jdbc[0].column-mappings.column-attr-name2=columnAttrValue2
# cas.authn.attribute-repository.jdbc[0].column-mappings.column-attr-name3=columnAttrValue3
</span>
<span class="c"># cas.authn.attribute-repository.jdbc[0].sql=SELECT * FROM table WHERE {0}
# cas.authn.attribute-repository.jdbc[0].username=uid
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="grouper">Grouper</h3>

<p>This option reads all the groups from <a href="http://www.internet2.edu/grouper/software.html">a Grouper instance</a> for the given CAS principal and adopts them
as CAS attributes under a <code class="language-plaintext highlighter-rouge">grouperGroups</code> multi-valued attribute.
To learn more about this topic, <a href="../integration/Attribute-Resolution.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.attribute-repository.grouper[0].enabled=true
# cas.authn.attribute-repository.grouper[0].id=
# cas.authn.attribute-repository.grouper[0].order=0
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>You will also need to ensure <code class="language-plaintext highlighter-rouge">grouper.client.properties</code> is available on the classpath (i.e. <code class="language-plaintext highlighter-rouge">src/main/resources</code>)
with the following configured properties:</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c"># grouperClient.webService.url = http://192.168.99.100:32768/grouper-ws/servicesRest
# grouperClient.webService.login = banderson
# grouperClient.webService.password = password
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="couchbase">Couchbase</h3>

<p>This option will fetch attributes from a Couchbase database for a given CAS principal. To learn more about this topic, <a href="../installation/Couchbase-Authentication.html">please review this guide</a>. 
Database settings for this feature are available <a href="Configuration-Properties-Common.html#couchbase-integration-settings">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.attribute-repository.couchbase</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.attribute-repository.couchbase.usernameAttribute=username
# cas.authn.attribute-repository.couchbase.order=0
# cas.authn.attribute-repository.couchbase.id=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="redis">Redis</h3>

<p>This option will fetch attributes from a Redis database for a given CAS principal.</p>

<p>To learn more about this topic, <a href="../installation/Redis-Authentication.html">please review this guide</a>.</p>

<p>Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#redis-configuration">here</a> 
under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.attribute-repository.redis</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.attribute-repository.redis.order=0
# cas.authn.attribute-repository.redis.id=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="microsoft-azure-active-directory">Microsoft Azure Active Directory</h3>

<p>This option will fetch attributes from Microsoft Azure Active Directory using the Microsoft Graph API.</p>

<p>The following settings are available:</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.attribute-repository.azure-active-directory[0].client-id=
# cas.authn.attribute-repository.azure-active-directory[0].client-secret=
# cas.authn.attribute-repository.azure-active-directory[0].client-secret=
# cas.authn.attribute-repository.azure-active-directory[0].tenant=
</span>
<span class="c"># cas.authn.attribute-repository.azure-active-directory[0].id=
# cas.authn.attribute-repository.azure-active-directory[0].order=0
# cas.authn.attribute-repository.azure-active-directory[0].case-insensitive=false
# cas.authn.attribute-repository.azure-active-directory[0].resource=
# cas.authn.attribute-repository.azure-active-directory[0].scope=
# cas.authn.attribute-repository.azure-active-directory[0].grant-type=
# cas.authn.attribute-repository.azure-active-directory[0].api-base-url=
# cas.authn.attribute-repository.azure-active-directory[0].attributes=
# cas.authn.attribute-repository.azure-active-directory[0].domain=
# cas.authn.attribute-repository.azure-active-directory[0].logging-level=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="shibboleth-integrations">Shibboleth Integrations</h3>

<p>To learn more about this topic, <a href="../integration/Shibboleth.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.shib-idp.server-url=https://idp.example.org
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="default-bundle">Default Bundle</h3>

<p>If you wish to release a default bundle of attributes to all applications,
and you would rather not duplicate the same attribute per every service definition,
then the following settings are relevant:</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.attribute-repository.default-attributes-to-release=cn,givenName,uid,affiliation
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>To learn more about this topic, <a href="../integration/Attribute-Release.html">please review this guide</a>.</p>

<h3 id="protocol-attributes">Protocol Attributes</h3>

<p>Defines whether CAS should include and release protocol attributes defined in the specification in addition to the
principal attributes. By default all authentication attributes are released when protocol attributes are enabled for
release. If you wish to restrict which authentication attributes get released, you can use the below settings to control authentication attributes more globally.</p>

<p>Protocol/authentication attributes may also be released conditionally on a per-service 
basis. To learn more about this topic, <a href="../integration/Attribute-Release.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.authentication-attribute-release.only-release=authenticationDate,isFromNewLogin
# cas.authn.authentication-attribute-release.never-release=
# cas.authn.authentication-attribute-release.enabled=true
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="principal-resolution">Principal Resolution</h2>

<p>In the event that a separate resolver is put into place, control how the final principal should be constructed by default. Principal resolution 
and Person Directory settings for this feature are 
available <a href="Configuration-Properties-Common.html#person-directory-principal-resolution">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.person-directory</code>.</p>

<h2 id="attribute-definitions">Attribute Definitions</h2>

<p>An attribute definition store allows one to describe metadata about necessary attributes 
with special decorations to be considered during attribute resolution and release.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.person-directory.attribute-definition-store.json.location=file:/etc/cas/config/attribute-defns.json
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="authentication-engine">Authentication Engine</h2>

<p>Control inner-workings of the CAS authentication engine, before and after the execution.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="py">cas.authn.core.groovy-authentication-resolution.location</span><span class="p">=</span><span class="s">file:/etc/cas/config/GroovyAuthentication.groovy</span>
<span class="py">cas.authn.core.groovy-authentication-resolution.order</span><span class="p">=</span><span class="s">0</span>

<span class="py">cas.authn.core.service-authentication-resolution.order</span><span class="p">=</span><span class="s">0</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="authentication-pre-processing">Authentication Pre-Processing</h3>

<h4 id="groovy-1">Groovy</h4>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.core.engine.groovy-pre-processor.location=file:/etc/cas/config/GroovyPreProcessor.groovy
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>The script itself may be designed as:</p>

<div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre><span class="kt">def</span> <span class="nf">run</span><span class="o">(</span><span class="n">Object</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="kt">def</span> <span class="n">transaction</span> <span class="o">=</span> <span class="n">args</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
    <span class="kt">def</span> <span class="n">logger</span> <span class="o">=</span> <span class="n">args</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
    <span class="kc">true</span>
<span class="o">}</span>

<span class="kt">def</span> <span class="nf">supports</span><span class="o">(</span><span class="n">Object</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="kt">def</span> <span class="n">credential</span> <span class="o">=</span> <span class="n">args</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
    <span class="kt">def</span> <span class="n">logger</span> <span class="o">=</span> <span class="n">args</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
    <span class="kc">true</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="authentication-post-processing">Authentication Post-Processing</h3>

<h4 id="groovy-2">Groovy</h4>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.core.engine.groovy-post-processor.location=file:/etc/cas/config/GroovyPostProcessor.groovy
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>The script itself may be designed as:</p>

<div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre><span class="kt">def</span> <span class="nf">run</span><span class="o">(</span><span class="n">Object</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="kt">def</span> <span class="n">builder</span> <span class="o">=</span> <span class="n">args</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
    <span class="kt">def</span> <span class="n">transaction</span> <span class="o">=</span> <span class="n">args</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
    <span class="kt">def</span> <span class="n">logger</span> <span class="o">=</span> <span class="n">args</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span>
    <span class="kc">true</span>
<span class="o">}</span>

<span class="kt">def</span> <span class="nf">supports</span><span class="o">(</span><span class="n">Object</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="kt">def</span> <span class="n">credential</span> <span class="o">=</span> <span class="n">args</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
    <span class="kt">def</span> <span class="n">logger</span> <span class="o">=</span> <span class="n">args</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
    <span class="kc">true</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="authentication-policy">Authentication Policy</h2>

<p>To learn more about this topic, <a href="../installation/Configuring-Authentication-Components.html#authentication-policy">please review this guide</a>.</p>

<p>Global authentication policy that is applied when CAS attempts to vend and validate tickets.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.policy.required-handler-authentication-policy-enabled=false
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="any">Any</h3>

<p>Satisfied if any handler succeeds. Supports a tryAll flag to avoid short circuiting
and try every handler even if one prior succeeded.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.policy.any.try-all=false
# cas.authn.policy.any.enabled=true
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="all">All</h3>

<p>Satisfied if and only if all given credentials are successfully authenticated.
Support for multiple credentials is new in CAS and this handler
would only be acceptable in a multi-factor authentication situation.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.policy.all.enabled=true
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="source-selection">Source Selection</h3>

<p>Allows CAS to select authentication handlers based on the credential source. This allows the authentication engine to restrict the task of validating credentials
to the selected source or account repository, as opposed to every authentication handler.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.policy.source-selection-enabled=true
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="unique-principal">Unique Principal</h3>

<p>Satisfied if and only if the requesting principal has not already authenticated with CAS.
Otherwise the authentication event is blocked, preventing multiple logins.</p>

<div class="alert alert-warning"><strong>Usage Warning</strong><p>Activating this policy is not without cost,
as CAS needs to query the ticket registry and all tickets present to determine whether the current user has established an authentication session anywhere. This will surely add a performance burden to the deployment. Use with care.</p></div>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.policy.unique-principal.enabled=true
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="not-prevented">Not Prevented</h3>

<p>Satisfied if and only if the authentication event is not blocked by a <code class="language-plaintext highlighter-rouge">PreventedException</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.policy.not-prevented.enabled=true
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="required">Required</h3>

<p>Satisfied if and only if a specified handler successfully authenticates its credential.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.policy.req.try-all=false
# cas.authn.policy.req.handler-name=handlerName
# cas.authn.policy.req.enabled=true
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="groovy-3">Groovy</h3>

<p>Execute a groovy script to detect authentication policy.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.policy.groovy[0].script=file:/etc/cas/config/account.groovy
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>The script may be designed as:</p>

<div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="kn">import</span> <span class="nn">java.util.*</span>
<span class="kn">import</span> <span class="nn">org.apereo.cas.authentication.exceptions.*</span>
<span class="kn">import</span> <span class="nn">javax.security.auth.login.*</span>

<span class="kt">def</span> <span class="n">Exception</span> <span class="nf">run</span><span class="o">(</span><span class="kd">final</span> <span class="n">Object</span><span class="o">...</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="kt">def</span> <span class="n">principal</span> <span class="o">=</span> <span class="n">args</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
    <span class="kt">def</span> <span class="n">logger</span> <span class="o">=</span> <span class="n">args</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>

    <span class="k">if</span> <span class="o">(</span><span class="n">conditionYouMayDesign</span><span class="o">()</span> <span class="o">==</span> <span class="kc">true</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nf">AccountDisabledException</span><span class="o">()</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="rest-2">REST</h3>

<p>Contact a REST endpoint via <code class="language-plaintext highlighter-rouge">POST</code> to detect authentication policy.
The message body contains the CAS authenticated principal that can be used
to examine account status and policy.</p>

<p>RESTful settings for this feature are 
available <a href="Configuration-Properties-Common.html#restful-integrations">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.policy.rest[0]</code>.</p>

<p>Response codes from the REST endpoint are translated as such:</p>

<table>
  <thead>
    <tr>
      <th>Code</th>
      <th>Result</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">200</code></td>
      <td>Successful authentication.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">403</code>, <code class="language-plaintext highlighter-rouge">405</code></td>
      <td>Produces a <code class="language-plaintext highlighter-rouge">AccountDisabledException</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">404</code></td>
      <td>Produces a <code class="language-plaintext highlighter-rouge">AccountNotFoundException</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">423</code></td>
      <td>Produces a <code class="language-plaintext highlighter-rouge">AccountLockedException</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">412</code></td>
      <td>Produces a <code class="language-plaintext highlighter-rouge">AccountExpiredException</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">428</code></td>
      <td>Produces a <code class="language-plaintext highlighter-rouge">AccountPasswordMustChangeException</code></td>
    </tr>
    <tr>
      <td>Other</td>
      <td>Produces a <code class="language-plaintext highlighter-rouge">FailedLoginException</code></td>
    </tr>
  </tbody>
</table>

<h2 id="authentication-throttling">Authentication Throttling</h2>

<p>CAS provides a facility for limiting failed login attempts to support password guessing and related abuse scenarios.
To learn more about this topic, <a href="../installation/Configuring-Authentication-Throttling.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.throttle.username-parameter=username
# cas.authn.throttle.app-code=CAS
</span>
<span class="c"># cas.authn.throttle.failure.threshold=100
# cas.authn.throttle.failure.code=AUTHENTICATION_FAILED
# cas.authn.throttle.failure.range-seconds=60
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>Scheduler settings for this feature are available <a href="Configuration-Properties-Common.html#job-scheduling">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.throttle</code>.</p>

<h3 id="bucket4j">Bucket4j</h3>

<p>Handle capacity planning and system overload protection using rate-limiting and token buckets.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.throttle.bucket4j.range-in-seconds=60
# cas.authn.throttle.bucket4j.capacity=120
# cas.authn.throttle.bucket4j.blocking=true
# cas.authn.throttle.bucket4j.overdraft=0
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="mongodb-1">MongoDb</h3>

<p>Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#mongodb-configuration">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.audit</code>. This feature uses the same data source used by the CAS MongoDb audit facility.</p>

<h3 id="redis-1">Redis</h3>

<p>Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#redis-configuration">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.audit</code>. This feature uses the same data source used by the CAS Redis audit facility.</p>

<h3 id="hazelcast">Hazelcast</h3>

<p>Use a distributed Hazelcast map to record throttled authentication attempts. Hazelcast settings for this feature are available <a href="Configuration-Properties-Common.html#hazelcast-configuration">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.throttle.hazelcast</code>.</p>

<h3 id="database">Database</h3>

<p>Queries the data source used by the CAS audit facility to prevent successive failed login attempts for a particular username from the
same IP address.</p>

<p>Database settings for this feature are available <a href="Configuration-Properties-Common.html#database-settings">here</a> 
under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.throttle.jdbc</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.throttle.jdbc.audit-query=SELECT AUD_DATE FROM COM_AUDIT_TRAIL \
#   WHERE AUD_CLIENT_IP = ? AND AUD_USER = ? \
#   AND AUD_ACTION = ? AND APPLIC_CD = ? \
#   AND AUD_DATE &gt;= ? ORDER BY AUD_DATE DESC
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="couchdb">CouchDb</h3>

<p>Queries the data source used by the CAS audit facility to prevent successive failed login attempts for a particular username from the
same IP address. CouchDb settings for this feature are available <a href="Configuration-Properties-Common.html#couchdb-configuration">here</a> under the configuration key
<code class="language-plaintext highlighter-rouge">cas.authn.throttle</code>. When using this feature the audit facility should be in synchronous mode.</p>

<h2 id="adaptive-authentication">Adaptive Authentication</h2>

<p>Control how CAS authentication should adapt itself to incoming client requests.
To learn more about this topic, <a href="../mfa/Configuring-Adaptive-Authentication.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.adaptive.reject-countries=United.+
# cas.authn.adaptive.reject-browsers=Gecko.+
# cas.authn.adaptive.reject-ip-addresses=127.+
</span>
<span class="c"># cas.authn.adaptive.require-multifactor.mfa-duo=127.+|United.+|Gecko.+
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>Adaptive authentication can also react to specific times in order to trigger multifactor authentication.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.adaptive.require-timed-multifactor[0].provider-id=mfa-duo
# cas.authn.adaptive.require-timed-multifactor[0].on-or-after-hour=20
# cas.authn.adaptive.require-timed-multifactor[0].on-or-before-hour=7
# cas.authn.adaptive.require-timed-multifactor[0].on-days=Saturday,Sunday
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="ip-address-intelligence">IP Address Intelligence</h3>

<p>Examine the client IP address via the following strategies.</p>

<h4 id="rest-adaptive-authentication">REST Adaptive Authentication</h4>

<p>RESTful settings for this feature are available <a href="Configuration-Properties-Common.html#restful-integrations">here</a> 
under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.adaptive.ip-intel.rest</code>.</p>

<h4 id="groovy-adaptive-authentication">Groovy Adaptive Authentication</h4>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.adaptive.ipIntel.groovy.location=file:/etc/cas/config/GroovyIPAddressIntelligenceService.groovy
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="blackdot-adaptive-authentication">BlackDot Adaptive Authentication</h4>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.adaptive.ip-intel.black-dot.url=http://check.getipintel.net/check.php?ip=%s
# cas.authn.adaptive.ip-intel.black-dot.email-address=
# cas.authn.adaptive.ip-intel.black-dot.mode=DYNA_LIST
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="surrogate-authentication">Surrogate Authentication</h2>

<p>Authenticate on behalf of another user.
To learn more about this topic, <a href="../installation/Surrogate-Authentication.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.surrogate.separator=+
# cas.authn.surrogate.tgt.time-to-kill-in-seconds=30
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>Principal resolution and Person Directory settings for this feature 
are available <a href="Configuration-Properties-Common.html#person-directory-principal-resolution">here</a> 
under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.surrogate.principal</code>.</p>

<h3 id="static-surrogate-accounts">Static Surrogate Accounts</h3>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.surrogate.simple.surrogates.casuser=jsmith,jsmith2
# cas.authn.surrogate.simple.surrogates.casuser2=jsmith4,jsmith2
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="json-surrogate-accounts">JSON Surrogate Accounts</h3>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.surrogate.json.location=file:/etc/cas/config/surrogates.json
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="ldap-surrogate-accounts">LDAP Surrogate Accounts</h3>

<p>LDAP settings for this feature are available <a href="Configuration-Properties-Common.html#ldap-connection-settings">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.surrogate.ldap</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.surrogate.ldap.surrogate-search-filter=(&amp;(principal={user})(memberOf=cn=edu:example:cas:something:{user},dc=example,dc=edu))
# cas.authn.surrogate.ldap.member-attribute-name=memberOf
# cas.authn.surrogate.ldap.member-attribute-value-regex=cn=edu:example:cas:something:([^,]+),.+
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="couchdb-surrogate-accounts">CouchDb Surrogate Accounts</h3>

<p>Settings for this feature are available <a href="Configuration-Properties-Common.html#couchdb-configuration">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.surrogate</code>. Surrogates may be stored either as part of the principals profile or as a series of principal/surrogate pair. The default is a key/value pair.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.surrogate.ldap.surrogate-search-filter=(&amp;(principal={user})(memberOf=cn=edu:example:cas:something:{user},dc=example,dc=edu))
# cas.authn.surrogate.ldap.member-attribute-name=memberOf
# cas.authn.surrogate.ldap.member-attribute-value-regex=cn=edu:example:cas:something:([^,]+),.+
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="jdbc-surrogate-accounts">JDBC Surrogate Accounts</h3>

<p>Database settings for this feature are available <a href="Configuration-Properties-Common.html#database-settings">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.surrogate.jdbc</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.surrogate.jdbc.surrogate-search-query=SELECT COUNT(*) FROM surrogate WHERE username=?
# cas.authn.surrogate.jdbc.surrogate-account-query=SELECT surrogate_user AS surrogateAccount FROM surrogate WHERE username=?
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="rest-surrogate-accounts">REST Surrogate Accounts</h3>

<p>RESTful settings for this feature are available <a href="Configuration-Properties-Common.html#restful-integrations">here</a> 
under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.surrogate.rest</code>.</p>

<h3 id="notifications">Notifications</h3>

<p>Email notifications settings for this feature are available <a href="Configuration-Properties-Common.html#email-notifications">here</a> 
under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.surrogate</code>. SMS notifications settings for this feature are 
available <a href="Configuration-Properties-Common.html#sms-notifications">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.surrogate</code>.</p>

<h2 id="risk-based-authentication">Risk-based Authentication</h2>

<p>Evaluate suspicious authentication requests and take action. To learn more about this topic, <a href="../installation/Configuring-RiskBased-Authentication.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.adaptive.risk.threshold=0.6
# cas.authn.adaptive.risk.days-in-recent-history=30
</span>
<span class="c"># cas.authn.adaptive.risk.ip.enabled=false
</span>
<span class="c"># cas.authn.adaptive.risk.agent.enabled=false
</span>
<span class="c"># cas.authn.adaptive.risk.geo-location.enabled=false
</span>
<span class="c"># cas.authn.adaptive.risk.date-time.enabled=false
# cas.authn.adaptive.risk.date-time.window-in-hours=2
</span>
<span class="c"># cas.authn.adaptive.risk.response.block-attempt=false
</span>
<span class="c"># cas.authn.adaptive.risk.response.mfa-provider=
# cas.authn.adaptive.risk.response.risky-authentication-attribute=triggeredRiskBasedAuthentication
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>Email notifications settings for this feature are available <a href="Configuration-Properties-Common.html#email-notifications">here</a> 
under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.adaptive.risk.response</code>. SMS notifications settings for this feature are 
available <a href="Configuration-Properties-Common.html#sms-notifications">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.adaptive.risk.response</code>.</p>

<h2 id="passwordless-authentication">Passwordless Authentication</h2>

<p>To learn more about this topic, <a href="../installation/Passwordless-Authentication.html">please review this guide</a>.</p>

<h3 id="account-stores">Account Stores</h3>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.passwordless.multifactor-authentication-activated=false
# cas.authn.passwordless.delegated-authentication-activated=false
</span>
<span class="c"># cas.authn.passwordless.accounts.simple.casuser=cas@example.org
# cas.authn.passwordless.accounts.groovy.location=file:/etc/cas/config/pwdless.groovy
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>RESTful settings for this feature are available <a href="Configuration-Properties-Common.html#restful-integrations">here</a> 
under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.passwordless.accounts.rest</code>.</p>

<p>LDAP settings for this feature are available <a href="Configuration-Properties-Common.html#ldap-connection-settings">here</a> 
under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.passwordless.accounts.ldap</code>.</p>

<p>MongoDb settings for this feature are available <a href="Configuration-Properties-Common.html#mongodb-configuration">here</a> 
under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.passwordless.accounts.mongo</code>.</p>

<h3 id="token-management">Token Management</h3>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.passwordless.accounts.expire-in-seconds=180
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>RESTful settings for this feature are available <a href="Configuration-Properties-Common.html#restful-integrations">here</a> 
under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.passwordless.tokens.rest</code>. The signing key and the encryption 
key <a href="Configuration-Properties-Common.html#signing--encryption">are both JWKs</a> of size <code class="language-plaintext highlighter-rouge">512</code> and <code class="language-plaintext highlighter-rouge">256</code>. 
Signing &amp; encryption settings for this feature are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under 
the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.passwordless.tokens.rest</code>.</p>

<p>Email notifications settings for this feature are available <a href="Configuration-Properties-Common.html#email-notifications">here</a> 
under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.passwordless.tokens</code>. SMS notifications settings for this feature are 
available <a href="Configuration-Properties-Common.html#sms-notifications">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.passwordless.tokens</code>.</p>

<p>Database settings for this feature are available <a href="Configuration-Properties-Common.html#database-settings">here</a> under 
the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.passwordless.tokens.jpa</code>. Scheduler settings for this feature are available <a href="Configuration-Properties-Common.html#job-scheduling">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.passwordless.tokens.jpa.cleaner</code>.</p>

<h2 id="email-submissions">Email Submissions</h2>

<p>Email notifications settings are available <a href="Configuration-Properties-Common.html#email-notifications">here</a>.</p>

<h2 id="sms-messaging">SMS Messaging</h2>

<p>To learn more about this topic, <a href="../notifications/SMS-Messaging-Configuration.html">please review this guide</a>.</p>

<h3 id="groovy-4">Groovy</h3>

<p>Send text messages using a Groovy script.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.sms-provider.groovy.location=file:/etc/cas/config/SmsSender.groovy
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="rest-3">REST</h3>

<p>Send text messages using a RESTful API. RESTful settings for this feature are 
available <a href="Configuration-Properties-Common.html#restful-integrations">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.sms-provider.rest</code>.</p>

<h3 id="twilio">Twilio</h3>

<p>Send text messaging using Twilio.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># cas.sms-provider.twilio.account-id=
# cas.sms-provider.twilio.token=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="textmagic">TextMagic</h3>

<p>Send text messaging using TextMagic.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre><span class="c"># cas.sms-provider.text-magic.username=
# cas.sms-provider.text-magic.token=
# cas.sms-provider.text-magic.debugging=false
# cas.sms-provider.text-magic.password=
# cas.sms-provider.text-magic.read-timeout=5000
# cas.sms-provider.text-magic.connection-timeout=5000
# cas.sms-provider.text-magic.write-timeout=5000
# cas.sms-provider.text-magic.verifying-ssl=true
# cas.sms-provider.text-magic.api-key=
# cas.sms-provider.text-magic.api-key-prefix=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="clickatell">Clickatell</h3>

<p>Send text messaging using Clickatell.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># cas.sms-provider.clickatell.server-url=https://platform.clickatell.com/messages
# cas.sms-provider.clickatell.token=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="nexmo">Nexmo</h3>

<p>Send text messaging using Nexmo.
Nexmo needs at least apiSecret or signatureSecret field set.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c"># cas.sms-provider.nexmo.api-token=
# cas.sms-provider.nexmo.api-secret=
# cas.sms-provider.nexmo.signature-secret=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="amazon-sns">Amazon SNS</h3>

<p>Send text messaging using Amazon SNS.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c"># cas.sms-provider.sns.sender-id=
# cas.sms-provider.sns.max-price=
# cas.sms-provider.sns.sms-type=Transactional
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>AWS settings for this feature are available <a href="Configuration-Properties-Common.html#amazon-integration-settings">here</a> 
under the configuration key <code class="language-plaintext highlighter-rouge">cas.sms-provider.sns</code>.</p>

<h2 id="geotracking">GeoTracking</h2>

<p>To learn more about this topic, <a href="../installation/GeoTracking-Authentication-Requests.html">please review this guide</a>.</p>

<h3 id="googlemaps-geotracking">GoogleMaps GeoTracking</h3>

<p>Used to geo-profile authentication events.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="c"># cas.google-maps.api-key=
# cas.google-maps.client-id=
# cas.google-maps.client-secret=
# cas.google-maps.connect-timeout=3000
# cas.google-maps.google-apps-engine=false
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="maxmind-geotracking">Maxmind GeoTracking</h3>

<p>Used to geo-profile authentication events.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># cas.maxmind.city-database=file:/etc/cas/maxmind/GeoLite2-City.mmdb
# cas.maxmind.country-database=file:/etc/cas/maxmind/GeoLite2-Country.mmdb
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="cassandra-authentication">Cassandra Authentication</h2>

<p>To learn more about this topic, <a href="../installation/Cassandra-Authentication.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.cassandra.username-attribute=
# cas.authn.cassandra.password-attribute=
# cas.authn.cassandra.table-name=
# cas.authn.cassandra.username=
# cas.authn.cassandra.password=
# cas.authn.cassandra.query=SELECT * FROM %s WHERE %s = ? ALLOW FILTERING
# cas.authn.cassandra.name=
# cas.authn.cassandra.order=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>Common Cassandra settings for this feature are available <a href="Configuration-Properties-Common.html#cassandra-configuration">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.cassandra</code>.</p>

<p>Principal transformation settings for this feature are available <a href="Configuration-Properties-Common.html#authentication-principal-transformation">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.cassandra</code>.</p>

<p>Password encoding settings for this feature are available <a href="Configuration-Properties-Common.html#password-encoding">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.cassandra</code>.</p>

<h2 id="digest-authentication">Digest Authentication</h2>

<p>To learn more about this topic, <a href="../installation/Digest-Authentication.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.digest.users.casuser=3530292c24102bac7ced2022e5f1036a
# cas.authn.digest.users.anotheruser=7530292c24102bac7ced2022e5f1036b
# cas.authn.digest.realm=CAS
# cas.authn.digest.name=
# cas.authn.digest.order=
# cas.authn.digest.authentication-method=auth
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="radius-authentication">Radius Authentication</h2>

<p>To learn more about this topic, <a href="../mfa/RADIUS-Authentication.html">please review this guide</a>.</p>

<p>Principal transformation settings for this feature are available <a href="Configuration-Properties-Common.html#authentication-principal-transformation">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.radius</code>.</p>

<p>Password encoding  settings for this feature are available <a href="Configuration-Properties-Common.html#password-encoding">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.radius</code>.</p>

<p>Radius  settings for this feature are available <a href="Configuration-Properties-Common.html#radius-configuration">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.radius</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.radius.name=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="file-whitelist-authentication">File (Whitelist) Authentication</h2>

<p>To learn more about this topic, <a href="../installation/Whitelist-Authentication.html">please review this guide</a>.</p>

<p>Principal transformation settings for this feature are available <a href="Configuration-Properties-Common.html#authentication-principal-transformation">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.file</code>.</p>

<p>Password encoding  settings for this feature are available <a href="Configuration-Properties-Common.html#password-encoding">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.file</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.file.separator=::
# cas.authn.file.filename=file:///path/to/users/file
# cas.authn.file.name=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="groovy-authentication">Groovy Authentication</h2>

<p>To learn more about this topic, <a href="../installation/Groovy-Authentication.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.groovy.order=0
# cas.authn.groovy.name=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="json-whitelist-authentication">JSON (Whitelist) Authentication</h2>

<p>To learn more about this topic, <a href="../installation/Whitelist-Authentication.html">please review this guide</a>.</p>

<p>Principal transformation settings for this feature are available <a href="Configuration-Properties-Common.html#authentication-principal-transformation">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.json</code>.</p>

<p>Password encoding  settings for this feature are available <a href="Configuration-Properties-Common.html#password-encoding">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.json</code>.</p>

<p>Password policy settings for this feature are available <a href="Configuration-Properties-Common.html#password-policy-settings">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.json.passwordPolicy</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.json.location=file:///path/to/users/file.json
# cas.authn.json.name=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="reject-users-blacklist-authentication">Reject Users (Blacklist) Authentication</h2>

<p>To learn more about this topic, <a href="../installation/Blacklist-Authentication.html">please review this guide</a>.</p>

<p>Principal transformation settings for this feature are available <a href="Configuration-Properties-Common.html#authentication-principal-transformation">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.reject</code>.</p>

<p>Password encoding  settings for this feature are available <a href="Configuration-Properties-Common.html#password-encoding">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.reject</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.reject.users=user1,user2
# cas.authn.reject.name=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="database-authentication">Database Authentication</h2>

<p>To learn more about this topic, <a href="../installation/Database-Authentication.html">please review this guide</a>.</p>

<h3 id="query-database-authentication">Query Database Authentication</h3>

<p>Authenticates a user by comparing the user password (which can be encoded with a password encoder)
against the password on record determined by a configurable database query.</p>

<p>Database settings for this feature are available <a href="Configuration-Properties-Common.html#database-settings">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.jdbc.query[0]</code>.</p>

<p>Principal transformation settings for this feature are available <a href="Configuration-Properties-Common.html#authentication-principal-transformation">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.jdbc.query[0]</code>.</p>

<p>Password encoding settings for this feature are available <a href="Configuration-Properties-Common.html#password-encoding">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.jdbc.query[0]</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.jdbc.query[0].credential-criteria=
# cas.authn.jdbc.query[0].name=
# cas.authn.jdbc.query[0].order=0
</span>
<span class="c"># cas.authn.jdbc.query[0].sql=SELECT * FROM table WHERE name=?
# cas.authn.jdbc.query[0].field-password=password
# cas.authn.jdbc.query[0].field-expired=
# cas.authn.jdbc.query[0].field-disabled=
# cas.authn.jdbc.query[0].principal-attribute-list=sn,cn:commonName,givenName
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="search-database-authentication">Search Database Authentication</h3>

<p>Searches for a user record by querying against a username and password; the user is authenticated if at least one result is found.</p>

<p>Database settings for this feature are available <a href="Configuration-Properties-Common.html#database-settings">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.jdbc.search[0]</code>.</p>

<p>Principal transformation settings for this feature are available <a href="Configuration-Properties-Common.html#authentication-principal-transformation">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.jdbc.search[0]</code>.</p>

<p>Password encoding  settings for this feature are available <a href="Configuration-Properties-Common.html#password-encoding">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.jdbc.search[0]</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.jdbc.search[0].field-user=
# cas.authn.jdbc.search[0].table-users=
# cas.authn.jdbc.search[0].field-password=
# cas.authn.jdbc.search[0].credential-criteria=
# cas.authn.jdbc.search[0].name=
# cas.authn.jdbc.search[0].order=0
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="bind-database-authentication">Bind Database Authentication</h3>

<p>Authenticates a user by attempting to create a database connection using the username and (hashed) password.</p>

<p>Database settings for this feature are available <a href="Configuration-Properties-Common.html#database-settings">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.jdbc.bind[0]</code>.</p>

<p>Principal transformation settings for this feature are available <a href="Configuration-Properties-Common.html#authentication-principal-transformation">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.jdbc.bind[0]</code>.</p>

<p>Password encoding  settings for this feature are available <a href="Configuration-Properties-Common.html#password-encoding">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.jdbc.bind[0]</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.jdbc.bind[0].credential-criteria=
# cas.authn.jdbc.bind[0].name=
# cas.authn.jdbc.bind[0].order=0
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="encode-database-authentication">Encode Database Authentication</h3>

<p>A JDBC querying handler that will pull back the password and the private salt value for a user and validate the encoded
password using the public salt value. Assumes everything is inside the same database table. Supports settings for
number of iterations as well as private salt.</p>

<p>This password encoding method combines the private Salt and the public salt which it prepends to the password before hashing.
If multiple iterations are used, the bytecode hash of the first iteration is rehashed without the salt values. The final hash
is converted to hex before comparing it to the database value.</p>

<p>Database settings for this feature are available <a href="Configuration-Properties-Common.html#database-settings">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.jdbc.encode[0]</code>.</p>

<p>Principal transformation settings for this feature are available <a href="Configuration-Properties-Common.html#authentication-principal-transformation">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.jdbc.encode[0]</code>.</p>

<p>Password encoding  settings for this feature are available <a href="Configuration-Properties-Common.html#password-encoding">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.jdbc.encode[0]</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.jdbc.encode[0].number-of-iterations=0
# cas.authn.jdbc.encode[0].number-of-iterations-field-name=numIterations
# cas.authn.jdbc.encode[0].salt-field-name=salt
# cas.authn.jdbc.encode[0].static-salt=
# cas.authn.jdbc.encode[0].sql=
# cas.authn.jdbc.encode[0].algorithm-name=
# cas.authn.jdbc.encode[0].password-field-name=password
# cas.authn.jdbc.encode[0].expired-field-name=
# cas.authn.jdbc.encode[0].disabled-field-name=
</span>
<span class="c"># cas.authn.jdbc.encode[0].credential-criteria=
# cas.authn.jdbc.encode[0].name=
# cas.authn.jdbc.encode[0].order=0
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="couchdb-authentication">CouchDb Authentication</h2>

<p>To learn more about this topic, <a href="../installation/CouchDb-Authentication.html">please review this guide</a>.</p>

<p>Principal transformation settings for this feature are available <a href="Configuration-Properties-Common.html#authentication-principal-transformation">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.couch-db</code>.
Password encoding  settings for this feature are available <a href="Configuration-Properties-Common.html#password-encoding">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.couch-db</code>.</p>

<p>Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#couchdb-configuration">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.couch-db.attributes=
# cas.authn.couch-db.username-attribute=username
# cas.authn.couch-db.password-attribute=password
# cas.authn.couch-db.name=
# cas.authn.couch-db.order=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="redis-authentication">Redis Authentication</h2>

<p>To learn more about this topic, <a href="../installation/Redis-Authentication.html">please review this guide</a>.</p>

<p>Principal transformation settings for this feature are available <a href="Configuration-Properties-Common.html#authentication-principal-transformation">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.redis</code>. Password encoding  settings for this feature are available <a href="Configuration-Properties-Common.html#password-encoding">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.redis</code>.</p>

<p>Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#redis-configuration">here</a> 
under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.redis.name=
# cas.authn.redis.order=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="mongodb-authentication">MongoDb Authentication</h2>

<p>To learn more about this topic, <a href="../installation/MongoDb-Authentication.html">please review this guide</a>.</p>

<p>Principal transformation settings for this feature are available <a href="Configuration-Properties-Common.html#authentication-principal-transformation">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.mongo</code>. 
Password encoding  settings for this feature are available <a href="Configuration-Properties-Common.html#password-encoding">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.mongo</code>.</p>

<p>Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#mongodb-configuration">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.mongo.attributes=
# cas.authn.mongo.username-attribute=username
# cas.authn.mongo.password-attribute=password
# cas.authn.mongo.principal-id-attribute=
# cas.authn.mongo.name=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="ldap-authentication">LDAP Authentication</h2>

<p>CAS authenticates a username/password against an LDAP directory such as Active Directory or OpenLDAP.
There are numerous directory architectures and we provide configuration for four common cases.</p>

<p>Note that CAS will automatically create the appropriate components internally
based on the settings specified below. If you wish to authenticate against more than one LDAP
server, simply increment the index and specify the settings for the next LDAP server.</p>

<p><strong>Note:</strong> Attributes retrieved as part of LDAP authentication are merged with all attributes
retrieved from <a href="#authentication-attributes">other attribute repository sources</a>, if any.
Attributes retrieved directly as part of LDAP authentication trump all other attributes.</p>

<p>To learn more about this topic, <a href="../installation/LDAP-Authentication.html">please review this guide</a>. 
LDAP settings for this feature are available <a href="Configuration-Properties-Common.html#ldap-connection-settings">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.ldap[0]</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="c">#
# Define attributes to be retrieved from LDAP as part of the same authentication transaction
# The left-hand size notes the source while the right-hand size indicate an optional renaming/remapping
# of the attribute definition. The same attribute name is allowed to be mapped multiple times to
# different attribute names.
</span>
<span class="c"># cas.authn.ldap[0].principal-attribute-list=sn,cn:commonName,givenName,eduPersonTargettedId:SOME_IDENTIFIER
</span>
<span class="c"># cas.authn.ldap[0].collect-dn-attribute=false
# cas.authn.ldap[0].principal-dn-attribute-name=principalLdapDn
# cas.authn.ldap[0].allow-multiple-principal-attribute-values=true
# cas.authn.ldap[0].allow-missing-principal-attribute-value=true
# cas.authn.ldap[0].credential-criteria=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="ldap-password-policy">LDAP Password Policy</h3>

<p>LDAP password policy settings for this feature are available <a href="Configuration-Properties-Common.html#password-policy-settings">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.ldap[0].passwordPolicy</code>.</p>

<h3 id="ldap-password-encoding--principal-transformation">LDAP Password Encoding &amp; Principal Transformation</h3>

<p>Principal transformation settings for this feature are available <a href="Configuration-Properties-Common.html#authentication-principal-transformation">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.ldap[0]</code>.</p>

<p>Password encoding  settings for this feature are available <a href="Configuration-Properties-Common.html#password-encoding">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.ldap[0]</code>.</p>

<h2 id="rest-authentication">REST Authentication</h2>

<p>This allows the CAS server to reach to a remote REST endpoint via a <code class="language-plaintext highlighter-rouge">POST</code>.
To learn more about this topic, <a href="../installation/Rest-Authentication.html">please review this guide</a>. Password encoding  settings for this feature are available <a href="Configuration-Properties-Common.html#password-encoding">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.rest</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.rest.uri=https://...
# cas.authn.rest.name=
# cas.authn.rest.charset=US-ASCII
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="google-apps-authentication">Google Apps Authentication</h2>

<p>Authenticate via CAS into Google Apps services and applications.
To learn more about this topic, <a href="../integration/Google-Apps-Integration.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c"># cas.google-apps.public-key-location=file:/etc/cas/public.key
# cas.google-apps.key-algorithm=RSA
# cas.google-apps.private-key-location=file:/etc/cas/private.key
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="openid-authentication">OpenID Authentication</h2>

<p>Allow CAS to become an OpenID authentication provider. To learn more about this topic, <a href="../protocol/OpenID-Protocol.html">please review this guide</a>.</p>

<p>Principal resolution and Person Directory settings for this feature 
are available <a href="Configuration-Properties-Common.html#person-directory-principal-resolution">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.openid.principal</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.openid.enforce-rp-id=false
# cas.authn.openid.name=
# cas.authn.openid.order=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="spnego-authentication">SPNEGO Authentication</h2>

<p>To learn more about this topic, <a href="../installation/SPNEGO-Authentication.html">please review this guide</a>.</p>

<p>Principal resolution and Person Directory settings for this feature are available <a href="Configuration-Properties-Common.html#person-directory-principal-resolution">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.spnego.principal</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.spnego.mixed-mode-authentication=false
# cas.authn.spnego.supported-browsers=MSIE,Trident,Firefox,AppleWebKit
# cas.authn.spnego.send401-on-authentication-failure=true
# cas.authn.spnego.ntlm-allowed=true
# cas.authn.spnego.principal-with-domain-name=false
# cas.authn.spnego.name=
# cas.authn.spnego.ntlm=false
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="webflow-configuration">Webflow configuration</h3>

<p>Webflow auto-configuration settings for this feature are available <a href="Configuration-Properties-Common.html#webflow-auto-configuration">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.spnego.webflow</code>.</p>

<h3 id="system-settings">System Settings</h3>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.spnego.system.kerberos-conf=
# cas.authn.spnego.system.login-conf=
# cas.authn.spnego.system.kerberos-realm=EXAMPLE.COM
# cas.authn.spnego.system.kerberos-debug=true
# cas.authn.spnego.system.use-subject-creds-only=false
# cas.authn.spnego.system.kerberos-kdc=172.10.1.10
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="spnego-authentication-settings">Spnego Authentication Settings</h3>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.spnego.properties[0].cache-policy=600
# cas.authn.spnego.properties[0].jcifs-domain-controller=
# cas.authn.spnego.properties[0].jcifs-domain=
# cas.authn.spnego.properties[0].jcifs-password=
# cas.authn.spnego.properties[0].jcifs-username=
# cas.authn.spnego.properties[0].jcifs-service-password=
# cas.authn.spnego.properties[0].timeout=300000
# cas.authn.spnego.properties[0].jcifs-service-principal=HTTP/cas.example.com@EXAMPLE.COM
# cas.authn.spnego.properties[0].jcifs-netbios-wins=
</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="spnego-client-selection-strategy">SPNEGO Client Selection Strategy</h3>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.spnego.host-name-client-action-strategy=hostnameSpnegoClientAction
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="spnego-client-selection-hostname">SPNEGO Client Selection Hostname</h3>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.spnego.alternative-remote-host-attribute=alternateRemoteHeader
# cas.authn.spnego.ips-to-check-pattern=127.+
# cas.authn.spnego.dns-timeout=2000
# cas.authn.spnego.host-name-pattern-string=.+
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="spnego-ldap-integration">SPNEGO LDAP Integration</h3>

<p>LDAP settings for this feature are available <a href="Configuration-Properties-Common.html#ldap-connection-settings">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.spnego.ldap</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.spnego.spnego-attribute-name=distinguishedName
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="ntlm-authentication">NTLM Authentication</h3>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.ntlm.include-pattern=
# cas.authn.ntlm.load-balance=true
# cas.authn.ntlm.domain-controller=
# cas.authn.ntlm.name=
# cas.authn.ntlm.order=
# cas.authn.ntlm.enabled=false
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="jaas-authentication">JAAS Authentication</h2>

<p>To learn more about this topic, <a href="../installation/JAAS-Authentication.html">please review this guide</a>. Principal transformation settings for this feature are available <a href="Configuration-Properties-Common.html#authentication-principal-transformation">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.jaas[0]</code>. Password encoding  settings for this feature are available <a href="Configuration-Properties-Common.html#password-encoding">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.jaas[0]</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.jaas[0].realm=CAS
# cas.authn.jaas[0].kerberos-kdc-system-property=
# cas.authn.jaas[0].kerberos-realm-system-property
# cas.authn.jaas[0].name=
# cas.authn.jaas[0].order=
# cas.authn.jaas[0].credential-criteria=
# cas.authn.jaas[0].login-config-type=JavaLoginConfig
# cas.authn.jaas[0].login-configuration-file=/path/to/jaas.con
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>Principal resolution and Person Directory settings for this feature 
are available <a href="Configuration-Properties-Common.html#person-directory-principal-resolution">here</a> 
under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.jaas[0].principal</code>.</p>

<p>Password policy settings for this feature are available <a href="Configuration-Properties-Common.html#password-policy-settings">here</a> 
under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.jaas[0].password-policy</code>.</p>

<h2 id="gua-authentication">GUA Authentication</h2>

<p>To learn more about this topic, <a href="../installation/GUA-Authentication.html">please review this guide</a>.</p>

<h3 id="ldap-repository">LDAP Repository</h3>

<p>LDAP settings for this feature are available <a href="Configuration-Properties-Common.html#ldap-connection-settings">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.gua.ldap</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.gua.ldap.image-attribute=userImageIdentifier
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="static-resource-repository">Static Resource Repository</h3>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.gua.resource.location=file:/path/to/image.jpg
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="jwttoken-authentication">JWT/Token Authentication</h2>

<p>To learn more about this topic, <a href="../installation/JWT-Authentication.html">please review this guide</a>. Principal transformation settings for this feature are available <a href="Configuration-Properties-Common.html#authentication-principal-transformation">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.token</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.token.name=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="webflow-configuration-1">Webflow configuration</h3>

<p>Webflow auto-configuration settings for this feature are available <a href="Configuration-Properties-Common.html#webflow-auto-configuration">here</a> under 
the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.token.webflow</code>.</p>

<h3 id="jwt-tickets">JWT Tickets</h3>

<p>Allow CAS tickets through various protocol channels to be created as JWTs. See <a href="../installation/Configure-ServiceTicket-JWT.html">this guide</a> 
or <a href="../protocol/REST-Protocol.html">this guide</a> for more info.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.token.crypto.encryption-enabled=true
# cas.authn.token.crypto.signing-enabled=true
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>The signing key and the encryption key <a href="Configuration-Properties-Common.html#signing--encryption">are both JWKs</a> of size <code class="language-plaintext highlighter-rouge">512</code> and <code class="language-plaintext highlighter-rouge">256</code>. Signing &amp; encryption settings for this feature are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.token</code>.</p>

<h2 id="couchbase-authentication">Couchbase Authentication</h2>

<p>To learn more about this topic, <a href="../installation/Couchbase-Authentication.html">please review this guide</a>.</p>

<p>Principal transformation settings for this feature are available <a href="Configuration-Properties-Common.html#authentication-principal-transformation">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.couchbase</code>.</p>

<p>Password encoding  settings for this feature are available <a href="Configuration-Properties-Common.html#password-encoding">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.couchbase</code>.</p>

<p>Database settings for this feature are available <a href="Configuration-Properties-Common.html#couchbase-integration-settings">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.couchbase</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.couchbase.username-attribute=username
# cas.authn.couchbase.password-attribute=psw
</span>
<span class="c"># cas.authn.couchbase.name=
# cas.authn.couchbase.order=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="amazon-cloud-directory-authentication">Amazon Cloud Directory Authentication</h2>

<p>To learn more about this topic, <a href="../installation/AWS-CloudDirectory-Authentication.html">please review this guide</a>.</p>

<p>Principal transformation settings for this feature are available <a href="Configuration-Properties-Common.html#authentication-principal-transformation">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.cloud-directory</code>.
Password encoding  settings for this feature are available <a href="Configuration-Properties-Common.html#password-encoding">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.cloud-directory</code>.</p>

<p>AWS settings for this feature are available <a href="Configuration-Properties-Common.html#amazon-integration-settings">here</a> 
under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.cloud-directory</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.cloud-directory.directory-arn=
# cas.authn.cloud-directory.schema-arn=
# cas.authn.cloud-directory.facet-name=
</span>
<span class="c"># cas.authn.cloud-directory.username-attribute-name=
# cas.authn.cloud-directory.password-attribute-name=
# cas.authn.cloud-directory.username-index-path=
</span>
<span class="c"># cas.authn.cloud-directory.name=
# cas.authn.cloud-directory.order=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="amazon-cognito-authentication">Amazon Cognito Authentication</h2>

<p>To learn more about this topic, <a href="../installation/AWS-Cognito-Authentication.html">please review this guide</a>.</p>

<p>Principal transformation settings for this feature are available <a href="Configuration-Properties-Common.html#authentication-principal-transformation">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.cognito</code>.
Password encoding  settings for this feature are available <a href="Configuration-Properties-Common.html#password-encoding">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.cognito</code>.</p>

<p>AWS settings for this feature are available <a href="Configuration-Properties-Common.html#amazon-integration-settings">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.cognito</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.cognito.name=
# cas.authn.cognito.order=
</span>
<span class="c"># cas.authn.cognito.client-id=
# cas.authn.cognito.user-pool-id=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="okta-authentication">Okta Authentication</h2>

<p>To learn more about this topic, <a href="../installation/Okta-Authentication.html">please review this guide</a>.</p>

<p>Principal transformation settings for this feature are available <a href="Configuration-Properties-Common.html#authentication-principal-transformation">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.okta</code>.
Password encoding settings for this feature are available <a href="Configuration-Properties-Common.html#password-encoding">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.okta</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.okta.name=
# cas.authn.okta.order=  
# cas.authn.okta.credential-criteria=
</span>
<span class="c"># cas.authn.okta.organization-url=     
</span>
<span class="c"># cas.authn.okta.connection-timeout=5000
# cas.authn.okta.proxy-username=
# cas.authn.okta.proxy-password=
# cas.authn.okta.proxy-host=
# cas.authn.okta.proxy-port=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="microsoft-azure-active-directory-authentication">Microsoft Azure Active Directory Authentication</h2>

<p>To learn more about this topic, <a href="../installation/Azure-ActiveDirectory-Authentication.html">please review this guide</a>.</p>

<p>Principal transformation settings for this feature are available <a href="Configuration-Properties-Common.html#authentication-principal-transformation">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.azure-active-directory</code>.
Password encoding  settings for this feature are available <a href="Configuration-Properties-Common.html#password-encoding">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.azure-active-directory</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.azure-active-directory.name=
# cas.authn.azure-active-directory.order=
# cas.authn.azure-active-directory.credential-criteria=
</span>
<span class="c"># cas.authn.azure-active-directory.client-id=
# cas.authn.azure-active-directory.login-url=https://login.microsoftonline.com/common/
# cas.authn.azure-active-directory.resource=https://graph.microsoft.com/
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="soap-authentication">SOAP Authentication</h2>

<p>To learn more about this topic, <a href="../installation/SOAP-Authentication.html">please review this guide</a>.</p>

<p>Principal transformation settings for this feature are available <a href="Configuration-Properties-Common.html#authentication-principal-transformation">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.soap</code>.
Password encoding  settings for this feature are available <a href="Configuration-Properties-Common.html#password-encoding">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.soap</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.soap.name=
# cas.authn.soap.order=
# cas.authn.soap.url=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="remote-address-authentication">Remote Address Authentication</h2>

<p>To learn more about this topic, <a href="../installation/Remote-Address-Authentication.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.remote-address.ip-address-range=
# cas.authn.remote-address.name=
# cas.authn.remote-address.order=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="accept-users-authentication">Accept Users Authentication</h2>

<div class="alert alert-warning"><strong>Default Credentials</strong><p>To test the default authentication scheme in CAS,
use <strong>casuser</strong> and <strong>Mellon</strong> as the username and password respectively. These are automatically
configured via the static authentication handler, and <strong>MUST</strong> be removed from the configuration
prior to production rollouts.</p></div>

<p>Principal transformation settings for this feature are available <a href="Configuration-Properties-Common.html#authentication-principal-transformation">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.accept</code>.
Password policy settings for this feature are available <a href="Configuration-Properties-Common.html#password-policy-settings">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.accept.passwordPolicy</code>.
Password encoding settings for this feature are available <a href="Configuration-Properties-Common.html#password-encoding">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.accept</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.accept.users=
# cas.authn.accept.name=
# cas.authn.accept.credential-criteria=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="x509-authentication">X509 Authentication</h2>

<p>To learn more about this topic, <a href="../installation/X509-Authentication.html">please review this guide</a>.</p>

<h3 id="webflow-configuration-2">Webflow configuration</h3>

<p>Webflow auto-configuration settings for this feature are available <a href="Configuration-Properties-Common.html#webflow-auto-configuration">here</a> under 
the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.x509.webflow</code>.</p>

<h3 id="principal-resolution-1">Principal Resolution</h3>

<p>X.509 principal resolution can act on the following principal types:</p>

<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">SERIAL_NO</code></td>
      <td>Resolve the principal by the serial number with a configurable <strong>radix</strong>, ranging from 2 to 36. If <code>radix</code> is <code>16</code>, then the serial number could be filled with leading zeros to even the number of digits.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">SERIAL_NO_DN</code></td>
      <td>Resolve the principal by serial number and issuer dn.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">SUBJECT</code></td>
      <td>Resolve the principal by extracting one or more attribute values from the certificate subject DN and combining them with intervening delimiters.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">SUBJECT_ALT_NAME</code></td>
      <td>Resolve the principal by the subject alternative name extension. (type: otherName)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">SUBJECT_DN</code></td>
      <td>The default type; Resolve the principal by the certificate’s subject dn.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CN_EDIPI</code></td>
      <td>Resolve the principal by the Electronic Data Interchange Personal Identifier (EDIPI) from the Common Name.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RFC822_EMAIL</code></td>
      <td>Resolve the principal by the <a href="https://tools.ietf.org/html/rfc5280#section-4.2.1.6">RFC822 Name</a> (aka E-mail address) type of subject alternative name field.</td>
    </tr>
  </tbody>
</table>

<p>For the <code class="language-plaintext highlighter-rouge">CN_EDIPI</code>,<code class="language-plaintext highlighter-rouge">SUBJECT_ALT_NAME</code>, and <code class="language-plaintext highlighter-rouge">RFC822_EMAIL</code> principal resolvers, since not all certificates have those attributes, 
you may specify the following property in order to have a different attribute from the certificate used as the principal.<br />
If no alternative attribute is specified then the principal will be null and CAS will fail auth or use a different authenticator.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.x509.alternate-principal-attribute=subjectDn|sigAlgOid|subjectX500Principal|x509Rfc822Email|x509subjectUPN
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="crl-fetching--revocation">CRL Fetching / Revocation</h3>

<p>CAS provides a flexible policy engine for certificate revocation checking. This facility arose due to lack of configurability
in the revocation machinery built into the JSSE.</p>

<p>Available policies cover the following events:</p>

<ul>
  <li>CRL Expiration</li>
  <li>CRL Unavailability</li>
</ul>

<p>In either event, the following options are available:</p>

<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ALLOW</code></td>
      <td>Allow authentication to proceed.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">DENY</code></td>
      <td>Deny authentication and block.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">THRESHOLD</code></td>
      <td>Applicable to CRL expiration, throttle the request whereby expired data is permitted up to a threshold period of time but not afterward.</td>
    </tr>
  </tbody>
</table>

<p>Revocation certificate checking can be carried out in one of the following ways:</p>

<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">NONE</code></td>
      <td>No revocation is performed.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CRL</code></td>
      <td>The CRL URI(s) mentioned in the certificate <code class="language-plaintext highlighter-rouge">cRLDistributionPoints</code> extension field. Caches are available to prevent excessive IO against CRL endpoints; CRL data is fetched if does not exist in the cache or if it is expired.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RESOURCE</code></td>
      <td>A CRL hosted at a fixed location. The CRL is fetched at periodic intervals and cached.</td>
    </tr>
  </tbody>
</table>

<p>To fetch CRLs, the following options are available:</p>

<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RESOURCE</code></td>
      <td>By default, all revocation checks use fixed resources to fetch the CRL resource from the specified location.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">LDAP</code></td>
      <td>A CRL resource may be fetched from a pre-configured attribute, in the event that the CRL resource location is an LDAP URI</td>
    </tr>
  </tbody>
</table>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.x509.crl-expired-policy=DENY|ALLOW|THRESHOLD
# cas.authn.x509.crl-unavailable-policy=DENY|ALLOW|THRESHOLD
# cas.authn.x509.crl-resource-expired-policy=DENY|ALLOW|THRESHOLD
# cas.authn.x509.crl-resource-unavailable-policy=DENY|ALLOW|THRESHOLD
</span>
<span class="c"># cas.authn.x509.revocation-checker=NONE|CRL|RESOURCE
# cas.authn.x509.crl-fetcher=RESOURCE|LDAP
</span>
<span class="c"># cas.authn.x509.crl-resources[0]=file:/...
</span>
<span class="c"># cas.authn.x509.cache-max-elements-in-memory=1000
# cas.authn.x509.cache-disk-overflow=false
# cas.authn.x509.cache-disk-size=100MB
# cas.authn.x509.cache-eternal=false
# cas.authn.x509.cache-time-to-live-seconds=7200
</span>
<span class="c"># cas.authn.x509.check-key-usage=false
# cas.authn.x509.revocation-policy-threshold=172800
</span>
<span class="c"># cas.authn.x509.reg-ex-subject-dn-pattern=.+
# cas.authn.x509.reg-ex-trusted-issuer-dn-pattern=.+
</span>
<span class="c"># cas.authn.x509.name=
# cas.authn.x509.order=
</span>
<span class="c"># cas.authn.x509.principal-descriptor=
# cas.authn.x509.max-path-length=1
# cas.authn.x509.throw-on-fetch-failure=false
</span>
<span class="c"># cas.authn.x509.check-all=false
# cas.authn.x509.require-key-usage=false
# cas.authn.x509.refresh-interval-seconds=3600
# cas.authn.x509.max-path-length-allow-unspecified=false
</span>
<span class="c"># SUBJECT_DN
# cas.authn.x509.subject-dn.format=[DEFAULT,RFC1779,RFC2253,CANONICAL]
</span></pre></td></tr></tbody></table></code></pre></div></div>
<p>| Type          | Description
|—————|———————————————————————-
| <code class="language-plaintext highlighter-rouge">DEFAULT</code>     | Calls certificate.getSubjectDN() method for backwards compatibility but that method is <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/cert/X509Certificate.html#getIssuerDN()">“denigrated”</a>. 
| <code class="language-plaintext highlighter-rouge">RFC1779</code>     | Calls <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/javax/security/auth/x500/X500Principal.html#getName()">X500Principal.getName(“RFC1779”)</a> which emits a subject DN with the attribute keywords defined in RFC 1779 (CN, L, ST, O, OU, C, STREET). Any other attribute type is emitted as an OID.
| <code class="language-plaintext highlighter-rouge">RFC2253</code>     | Calls <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/javax/security/auth/x500/X500Principal.html#getName()">X500Principal.getName(“RFC2253”)</a> which emits a subject DN with the attribute keywords defined in RFC 2253 (CN, L, ST, O, OU, C, STREET, DC, UID). Any other attribute type is emitted as an OID.
| <code class="language-plaintext highlighter-rouge">CANONICAL</code>   | Calls X500Principal.getName(“CANONICAL” which emits a subject DN that starts with RFC 2253 and applies additional canonicalizations described in the <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/javax/security/auth/x500/X500Principal.html#getName()">javadoc</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="rouge-code"><pre><span class="c"># SERIAL_NO_DN
# cas.authn.x509.serial-no-dn.serial-number-prefix=SERIALNUMBER=
# cas.authn.x509.serial-no-dn.value-delimiter=,
</span>
<span class="c"># SERIAL_NO
# cas.authn.x509.serial-no.principal-s-n-radix=10
# cas.authn.x509.serial-no.principal-hex-s-n-zero-padding=false
</span>
<span class="c"># SUBJECT_ALT_NAME
# cas.authn.x509.subject-alt-name.alternate-principal-attribute=[sigAlgOid|subjectDn|subjectX500Principal|x509Rfc822Email]
</span>
<span class="c"># CN_EDIPI 
# cas.authn.x509.cn-edipi.alternate-principal-attribute=[sigAlgOid|subjectDn|subjectX500Principal|x509Rfc822Email|x509subjectUPN]
</span>
<span class="c"># RFC822_EMAIL 
# cas.authn.x509.rfc822-email.alternate-principal-attribute=[sigAlgOid|subjectDn|subjectX500Principal|x509subjectUPN]
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="x509-certificate-extraction">X509 Certificate Extraction</h3>

<p>These settings can be used to turn on and configure CAS to
extract an X509 certificate from a base64 encoded certificate
on a HTTP request header (placed there by a proxy in front of CAS).
If this is set to true, it is important that the proxy cannot
be bypassed by users and that the proxy ensures the header
never originates from the browser.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.x509.extract-cert=false
# cas.authn.x509.ssl-header-name=ssl_client_cert
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>The specific parsing logic for the certificate is compatible
with the Tomcat SSLValve which can work with headers set by
Apache HTTPD, Nginx, Haproxy, BigIP F5, etc.</p>

<h3 id="x509-principal-resolution">X509 Principal Resolution</h3>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.x509.principal-type=SERIAL_NO|SERIAL_NO_DN|SUBJECT|SUBJECT_ALT_NAME|SUBJECT_DN
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>Principal resolution and Person Directory settings for this feature are available <a href="Configuration-Properties-Common.html#person-directory-principal-resolution">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.x509.principal</code>.</p>

<h3 id="x509-ldap-integration">X509 LDAP Integration</h3>

<p>LDAP settings for this feature are available <a href="Configuration-Properties-Common.html#ldap-connection-settings">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.x509.ldap</code>.</p>

<h2 id="syncope-authentication">Syncope Authentication</h2>

<p>To learn more about this topic, <a href="../installation/Syncope-Authentication.html">please review this guide</a>.</p>

<p>Principal transformation settings for this feature are available <a href="Configuration-Properties-Common.html#authentication-principal-transformation">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.syncope</code>.</p>

<p>Password encoding  settings for this feature are available <a href="Configuration-Properties-Common.html#password-encoding">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.syncope</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.syncope.domain=Master
# cas.authn.syncope.url=https://idm.instance.org/syncope
# cas.authn.syncope.name=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="shiro-authentication">Shiro Authentication</h2>

<p>To learn more about this topic, <a href="../installation/Shiro-Authentication.html">please review this guide</a>.</p>

<p>Principal transformation settings for this feature are available <a href="Configuration-Properties-Common.html#authentication-principal-transformation">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.shiro</code>.</p>

<p>Password encoding  settings for this feature are available <a href="Configuration-Properties-Common.html#password-encoding">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.shiro</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.shiro.required-permissions=value1,value2,...
# cas.authn.shiro.required-roles=value1,value2,...
# cas.authn.shiro.location=classpath:shiro.ini
# cas.authn.shiro.name=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="trusted-authentication">Trusted Authentication</h2>

<p>To learn more about this topic, <a href="../installation/Trusted-Authentication.html">please review this guide</a>. Principal resolution and Person Directory settings for this feature are available <a href="Configuration-Properties-Common.html#person-directory-principal-resolution">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.trusted</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.trusted.name=
# cas.authn.trusted.order=
# cas.authn.trusted.remote-principal-header=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="ws-fed-delegated-authentication">WS-Fed Delegated Authentication</h2>

<p>To learn more about this topic, <a href="../integration/ADFS-Integration.html">please review this guide</a>.</p>

<h3 id="attribute-types">Attribute Types</h3>

<p>In order to construct the final authenticated principal, CAS may be configured to use the following
strategies when collecting principal attributes:</p>

<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CAS</code></td>
      <td>Use attributes provided by CAS’ own attribute resolution mechanics and repository.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">WSFED</code></td>
      <td>Use attributes provided by the delegated WS-Fed instance.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">BOTH</code></td>
      <td>Combine both the above options, where CAS attribute repositories take precedence over WS-Fed.</td>
    </tr>
  </tbody>
</table>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.wsfed[0].identity-provider-url=https://adfs.example.org/adfs/ls/
# cas.authn.wsfed[0].identity-provider-identifier=https://adfs.example.org/adfs/services/trust
# cas.authn.wsfed[0].relying-party-identifier=urn:cas:localhost
# cas.authn.wsfed[0].signing-certificate-resources=classpath:adfs-signing.crt
# cas.authn.wsfed[0].identity-attribute=upn
</span>
<span class="c"># cas.authn.wsfed[0].attributes-type=WSFED
# cas.authn.wsfed[0].tolerance=10000
# cas.authn.wsfed[0].attribute-resolver-enabled=true
# cas.authn.wsfed[0].auto-redirect=true
# cas.authn.wsfed[0].name=
# cas.authn.wsfed[0].attribute-mutator-script.location=file:/etc/cas/config/wsfed-attr.groovy
</span>
<span class="c"># cas.authn.wsfed[0].principal.principal-attribute=
# cas.authn.wsfed[0].principal.return-null=false
</span>
<span class="c"># Private/Public keypair used to decrypt assertions, if any.
# cas.authn.wsfed[0].encryption-private-key=classpath:private.key
# cas.authn.wsfed[0].encryption-certificate=classpath:certificate.crt
# cas.authn.wsfed[0].encryption-private-key-password=NONE
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="signing--encryption">Signing &amp; Encryption</h3>

<p>The signing and encryption keys <a href="Configuration-Properties-Common.html#signing--encryption">are both JWKs</a> of size <code class="language-plaintext highlighter-rouge">512</code> and <code class="language-plaintext highlighter-rouge">256</code>.
The encryption algorithm is set to <code class="language-plaintext highlighter-rouge">AES_128_CBC_HMAC_SHA_256</code>. Signing &amp; encryption settings for this feature are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under <code class="language-plaintext highlighter-rouge">cas.authn.wsfed[0].cookie</code>.</p>

<h2 id="multifactor-authentication">Multifactor Authentication</h2>

<p>To learn more about this topic, <a href="../mfa/Configuring-Multifactor-Authentication.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="c"># Describe the global failure mode in case provider cannot be reached
# cas.authn.mfa.global-failure-mode=CLOSED
</span>
<span class="c"># Design the attribute chosen to communicate the authentication context
# cas.authn.mfa.authentication-context-attribute=authnContextClass
</span>
<span class="c"># Identify the request content type for non-browser MFA requests
# cas.authn.mfa.content-type=application/cas
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="multifactor-authentication-global-trigger">Multifactor Authentication: Global Trigger</h3>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># Activate MFA globally for all, regardless of other settings
# cas.authn.mfa.global-provider-id=mfa-duo
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="multifactor-authentication-authentication-attribute-trigger">Multifactor Authentication: Authentication Attribute Trigger</h3>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c"># Activate MFA globally based on authentication metadata attributes
# cas.authn.mfa.global-authentication-attribute-name-triggers=customAttributeName
# cas.authn.mfa.global-authentication-attribute-value-regex=customRegexValue
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="multifactor-authentication-principal-attribute-trigger">Multifactor Authentication: Principal Attribute Trigger</h3>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="c"># Activate MFA globally based on principal attributes
# cas.authn.mfa.global-principal-attribute-name-triggers=memberOf,eduPersonPrimaryAffiliation
</span>
<span class="c"># Specify the regular expression pattern to trigger multifactor when working with a single provider.
# Comment out the setting when working with multiple multifactor providers
# cas.authn.mfa.global-principal-attribute-value-regex=faculty|staff
</span>
<span class="c"># Activate MFA globally based on principal attributes and a groovy-based predicate
# cas.authn.mfa.global-principal-attribute-predicate=file:/etc/cas/PredicateExample.groovy
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="multifactor-authentication-rest-api-trigger">Multifactor Authentication: REST API Trigger</h3>

<p>RESTful settings for this feature are available <a href="Configuration-Properties-Common.html#restful-integrations">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.mfa.rest</code>.</p>

<h3 id="multifactor-authentication-groovy-trigger">Multifactor Authentication: Groovy Trigger</h3>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># Activate MFA based on a Groovy script
# cas.authn.mfa.groovyScript=file:/etc/cas/mfaGroovyTrigger.groovy
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="multifactor-authentication-internet2-grouper-trigger">Multifactor Authentication: Internet2 Grouper Trigger</h3>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># Activate MFA based on Internet2's Grouper
# cas.authn.mfa.grouper-group-field=NAME|EXTENSION|DISPLAY_NAME|DISPLAY_EXTENSION
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="multifactor-authentication-http-request-trigger">Multifactor Authentication: Http Request Trigger</h3>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.mfa.request-parameter=authn_method
# cas.authn.mfa.request-header=authn_method
# cas.authn.mfa.session-attribute=authn_method
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="multifactor-authentication-provider-selection">Multifactor Authentication: Provider Selection</h3>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="c"># Select MFA provider, if resolved more than one, via Groovy script
# cas.authn.mfa.provider-selector-groovy-script=file:/etc/cas/mfaGroovySelector.groovy
</span>
<span class="c"># Enable provider selection menu, if resolved more than one
</span><span class="py">cas.authn.mfa.provider-selection-enabled</span><span class="p">=</span><span class="s">true</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="multifactor-trusted-devicebrowser">Multifactor Trusted Device/Browser</h3>

<p>To learn more about this topic, <a href="../mfa/Multifactor-TrustedDevice-Authentication.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.mfa.trusted.authentication-context-attribute=isFromTrustedMultifactorAuthentication
# cas.authn.mfa.trusted.device-registration-enabled=true
# cas.authn.mfa.trusted.key-generator-type=DEFAULT|LEGACY
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>The following strategies can be used to generate keys for trusted device records:</p>

<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">DEFAULT</code></td>
      <td>Uses a combination of the username, device name and device fingerprint to generate the device key.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">LEGACY</code></td>
      <td>Deprecated. Uses a combination of the username, record date and device fingerprint to generate the device key.</td>
    </tr>
  </tbody>
</table>

<h4 id="signing--encryption-1">Signing &amp; Encryption</h4>

<p>The signing and encryption keys <a href="Configuration-Properties-Common.html#signing--encryption">are both JWKs</a> of size <code class="language-plaintext highlighter-rouge">512</code> and <code class="language-plaintext highlighter-rouge">256</code>.
The encryption algorithm is set to <code class="language-plaintext highlighter-rouge">AES_128_CBC_HMAC_SHA_256</code>. Signing &amp; encryption settings for this feature are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.mfa.trusted</code>.</p>

<h4 id="json-storage">JSON Storage</h4>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.mfa.trusted.json.location=file:/etc/cas/config/trusted-dev.json
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="jdbc-storage">JDBC Storage</h4>

<p>Database settings for this feature are available <a href="Configuration-Properties-Common.html#database-settings">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.mfa.trusted.jpa</code>.</p>

<h4 id="couchdb-storage">CouchDb Storage</h4>

<p>Configuration settings for this feature are available <a href="Configuration-Properties-Common.html#couchdb-configuration">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.mfa.trusted</code>.</p>

<h4 id="mongodb-storage">MongoDb Storage</h4>

<p>Configuration settings for this feature are available <a href="Configuration-Properties-Common.html#mongodb-configuration">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.mfa.trusted</code>.</p>

<h4 id="dynamodb-storage">DynamoDb Storage</h4>

<p>Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#dynamodb-configuration">here</a>
under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.mfa.trusted</code>.</p>

<p>AWS settings for this feature are available <a href="Configuration-Properties-Common.html#amazon-integration-settings">here</a> 
under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.mfa.trusted.dynamo-db</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.mfa.trusted.dynamo-db.tableName=DynamoDbCasMfaTrustRecords
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="rest-storage">REST Storage</h4>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.mfa.trusted.rest.endpoint=https://api.example.org/trustedBrowser
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="trusted-device-fingerprint">Trusted Device Fingerprint</h4>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.mfa.trusted.device-fingerprint.componentSeparator=@  
</span>
<span class="c"># cas.authn.mfa.trusted.device-fingerprint.cookie.enabled=true
# cas.authn.mfa.trusted.device-fingerprint.cookie.order=1
</span>
<span class="c"># cas.authn.mfa.trusted.device-fingerprint.client-ip.enabled=true
# cas.authn.mfa.trusted.device-fingerprint.client-ip.order=2
</span>
<span class="c"># cas.authn.mfa.trusted.device-fingerprint.geolocation.enabled=false
# cas.authn.mfa.trusted.device-fingerprint.geolocation.order=4
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>The device fingerprint cookie component can be configured with the common cookie properties found <a href="Configuration-Properties-Common.html#cookie-properties">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.mfa.trusted.device-fingerprint.cookie</code>.
The default cookie name is set to <code class="language-plaintext highlighter-rouge">MFATRUSTED</code> and the default maxAge is set to <code class="language-plaintext highlighter-rouge">2592000</code>.</p>

<p>The device fingerprint cookie component supports signing &amp; encryption. The signing and encryption keys <a href="Configuration-Properties-Common.html#signing--encryption">are both JWKs</a> of size <code class="language-plaintext highlighter-rouge">512</code> and <code class="language-plaintext highlighter-rouge">256</code>.
The encryption algorithm is set to <code class="language-plaintext highlighter-rouge">AES_128_CBC_HMAC_SHA_256</code>. Signing &amp; encryption settings for this feature are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.mfa.trusted.device-fingerprint.cookie</code>.</p>

<h4 id="cleaner">Cleaner</h4>

<p>A cleaner process is scheduled to run in the background to clean up expired and stale tickets.
This section controls how that process should behave. Scheduler settings for this feature 
are available <a href="Configuration-Properties-Common.html#job-scheduling">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.mfa.trusted.cleaner</code>.</p>

<h3 id="simple-multifactor-authentication">Simple Multifactor Authentication</h3>

<p>To learn more about this topic, <a href="../mfa/Simple-Multifactor-Authentication.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.mfa.simple.name=
# cas.authn.mfa.simple.order=
# cas.authn.mfa.simple.time-to-kill-in-seconds=30
# cas.authn.mfa.simple.token-length=6
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>Email notifications settings for this feature are available <a href="Configuration-Properties-Common.html#email-notifications">here</a> 
under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.mfa.simple</code>. SMS notifications settings for this feature are 
available <a href="Configuration-Properties-Common.html#sms-notifications">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.mfa.simple</code>.</p>

<p>Multifactor authentication bypass settings for this provider are available <a href="Configuration-Properties-Common.html#multifactor-authentication-bypass">here</a>
under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.mfa.simple</code>.</p>

<h3 id="google-authenticator">Google Authenticator</h3>

<p>To learn more about this topic, <a href="../mfa/GoogleAuthenticator-Authentication.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.mfa.gauth.issuer=
# cas.authn.mfa.gauth.label=
</span>
<span class="c"># cas.authn.mfa.gauth.window-size=3
# cas.authn.mfa.gauth.code-digits=6
# cas.authn.mfa.gauth.time-step-size=30
# cas.authn.mfa.gauth.rank=0
# cas.authn.mfa.gauth.trusted-device-enabled=false
</span>
<span class="c"># cas.authn.mfa.gauth.name=
# cas.authn.mfa.gauth.order=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>Multifactor authentication bypass settings for this provider are available <a href="Configuration-Properties-Common.html#multifactor-authentication-bypass">here</a>
under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.mfa.gauth</code>. Scheduler settings for this feature are available <a href="Configuration-Properties-Common.html#job-scheduling">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.mfa.gauth.cleaner</code>.</p>

<h4 id="signing--encryption-2">Signing &amp; Encryption</h4>

<p>The signing and encryption keys <a href="Configuration-Properties-Common.html#signing--encryption">are both JWKs</a> of size <code class="language-plaintext highlighter-rouge">512</code> and <code class="language-plaintext highlighter-rouge">256</code>.
The encryption algorithm is set to <code class="language-plaintext highlighter-rouge">AES_128_CBC_HMAC_SHA_256</code>.  Signing &amp; encryption settings for this feature are
available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.mfa.gauth</code>.</p>

<h4 id="google-authenticator-couchdb">Google Authenticator CouchDb</h4>

<p>Configuration settings for this feature are available <a href="Configuration-Properties-Common.html#couchdb-configuration">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.mfa.gauth</code>.</p>

<h4 id="google-authenticator-json">Google Authenticator JSON</h4>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.mfa.gauth.json.location=file:/somewhere.json
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="google-authenticator-rest">Google Authenticator Rest</h4>

<p>RESTful settings for this feature are available <a href="Configuration-Properties-Common.html#restful-integrations">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.mfa.gauth.rest</code>.</p>

<p>Additionally, tokens can be managed via REST using the following settings:</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.mfa.gauth.rest.token-url=https://somewhere.gauth.com
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="google-authenticator-mongodb">Google Authenticator MongoDb</h4>

<p>Configuration settings for this feature are available <a href="Configuration-Properties-Common.html#mongodb-configuration">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.mfa.gauth</code>.  The following settings are additionally available for this feature:</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.mfa.gauth.mongo.token-collection=MongoDbGoogleAuthenticatorTokenRepository
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="google-authenticator-ldap">Google Authenticator LDAP</h4>

<p>LDAP settings for this feature are available <a href="Configuration-Properties-Common.html#ldap-connection-settings">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.mfa.gauth.ldap</code>.</p>

<p>The following settings are additionally available for this feature:</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.mfa.gauth.ldap.account-attribute-name=gauthRecord
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="google-authenticator-redis">Google Authenticator Redis</h4>

<p>Configuration settings for this feature are available <a href="Configuration-Properties-Common.html#redis-configuration">here</a> 
 under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.mfa.gauth</code>.</p>

<h4 id="google-authenticator-jpa">Google Authenticator JPA</h4>

<p>Database settings for this feature are available <a href="Configuration-Properties-Common.html#database-settings">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.mfa.gauth.jpa</code>.</p>

<h3 id="yubikey">YubiKey</h3>

<p>To learn more about this topic, <a href="../mfa/YubiKey-Authentication.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.mfa.yubikey.client-id=
# cas.authn.mfa.yubikey.secret-key=
# cas.authn.mfa.yubikey.rank=0
# cas.authn.mfa.yubikey.api-urls=
# cas.authn.mfa.yubikey.trusted-device-enabled=false
</span>
<span class="c"># cas.authn.mfa.yubikey.name=
# cas.authn.mfa.yubikey.order=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>Multifactor authentication bypass settings for this provider are available <a href="Configuration-Properties-Common.html#multifactor-authentication-bypass">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.mfa.yubikey</code>.</p>

<h4 id="yubikey-json-device-store">YubiKey JSON Device Store</h4>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.mfa.yubikey.json-file=file:/etc/cas/deviceRegistrations.json
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="yubikey-whitelist-device-store">YubiKey Whitelist Device Store</h4>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.mfa.yubikey.allowed-devices.uid1=yubikeyPublicId1
# cas.authn.mfa.yubikey.allowed-devices.uid2=yubikeyPublicId2
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="yubikey-registration-records-encryption-and-signing">YubiKey Registration Records Encryption and Signing</h4>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.mfa.yubikey.crypto.enabled=true
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>The signing key and the encryption key <a href="Configuration-Properties-Common.html#signing--encryption">are both JWKs</a> of size <code class="language-plaintext highlighter-rouge">512</code> and <code class="language-plaintext highlighter-rouge">256</code>. Signing &amp; encryption settings for this feature are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.mfa.yubikey</code>.</p>

<h3 id="yubikey-jpa-device-store">YubiKey JPA Device Store</h3>

<p>Database settings for this feature are available <a href="Configuration-Properties-Common.html#database-settings">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.mfa.yubikey.jpa</code>.</p>

<h3 id="yubikey-couchdb-device-store">YubiKey CouchDb Device Store</h3>

<p>Configuration settings for this feature are available <a href="Configuration-Properties-Common.html#couchdb-configuration">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.mfa.yubikey</code>.</p>

<h3 id="yubikey-mongodb-device-store">YubiKey MongoDb Device Store</h3>

<p>Configuration settings for this feature are available <a href="Configuration-Properties-Common.html#mongodb-configuration">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.mfa.yubikey</code>.</p>

<h3 id="yubikey-redis-device-store">YubiKey Redis Device Store</h3>

<p>Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#redis-configuration">here</a>
under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.mfa.yubikey</code>.</p>

<h3 id="radius-otp">Radius OTP</h3>

<p>To learn more about this topic, <a href="../mfa/RADIUS-Authentication.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.mfa.radius.rank=0
# cas.authn.mfa.radius.trusted-device-enabled=false
# cas.authn.mfa.radius.allowed-authentication-attempts=-1
# cas.authn.mfa.radius.name=
# cas.authn.mfa.radius.order=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>Radius  settings for this feature are available <a href="Configuration-Properties-Common.html#radius-configuration">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.mfa.radius</code>.</p>

<p>Multifactor authentication bypass settings for this provider are available <a href="Configuration-Properties-Common.html#multifactor-authentication-bypass">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.mfa.radius</code>.</p>

<h3 id="duosecurity">DuoSecurity</h3>

<p>To learn more about this topic, <a href="../mfa/DuoSecurity-Authentication.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.mfa.duo[0].duo-secret-key=
# cas.authn.mfa.duo[0].rank=0
# cas.authn.mfa.duo[0].duo-application-key=
# cas.authn.mfa.duo[0].duo-integration-key=
# cas.authn.mfa.duo[0].duo-api-host=
# cas.authn.mfa.duo[0].trusted-device-enabled=false
# cas.authn.mfa.duo[0].id=mfa-duo
# cas.authn.mfa.duo[0].registration-url=https://registration.example.org/duo-enrollment
# cas.authn.mfa.duo[0].name=
# cas.authn.mfa.duo[0].order=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>The <code class="language-plaintext highlighter-rouge">duoApplicationKey</code> is a string, at least 40 characters long, that you generate and keep secret from Duo.
You can generate a random string in Python with:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="kn">import</span> <span class="nn">os</span><span class="p">,</span> <span class="n">hashlib</span>
<span class="k">print</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha1</span><span class="p">(</span><span class="n">os</span><span class="p">.</span><span class="n">urandom</span><span class="p">(</span><span class="mi">32</span><span class="p">)).</span><span class="n">hexdigest</span><span class="p">()</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Multifactor authentication bypass settings for this provider are available <a href="Configuration-Properties-Common.html#multifactor-authentication-bypass">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.mfa.duo[0]</code>.</p>

<h3 id="fido-u2f">FIDO U2F</h3>

<p>To learn more about this topic, <a href="../mfa/FIDO-U2F-Authentication.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.mfa.u2f.rank=0
# cas.authn.mfa.u2f.name=
# cas.authn.mfa.u2f.order=
</span>
<span class="c"># cas.authn.mfa.u2f.expire-registrations=30
# cas.authn.mfa.u2f.expire-registrations-time-unit=SECONDS
# cas.authn.mfa.u2f.expire-devices=30
# cas.authn.mfa.u2f.expire-devices-time-unit=DAYS
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>Multifactor authentication bypass settings for this provider are
available <a href="Configuration-Properties-Common.html#multifactor-authentication-bypass">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.mfa.u2f</code>.
The signing key and the encryption key <a href="Configuration-Properties-Common.html#signing--encryption">are both JWKs</a> of size <code class="language-plaintext highlighter-rouge">512</code> and <code class="language-plaintext highlighter-rouge">256</code>.
Signing &amp; encryption settings for this feature are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a>
under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.mfa.u2f</code>.</p>

<h3 id="fido-u2f-json">FIDO U2F JSON</h3>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.mfa.u2f.json.location=file:///etc/cas/config/u2fdevices.json
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="fido-u2f-cleaner">FIDO U2F Cleaner</h3>

<p>Scheduler settings for this feature are available <a href="Configuration-Properties-Common.html#job-scheduling">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.mfa.u2f.cleaner</code>.</p>

<h3 id="fido-u2f-couchdb">FIDO U2F CouchDb</h3>

<p>Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#couchdb-configuration">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.mfa.u2f</code>.</p>

<h3 id="fido-u2f-mongodb">FIDO U2F MongoDb</h3>

<p>Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#mongodb-configuration">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.mfa.u2f</code>.</p>

<h3 id="fido-u2f-redis">FIDO U2F Redis</h3>

<p>Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#redis-configuration">here</a>
under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.mfa.u2f</code>.</p>

<h3 id="fido-u2f-jpa">FIDO U2F JPA</h3>

<p>Database settings for this feature are available <a href="Configuration-Properties-Common.html#database-settings">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.mfa.u2f.jpa</code>.</p>

<h3 id="fido-u2f-rest">FIDO U2F REST</h3>

<p>RESTful settings for this feature are available <a href="Configuration-Properties-Common.html#restful-integrations">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.mfa.u2f.rest</code>.</p>

<h3 id="fido-u2f-groovy">FIDO U2F Groovy</h3>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.mfa.u2f.groovy.location=file:/etc/cas/config/fido.groovy
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="swivel-secure">Swivel Secure</h3>

<p>To learn more about this topic, <a href="../mfa/SwivelSecure-Authentication.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.mfa.swivel.swivel-turing-image-url=https://turing.example.edu/TURingImage
# cas.authn.mfa.swivel.swivel-url=https://swivel.example.org/pinsafe
# cas.authn.mfa.swivel.shared-secret=Th3Sh@r3d$ecret
# cas.authn.mfa.swivel.ignore-ssl-errors=false
# cas.authn.mfa.swivel.rank=0
# cas.authn.mfa.swivel.name=
# cas.authn.mfa.swivel.order=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>Multifactor authentication bypass settings for this provider are available <a href="Configuration-Properties-Common.html#multifactor-authentication-bypass">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.mfa.swivel</code>.</p>

<h3 id="authy">Authy</h3>

<p>To learn more about this topic, <a href="../mfa/AuthyAuthenticator-Authentication.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.mfa.authy.api-key=
# cas.authn.mfa.authy.api-url=
# cas.authn.mfa.authy.phone-attribute=phone
# cas.authn.mfa.authy.mail-attribute=mail
# cas.authn.mfa.authy.country-code=1
# cas.authn.mfa.authy.force-verification=true
# cas.authn.mfa.authy.trusted-device-enabled=false
# cas.authn.mfa.authy.name=
# cas.authn.mfa.authy.order=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>Multifactor authentication bypass settings for this provider are available <a href="Configuration-Properties-Common.html#multifactor-authentication-bypass">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.mfa.authy</code>.</p>

<h3 id="acceptto">Acceptto</h3>

<p>To learn more about this topic, <a href="../mfa/Acceptto-Authentication.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.mfa.acceptto.application-id=
# cas.authn.mfa.acceptto.secret=
# cas.authn.mfa.acceptto.organization-id=
# cas.authn.mfa.acceptto.organization-secret=
</span>
<span class="c"># cas.authn.mfa.acceptto.authn-selection-url=https://mfa.acceptto.com/mfa/index
# cas.authn.mfa.acceptto.api-url=https://mfa.acceptto.com/api/v9/
# cas.authn.mfa.acceptto.message=Do you want to login via CAS?
# cas.authn.mfa.acceptto.timeout=120
# cas.authn.mfa.acceptto.email-attribute=mail    
# cas.authn.mfa.acceptto.group-attribute=    
</span>
<span class="c"># cas.authn.mfa.acceptto.registration-api-url=https://mfa.acceptto.com/api/integration/v1/mfa/authenticate
# cas.authn.mfa.acceptto.registration-api-public-key=file:/path/to/publickey.pem
</span>
<span class="c"># cas.authn.mfa.acceptto.name=
# cas.authn.mfa.acceptto.order=
# cas.authn.mfa.acceptto.rank=0
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>Multifactor authentication bypass settings for this provider are available <a href="Configuration-Properties-Common.html#multifactor-authentication-bypass">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.mfa.acceptto</code>.</p>

<h2 id="saml-core">SAML Core</h2>

<p>Control core SAML functionality within CAS.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="c"># cas.saml-core.ticketid-saml2=false
# cas.saml-core.skew-allowance=5
# cas.saml-core.issue-length=30
# cas.saml-core.attribute-namespace=http://www.ja-sig.org/products/cas/
# cas.saml-core.issuer=localhost
# cas.saml-core.security-manager=org.apache.xerces.util.SecurityManager
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="saml-idp">SAML IdP</h2>

<p>Allow CAS to become a SAML2 identity provider.</p>

<p>To learn more about this topic, <a href="../installation/Configuring-SAML2-Authentication.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.saml-idp.entity-id=https://cas.example.org/idp
</span>
<span class="c"># cas.authn.saml-idp.authentication-context-class-mappings[0]=urn:oasis:names:tc:SAML:2.0:ac:classes:SomeClassName-&gt;mfa-duo
# cas.authn.saml-idp.authentication-context-class-mappings[1]=https://refeds.org/profile/mfa-&gt;mfa-gauth
</span>
<span class="c"># cas.authn.saml-idp.attribute-friendly-names[0]=urn:oid:1.3.6.1.4.1.5923.1.1.1.6-&gt;eduPersonPrincipalName
</span>  
<span class="c"># cas.authn.saml-idp.attribute-query-profile-enabled=true
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="attributes-name-formats">Attributes Name Formats</h3>

<p>Name formats for an individual attribute can be mapped to a number of pre-defined formats, or a custom format of your own choosing.
A given attribute that is to be encoded in the final SAML response may contain any of the following name formats:</p>

<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">basic</code></td>
      <td>Map the attribute to <code class="language-plaintext highlighter-rouge">urn:oasis:names:tc:SAML:2.0:attrname-format:basic</code>.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">uri</code></td>
      <td>Map the attribute to <code class="language-plaintext highlighter-rouge">urn:oasis:names:tc:SAML:2.0:attrname-format:uri</code>.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">unspecified</code></td>
      <td>Map the attribute to <code class="language-plaintext highlighter-rouge">urn:oasis:names:tc:SAML:2.0:attrname-format:basic</code>.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">urn:my:own:format</code></td>
      <td>Map the attribute to <code class="language-plaintext highlighter-rouge">urn:my:own:format</code>.</td>
    </tr>
  </tbody>
</table>

<h3 id="saml-metadata">SAML Metadata</h3>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.saml-idp.metadata.location=file:/etc/cas/saml
</span>
<span class="c"># cas.authn.saml-idp.metadata.cache-expiration-minutes=30
# cas.authn.saml-idp.metadata.fail-fast=true
# cas.authn.saml-idp.metadata.private-key-alg-name=RSA
# cas.authn.saml-idp.metadata.require-valid-metadata=true
# cas.authn.saml-idp.metadata.force-metadata-refresh=true
</span>
<span class="c"># cas.authn.saml-idp.metadata.basic-authn-username=
# cas.authn.saml-idp.metadata.basic-authn-password=
# cas.authn.saml-idp.metadata.supported-content-types=
</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="saml-metadata-jpa">SAML Metadata JPA</h4>

<p>Database settings for this feature are available <a href="Configuration-Properties-Common.html#database-settings">here</a> 
under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.saml-idp.metadata.jpa</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.saml-idp.metadata.jpa.idp-metadata-enabled=true
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>The signing key and the encryption key <a href="Configuration-Properties-Common.html#signing--encryption">are both JWKs</a> of size <code class="language-plaintext highlighter-rouge">512</code> and <code class="language-plaintext highlighter-rouge">256</code>. Signing &amp; 
encryption settings for this feature are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.saml-idp.metadata.jpa</code>.</p>

<h4 id="saml-metadata-couchdb">SAML Metadata CouchDb</h4>

<p>Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#couchdb-configuration">here</a> 
under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.saml-idp.metadata</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.saml-idp.metadata.couch-db.idp-metadata-enabled=true
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>The signing key and the encryption key <a href="Configuration-Properties-Common.html#signing--encryption">are both JWKs</a> of size <code class="language-plaintext highlighter-rouge">512</code> and <code class="language-plaintext highlighter-rouge">256</code>. Signing &amp; encryption 
settings for this feature are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.saml-idp.metadata.mongo</code>.</p>

<h4 id="saml-metadata-mongodb">SAML Metadata MongoDb</h4>

<p>Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#mongodb-configuration">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.saml-idp.metadata</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.saml-idp.metadata.mongo.idp-metadata-collection=saml-idp-metadata
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>The signing key and the encryption key <a href="Configuration-Properties-Common.html#signing--encryption">are both JWKs</a> of size <code class="language-plaintext highlighter-rouge">512</code> and <code class="language-plaintext highlighter-rouge">256</code>. Signing &amp; 
encryption settings for this feature are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the 
configuration key <code class="language-plaintext highlighter-rouge">cas.authn.saml-idp.metadata.mongo</code>.</p>

<h4 id="saml-metadata-rest">SAML Metadata REST</h4>

<p>RESTful settings for this feature are available <a href="Configuration-Properties-Common.html#restful-integrations">here</a> 
under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.saml-idp.metadata.rest</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.saml-idp.metadata.rest.idp-metadata-enabled=true
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>The signing key and the encryption key <a href="Configuration-Properties-Common.html#signing--encryption">are both JWKs</a> of size <code class="language-plaintext highlighter-rouge">512</code> and <code class="language-plaintext highlighter-rouge">256</code>. Signing &amp; 
encryption settings for this feature are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the 
configuration key <code class="language-plaintext highlighter-rouge">cas.authn.saml-idp.metadata.rest</code>.</p>

<h4 id="saml-metadata-amazon-s3">SAML Metadata Amazon S3</h4>

<p>Common AWS settings for this feature are available <a href="Configuration-Properties-Common.html#amazon-integration-settings">here</a>
under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.saml-idp.metadata.amazon-s3</code>.</p>

<p>The signing key and the encryption key <a href="Configuration-Properties-Common.html#signing--encryption">are both JWKs</a> of size <code class="language-plaintext highlighter-rouge">512</code> and <code class="language-plaintext highlighter-rouge">256</code>. Signing &amp; encryption 
settings for this feature are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.saml-idp.metadata.amazon-s3</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.saml-idp.metadata.amazon-s3.bucket-name=saml-sp-bucket
# cas.authn.saml-idp.metadata.mongo.idp-metadata-bucket-name=saml-idp-bucket
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="saml-logout">SAML Logout</h3>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.saml-idp.logout.force-signed-logout-requests=true
# cas.authn.saml-idp.logout.single-logout-callbacks-disabled=false
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="saml-algorithms--security">SAML Algorithms &amp; Security</h3>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.saml-idp.algs.override-signature-canonicalization-algorithm=
# cas.authn.saml-idp.algs.override-data-encryption-algorithms=
# cas.authn.saml-idp.algs.override-key-encryption-algorithms=
# cas.authn.saml-idp.algs.override-black-listed-encryption-algorithms=
# cas.authn.saml-idp.algs.override-white-listed-algorithms=
# cas.authn.saml-idp.algs.override-signature-reference-digest-methods=
# cas.authn.saml-idp.algs.override-signature-algorithms=
# cas.authn.saml-idp.algs.override-black-listed-signature-signing-algorithms=
# cas.authn.saml-idp.algs.override-white-listed-signature-signing-algorithms=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="saml-response">SAML Response</h3>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.saml-idp.response.default-authentication-context-class=
# cas.authn.saml-idp.response.default-attribute-name-format=uri
# cas.authn.saml-idp.response.sign-error=false
# cas.authn.saml-idp.response.signing-credential-type=X509|BASIC
# cas.authn.saml-idp.response.attribute-name-formats=attributeName-&gt;basic|uri|unspecified|custom-format-etc,...
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="saml-ticket">SAML Ticket</h3>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.saml-idp.ticket.saml-artifacts-cache-storage-name=samlArtifactsCache
# cas.authn.saml-idp.ticket.saml-attribute-query-cache-storage-name=samlAttributeQueryCache
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="saml-profiles">SAML Profiles</h3>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.saml-idp.profile.slo.url-decode-redirect-request=false
# cas.authn.saml-idp.profile.sso.url-decode-redirect-request=false
# cas.authn.saml-idp.profile.sso-post-simple-sign.url-decode-redirect-request=false
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="saml-sps">SAML SPs</h2>

<p>Allow CAS to register and enable a number of built-in SAML service provider integrations.
To learn more about this topic, <a href="../integration/Configuring-SAML-SP-Integrations.html">please review this guide</a>.</p>

<div class="alert alert-warning"><strong>Remember</strong><p>SAML2 service provider integrations listed here simply attempt to automate CAS configuration based on known and documented integration guidelines and recipes provided by the service provider owned by the vendor. These recipes can change and break CAS over time.</p></div>

<p>Configuration settings for all SAML2 service providers are <a href="Configuration-Properties-Common.html#saml2-service-provider-integrations">available here</a>.</p>

<table>
  <thead>
    <tr>
      <th>Service Provider</th>
      <th>Configuration Key</th>
      <th>Attributes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Gitlab</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.gitlab</code></td>
      <td><code class="language-plaintext highlighter-rouge">last_name</code>,<code class="language-plaintext highlighter-rouge">first_name</code>,<code class="language-plaintext highlighter-rouge">name</code></td>
    </tr>
    <tr>
      <td>Hipchat</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.hipchat</code></td>
      <td><code class="language-plaintext highlighter-rouge">last_name</code>,<code class="language-plaintext highlighter-rouge">first_name</code>,<code class="language-plaintext highlighter-rouge">title</code></td>
    </tr>
    <tr>
      <td>Dropbox</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.dropbox</code></td>
      <td><code class="language-plaintext highlighter-rouge">mail</code></td>
    </tr>
    <tr>
      <td>OpenAthens</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.openAthens</code></td>
      <td><code class="language-plaintext highlighter-rouge">email</code>, <code class="language-plaintext highlighter-rouge">eduPersonPrincipalName</code></td>
    </tr>
    <tr>
      <td>Egnyte</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.egnyte</code></td>
      <td>N/A</td>
    </tr>
    <tr>
      <td>EverBridge</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.ever-bridge</code></td>
      <td>N/A</td>
    </tr>
    <tr>
      <td>Simplicity</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.simplicity</code></td>
      <td>N/A</td>
    </tr>
    <tr>
      <td>App Dynamics</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.app-dynamics</code></td>
      <td><code class="language-plaintext highlighter-rouge">User.OpenIDName</code>, <code class="language-plaintext highlighter-rouge">User.email</code>, <code class="language-plaintext highlighter-rouge">User.fullName</code>, <code class="language-plaintext highlighter-rouge">AccessControl</code>, <code class="language-plaintext highlighter-rouge">Groups-Membership</code></td>
    </tr>
    <tr>
      <td>Yuja</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.yuja</code></td>
      <td>N/A</td>
    </tr>
    <tr>
      <td>Simplicity</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.simplicity</code></td>
      <td>N/A</td>
    </tr>
    <tr>
      <td>New Relic</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.new-relic</code></td>
      <td>N/A</td>
    </tr>
    <tr>
      <td>Sunshine State Education &amp; Research Computing Alliance</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.sserca</code></td>
      <td>N/A</td>
    </tr>
    <tr>
      <td>CherWell</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.cherWell</code></td>
      <td>N/A</td>
    </tr>
    <tr>
      <td>FAMIS</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.famis</code></td>
      <td>N/A</td>
    </tr>
    <tr>
      <td>Bynder</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.bynder</code></td>
      <td>N/A</td>
    </tr>
    <tr>
      <td>Web Advisor</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.webAdvisor</code></td>
      <td><code class="language-plaintext highlighter-rouge">uid</code></td>
    </tr>
    <tr>
      <td>Adobe Creative Cloud</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.adobe-cloud</code></td>
      <td><code class="language-plaintext highlighter-rouge">firstName</code>, <code class="language-plaintext highlighter-rouge">lastName</code>, <code class="language-plaintext highlighter-rouge">email</code></td>
    </tr>
    <tr>
      <td>Securing The Human</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.sans-sth</code></td>
      <td><code class="language-plaintext highlighter-rouge">firstName</code>, <code class="language-plaintext highlighter-rouge">lastName</code>, <code class="language-plaintext highlighter-rouge">scopedUserId</code>, <code class="language-plaintext highlighter-rouge">department</code>, <code class="language-plaintext highlighter-rouge">reference</code>, <code class="language-plaintext highlighter-rouge">email</code></td>
    </tr>
    <tr>
      <td>Easy IEP</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.easy-iep</code></td>
      <td><code class="language-plaintext highlighter-rouge">employeeId</code></td>
    </tr>
    <tr>
      <td>Infinite Campus</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.infinite-campus</code></td>
      <td><code class="language-plaintext highlighter-rouge">employeeId</code></td>
    </tr>
    <tr>
      <td>Slack</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.slack</code></td>
      <td><code class="language-plaintext highlighter-rouge">User.Email</code>, <code class="language-plaintext highlighter-rouge">User.Username</code>, <code class="language-plaintext highlighter-rouge">first_name</code>, <code class="language-plaintext highlighter-rouge">last_name</code>, <code class="language-plaintext highlighter-rouge">employeeId</code></td>
    </tr>
    <tr>
      <td>Zendesk</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.zendesk</code></td>
      <td><code class="language-plaintext highlighter-rouge">organization</code>, <code class="language-plaintext highlighter-rouge">tags</code>, <code class="language-plaintext highlighter-rouge">phone</code>, <code class="language-plaintext highlighter-rouge">role</code>, <code class="language-plaintext highlighter-rouge">email</code></td>
    </tr>
    <tr>
      <td>Gartner</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.gartner</code></td>
      <td><code class="language-plaintext highlighter-rouge">urn:oid:2.5.4.42</code>, <code class="language-plaintext highlighter-rouge">urn:oid:2.5.4.4</code>, <code class="language-plaintext highlighter-rouge">urn:oid:0.9.2342.19200300.100.1.3</code></td>
    </tr>
    <tr>
      <td>Arc GIS</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.arcGIS</code></td>
      <td><code class="language-plaintext highlighter-rouge">arcNameId</code>, <code class="language-plaintext highlighter-rouge">mail</code>, <code class="language-plaintext highlighter-rouge">givenName</code></td>
    </tr>
    <tr>
      <td>Benefit Focus</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.benefit-focus</code></td>
      <td><code class="language-plaintext highlighter-rouge">benefitFocusUniqueId</code></td>
    </tr>
    <tr>
      <td>Office365</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.office365</code></td>
      <td><code class="language-plaintext highlighter-rouge">IDPEmail</code>, <code class="language-plaintext highlighter-rouge">ImmutableID</code></td>
    </tr>
    <tr>
      <td>SAManage</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.sa-manage</code></td>
      <td><code class="language-plaintext highlighter-rouge">mail</code></td>
    </tr>
    <tr>
      <td>Salesforce</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.salesforce</code></td>
      <td><code class="language-plaintext highlighter-rouge">eduPersonPrincipalName</code></td>
    </tr>
    <tr>
      <td>Workday</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.workday</code></td>
      <td>N/A</td>
    </tr>
    <tr>
      <td>Academic Works</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.academic-works</code></td>
      <td><code class="language-plaintext highlighter-rouge">displayName</code></td>
    </tr>
    <tr>
      <td>ZOOM</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.zoom</code></td>
      <td><code class="language-plaintext highlighter-rouge">mail</code>, <code class="language-plaintext highlighter-rouge">sn</code>, <code class="language-plaintext highlighter-rouge">givenName</code></td>
    </tr>
    <tr>
      <td>Evernote</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.evernote</code></td>
      <td><code class="language-plaintext highlighter-rouge">email</code></td>
    </tr>
    <tr>
      <td>Tableau</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.tableau</code></td>
      <td><code class="language-plaintext highlighter-rouge">username</code></td>
    </tr>
    <tr>
      <td>Asana</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.asana</code></td>
      <td><code class="language-plaintext highlighter-rouge">email</code></td>
    </tr>
    <tr>
      <td>Box</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.box</code></td>
      <td><code class="language-plaintext highlighter-rouge">email</code>, <code class="language-plaintext highlighter-rouge">firstName</code>, <code class="language-plaintext highlighter-rouge">lastName</code></td>
    </tr>
    <tr>
      <td>Service Now</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.service-now</code></td>
      <td><code class="language-plaintext highlighter-rouge">eduPersonPrincipalName</code></td>
    </tr>
    <tr>
      <td>Net Partner</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.net-partner</code></td>
      <td><code class="language-plaintext highlighter-rouge">studentId</code></td>
    </tr>
    <tr>
      <td>Webex</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.webex</code></td>
      <td><code class="language-plaintext highlighter-rouge">firstName</code>, <code class="language-plaintext highlighter-rouge">lastName</code></td>
    </tr>
    <tr>
      <td>InCommon</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.in-common</code></td>
      <td><code class="language-plaintext highlighter-rouge">eduPersonPrincipalName</code></td>
    </tr>
    <tr>
      <td>Amazon</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.amazon</code></td>
      <td><code class="language-plaintext highlighter-rouge">awsRoles</code>, <code class="language-plaintext highlighter-rouge">awsRoleSessionName</code></td>
    </tr>
    <tr>
      <td>Concur Solutions</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.concur-solutions</code></td>
      <td><code class="language-plaintext highlighter-rouge">email</code></td>
    </tr>
    <tr>
      <td>PollEverywhere</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.poll-everywhere</code></td>
      <td><code class="language-plaintext highlighter-rouge">email</code></td>
    </tr>
    <tr>
      <td>DocuSign</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.docuSign</code></td>
      <td><code class="language-plaintext highlighter-rouge">email</code>, <code class="language-plaintext highlighter-rouge">givenName</code>, <code class="language-plaintext highlighter-rouge">surname</code>, <code class="language-plaintext highlighter-rouge">employeeNumber</code></td>
    </tr>
    <tr>
      <td>SafariOnline</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.safari-online</code></td>
      <td><code class="language-plaintext highlighter-rouge">email</code>, <code class="language-plaintext highlighter-rouge">givenName</code>, <code class="language-plaintext highlighter-rouge">surname</code>, <code class="language-plaintext highlighter-rouge">employeeNumber</code>,<code class="language-plaintext highlighter-rouge">eduPersonAffiliation</code></td>
    </tr>
    <tr>
      <td>BlackBaud</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.black-baud</code></td>
      <td><code class="language-plaintext highlighter-rouge">email</code>, <code class="language-plaintext highlighter-rouge">eduPersonPrincipalName</code></td>
    </tr>
    <tr>
      <td>GiveCampus</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.give-campus</code></td>
      <td><code class="language-plaintext highlighter-rouge">email</code>, <code class="language-plaintext highlighter-rouge">givenName</code>, <code class="language-plaintext highlighter-rouge">surname</code>, <code class="language-plaintext highlighter-rouge">displayName</code></td>
    </tr>
    <tr>
      <td>WarpWire</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.warp-wire</code></td>
      <td><code class="language-plaintext highlighter-rouge">email</code>, <code class="language-plaintext highlighter-rouge">givenName</code>, <code class="language-plaintext highlighter-rouge">eduPersonPrincipalName</code>, <code class="language-plaintext highlighter-rouge">surname</code>, <code class="language-plaintext highlighter-rouge">eduPersonScopedAffiliation</code>, <code class="language-plaintext highlighter-rouge">employeeNumber</code></td>
    </tr>
    <tr>
      <td>RocketChat</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.rocket-chat</code></td>
      <td><code class="language-plaintext highlighter-rouge">email</code>, <code class="language-plaintext highlighter-rouge">cn</code>, <code class="language-plaintext highlighter-rouge">username</code></td>
    </tr>
    <tr>
      <td>ArmsSoftware</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.arms-software</code></td>
      <td><code class="language-plaintext highlighter-rouge">email</code>, <code class="language-plaintext highlighter-rouge">uid</code>, <code class="language-plaintext highlighter-rouge">eduPersonPrincipalName</code></td>
    </tr>
    <tr>
      <td>TopHat</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.top-hat</code></td>
      <td><code class="language-plaintext highlighter-rouge">email</code>, <code class="language-plaintext highlighter-rouge">eduPersonPrincipalName</code></td>
    </tr>
    <tr>
      <td>Academic HealthPlans</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.academic-health-plans</code></td>
      <td><code class="language-plaintext highlighter-rouge">email</code>, <code class="language-plaintext highlighter-rouge">givenName</code>, <code class="language-plaintext highlighter-rouge">surname</code>, <code class="language-plaintext highlighter-rouge">studentId</code></td>
    </tr>
    <tr>
      <td>Confluence</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.confluence</code></td>
      <td><code class="language-plaintext highlighter-rouge">email</code>, <code class="language-plaintext highlighter-rouge">givenName</code>, <code class="language-plaintext highlighter-rouge">surname</code>, <code class="language-plaintext highlighter-rouge">uid</code>, <code class="language-plaintext highlighter-rouge">displayName</code></td>
    </tr>
    <tr>
      <td>JIRA</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.jira</code></td>
      <td><code class="language-plaintext highlighter-rouge">email</code>, <code class="language-plaintext highlighter-rouge">givenName</code>, <code class="language-plaintext highlighter-rouge">surname</code>, <code class="language-plaintext highlighter-rouge">uid</code>, <code class="language-plaintext highlighter-rouge">displayName</code></td>
    </tr>
    <tr>
      <td>CrashPlan</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.crash-plan</code></td>
      <td><code class="language-plaintext highlighter-rouge">email</code>, <code class="language-plaintext highlighter-rouge">givenName</code>, <code class="language-plaintext highlighter-rouge">surname</code></td>
    </tr>
    <tr>
      <td>Emma</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.emma</code></td>
      <td><code class="language-plaintext highlighter-rouge">email</code>, <code class="language-plaintext highlighter-rouge">givenName</code>, <code class="language-plaintext highlighter-rouge">surname</code></td>
    </tr>
    <tr>
      <td>Qualtrics</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.qualtrics</code></td>
      <td><code class="language-plaintext highlighter-rouge">email</code>, <code class="language-plaintext highlighter-rouge">givenName</code>, <code class="language-plaintext highlighter-rouge">surname</code>, <code class="language-plaintext highlighter-rouge">employeeNumber</code>, <code class="language-plaintext highlighter-rouge">eduPersonPrincipalName</code></td>
    </tr>
    <tr>
      <td>NeoGov</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.neoGov</code></td>
      <td><code class="language-plaintext highlighter-rouge">email</code>, <code class="language-plaintext highlighter-rouge">ImmutableID</code></td>
    </tr>
    <tr>
      <td>Zimbra</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.zimbra</code></td>
      <td><code class="language-plaintext highlighter-rouge">email</code></td>
    </tr>
    <tr>
      <td>PagerDuty</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.pager-duty</code></td>
      <td><code class="language-plaintext highlighter-rouge">email</code></td>
    </tr>
    <tr>
      <td>CraniumCafe</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.cranium-cafe</code></td>
      <td><code class="language-plaintext highlighter-rouge">email</code>, <code class="language-plaintext highlighter-rouge">eduPersonPrincipalName</code>, <code class="language-plaintext highlighter-rouge">displayName</code>, <code class="language-plaintext highlighter-rouge">eduPersonScopedAffiliation</code>, <code class="language-plaintext highlighter-rouge">studentId</code></td>
    </tr>
    <tr>
      <td>CCC Central</td>
      <td><code class="language-plaintext highlighter-rouge">cas.saml-sp.cccco</code></td>
      <td><code class="language-plaintext highlighter-rouge">email</code>, <code class="language-plaintext highlighter-rouge">eduPersonPrincipalName</code>, <code class="language-plaintext highlighter-rouge">displayName</code>, <code class="language-plaintext highlighter-rouge">eduPersonScopedAffiliation</code>, <code class="language-plaintext highlighter-rouge">uid</code>, <code class="language-plaintext highlighter-rouge">givenName</code>, <code class="language-plaintext highlighter-rouge">commonName</code>, <code class="language-plaintext highlighter-rouge">surname</code>, <code class="language-plaintext highlighter-rouge">eduPersonPrimaryffiliation</code></td>
    </tr>
  </tbody>
</table>

<p><strong>Note</strong>: For InCommon and other metadata aggregates, multiple entity ids can be specified to 
filter <a href="https://spaces.internet2.edu/display/InCFederation/Metadata+Aggregates">the InCommon metadata</a>. EntityIds 
can be regular expression patterns and are mapped to 
CAS’ <code class="language-plaintext highlighter-rouge">serviceId</code> field in the registry. The signature location MUST BE the public key used to sign the metadata.</p>

<h2 id="openid-connect">OpenID Connect</h2>

<p>Allow CAS to become an OpenID Connect provider (OP). To learn more about this topic, <a href="../installation/OIDC-Authentication.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.oidc.issuer=http://localhost:8080/cas/oidc
# cas.authn.oidc.skew=5
</span>
<span class="c"># cas.authn.oidc.dynamic-client-registration-mode=OPEN|PROTECTED
</span>
<span class="c"># cas.authn.oidc.subject-types=public,pairwise
# cas.authn.oidc.scopes=openid,profile,email,address,phone,offline_access
# cas.authn.oidc.claims=sub,name,preferred_username,family_name, \
#    given_name,middle_name,given_name,profile, \
#    picture,nickname,website,zoneinfo,locale,updated_at,birthdate, \
#    email,email_verified,phone_number,phone_number_verified,address
</span>
<span class="c"># cas.authn.oidc.response-types-supported=code,token,id_token token
# cas.authn.oidc.introspection-supported-authentication-methods=client_secret_basic
# cas.authn.oidc.claim-types-supported=normal
# cas.authn.oidc.grant-types-supported=authorization_code,password,client_credentials,refresh_token
# cas.authn.oidc.token-endpoint-auth-methods-supported=client_secret_basic,client_secret_post,private_key_jwt,client_secret_jwt
# cas.authn.oidc.code-challenge-methods-supported=plain,S256
</span>
<span class="c"># cas.authn.oidc.id-token-signing-alg-values-supported=none,RS256,RS384,RS512,PS256,PS384,PS512,ES256,ES384,ES512,HS256,HS384,HS512
# cas.authn.oidc.id-token-encryption-alg-values-supported=RSA1_5,RSA-OAEP,RSA-OAEP-256,A128KW,A192KW,A256KW,\
</span>    <span class="err">A128GCMKW,A192GCMKW,A256GCMKW,ECDH-ES,ECDH-ES+A128KW,ECDH-ES+A192KW,ECDH-ES+A256KW</span>
<span class="c"># cas.authn.oidc.id-token-encryption-encoding-values-supported=A128CBC-HS256,A192CBC-HS384,A256CBC-HS512,A128GCM,A192GCM,A256GCM
</span>
<span class="c"># cas.authn.oidc.user-info-signing-alg-values-supported=none,RS256,RS384,RS512,PS256,PS384,PS512,ES256,ES384,ES512,HS256,HS384,HS512
# cas.authn.oidc.user-info-encryption-alg-values-supported=RSA1_5,RSA-OAEP,RSA-OAEP-256,A128KW,A192KW,A256KW,\
</span>    <span class="err">A128GCMKW,A192GCMKW,A256GCMKW,ECDH-ES,ECDH-ES+A128KW,ECDH-ES+A192KW,ECDH-ES+A256KW</span>
<span class="c"># cas.authn.oidc.user-info-encryption-encoding-values-supported=A128CBC-HS256,A192CBC-HS384,A256CBC-HS512,A128GCM,A192GCM,A256GCM
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="openid-connect-jwks">OpenID Connect JWKS</h3>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.oidc.jwks.jwks-cache-in-minutes=60
# cas.authn.oidc.jwks.jwks-key-size=2048
# cas.authn.oidc.jwks.jwks-type=RSA|EC
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="file-based-jwks">File-based JWKS</h4>

<p>Manage the JSON web keyset for OpenID Connect as a static file resource.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.oidc.jwks.jwks-file=file:/etc/cas/config/keystore.jwks
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="rest-based-jwks">REST-based JWKS</h4>

<p>Reach out to an external REST API to ask for the JSON web keyset. The expected response code is <code class="language-plaintext highlighter-rouge">200</code>
where the response body should contain the contents of the JSON web keyset.</p>

<p>RESTful settings for this feature are available <a href="Configuration-Properties-Common.html#restful-integrations">here</a> 
under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.oidc.jwks.rest</code>.</p>

<h3 id="openid-connect-scopes--claims">OpenID Connect Scopes &amp; Claims</h3>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="c"># Define custom scopes and claims
# cas.authn.oidc.user-defined-scopes.scope1=cn,givenName,photos,customAttribute
# cas.authn.oidc.user-defined-scopes.scope2=cn,givenName,photos,customAttribute2
</span>
<span class="c"># Map fixed claims to CAS attributes
# cas.authn.oidc.claims-map.given_name=custom-given-name
# cas.authn.oidc.claims-map.preferred_username=global-user-attribute
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="openid-connect-webfinger">OpenID Connect WebFinger</h3>

<p>WebFinger is a protocol specified by the Internet Engineering Task Force IETF that allows for 
discovery of information about people and things identified by a URI.[1] Information about a person 
might be discovered via an “acct:” URI, for example, which is a URI that looks like an email address.</p>

<h4 id="webfinger-userinfo-via-groovy">WebFinger UserInfo via Groovy</h4>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.oidc.webfinger.userInfo.groovy.location=classpath:/webfinger.groovy
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="webfinger-userinfo-via-rest">WebFinger UserInfo via REST</h4>

<p>RESTful settings for this feature are available <a href="Configuration-Properties-Common.html#restful-integrations">here</a> 
under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.oidc.webfinger.user-info.rest</code>.</p>

<h3 id="openid-connect-logout">OpenID Connect Logout</h3>

<p>The supported logout channels can be defined via the following properties:</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.oidc.logout.backchannel-logout-supported=true
# cas.authn.oidc.logout.frontchannel-logout-supported=true
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="pac4j-delegated-authn">Pac4j Delegated AuthN</h2>

<p>Act as a proxy, and delegate authentication to external identity providers.
To learn more about this topic, <a href="../integration/Delegate-Authentication.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.pac4j.typed-id-used=false
# cas.authn.pac4j.principal-attribute-id=
# cas.authn.pac4j.name=
# cas.authn.pac4j.order=
# cas.authn.pac4j.lazy-init=true
# cas.authn.pac4j.replicate-sessions=true
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="rest-based-configuration">REST-based Configuration</h3>

<p>Identity providers for delegated authentication can be provided to CAS using an external REST endpoint.</p>

<p>RESTful settings for this feature are 
available <a href="Configuration-Properties-Common.html#restful-integrations">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.pac4j.rest</code>.</p>

<h3 id="default-configuration">Default Configuration</h3>

<p>The following external identity providers share <a href="Configuration-Properties-Common.html#delegated-authentication-settings">common blocks of settings</a> 
under the listed configuration keys listed below:</p>

<table>
  <thead>
    <tr>
      <th>Identity Provider</th>
      <th>Configuration Key</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Twitter</td>
      <td><code class="language-plaintext highlighter-rouge">cas.authn.pac4j.twitter</code></td>
    </tr>
    <tr>
      <td>Paypal</td>
      <td><code class="language-plaintext highlighter-rouge">cas.authn.pac4j.paypal</code></td>
    </tr>
    <tr>
      <td>Wordpress</td>
      <td><code class="language-plaintext highlighter-rouge">cas.authn.pac4j.wordpress</code></td>
    </tr>
    <tr>
      <td>Yahoo</td>
      <td><code class="language-plaintext highlighter-rouge">cas.authn.pac4j.yahoo</code></td>
    </tr>
    <tr>
      <td>Orcid</td>
      <td><code class="language-plaintext highlighter-rouge">cas.authn.pac4j.orcid</code></td>
    </tr>
    <tr>
      <td>Dropbox</td>
      <td><code class="language-plaintext highlighter-rouge">cas.authn.pac4j.dropbox</code></td>
    </tr>
    <tr>
      <td>GitHub</td>
      <td><code class="language-plaintext highlighter-rouge">cas.authn.pac4j.github</code></td>
    </tr>
    <tr>
      <td>Foursquare</td>
      <td><code class="language-plaintext highlighter-rouge">cas.authn.pac4j.foursquare</code></td>
    </tr>
    <tr>
      <td>WindowsLive</td>
      <td><code class="language-plaintext highlighter-rouge">cas.authn.pac4j.windows-live</code></td>
    </tr>
    <tr>
      <td>Google</td>
      <td><code class="language-plaintext highlighter-rouge">cas.authn.pac4j.google</code></td>
    </tr>
    <tr>
      <td>HiOrg-Server</td>
      <td><code class="language-plaintext highlighter-rouge">cas.authn.pac4j.hi-org-server</code></td>
    </tr>
  </tbody>
</table>

<p>See below for other identity providers such as CAS, SAML2 and more.</p>

<h3 id="provisioning">Provisioning</h3>

<p>Provision and create established user profiles to identity stores.</p>

<h4 id="groovy-5">Groovy</h4>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.pac4j.provisioning.groovy.location=file:/etc/cas/config/Provisioner.groovy
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="rest-4">REST</h4>

<p>RESTful settings for this feature are available <a href="Configuration-Properties-Common.html#restful-integrations">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.pac4j.provisioning.rest</code>.</p>

<h3 id="github">GitHub</h3>

<p>In addition to the <a href="Configuration-Properties-Common.html#delegated-authentication-settings">common block of settings</a>, the following 
properties are additionally supported, when delegating authentication to GitHub:</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.pac4j.github.scope=user|read:user|user:email|...
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>The default scope is <code class="language-plaintext highlighter-rouge">user</code>, i.e. <code class="language-plaintext highlighter-rouge">read/write</code> access to the GitHub user account.</p>

<p>For a full list of possible scopes, please <a href="https://developer.github.com/apps/building-oauth-apps/understanding-scopes-for-oauth-apps/">see this link</a>.</p>

<h3 id="google">Google</h3>

<p>In addition to the <a href="Configuration-Properties-Common.html#delegated-authentication-settings">common block of settings</a> , the following properties are additionally supported, when delegating authentication to Google:</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.pac4j.google.scope=EMAIL|PROFILE|EMAIL_AND_PROFILE
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="cas">CAS</h3>

<p>Delegate authentication to an external CAS server.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.pac4j.cas[0].login-url=
# cas.authn.pac4j.cas[0].protocol=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="oauth20">OAuth20</h3>

<p>Delegate authentication to an generic OAuth2 server. Common settings for this 
identity provider are available <a href="Configuration-Properties-Common.html#delegated-authentication-settings">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.pac4j.oauth2[0]</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.pac4j.oauth2[0].auth-url=
# cas.authn.pac4j.oauth2[0].token-url=
# cas.authn.pac4j.oauth2[0].profile-url=
# cas.authn.pac4j.oauth2[0].profile-path=
# cas.authn.pac4j.oauth2[0].scope=
# cas.authn.pac4j.oauth2[0].profile-verb=GET|POST
# cas.authn.pac4j.oauth2[0].response-type=code
# cas.authn.pac4j.oauth2[0].profile-attrs.attr1=path-to-attr-in-profile
# cas.authn.pac4j.oauth2[0].custom-params.param1=value1
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="openid-connect-1">OpenID Connect</h3>

<p>Delegate authentication to an external OpenID Connect server.</p>

<p>Common settings for this identity provider are available <a href="Configuration-Properties-Common.html#delegated-authentication-settings">here</a> 
under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.pac4j.oidc[0]</code>.</p>

<h4 id="google-1">Google</h4>

<p>Common settings for this identity provider are available <a href="Configuration-Properties-Common.html#delegated-authentication-openid-connect-settings">here</a> 
under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.pac4j.oidc[0].google</code>.</p>

<h4 id="azure-ad">Azure AD</h4>

<p>Common settings for this identity provider are available <a href="Configuration-Properties-Common.html#delegated-authentication-openid-connect-settings">here</a> 
under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.pac4j.oidc[0].azure</code>.</p>

<p>The following settings specifically apply to this provider:</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.pac4j.oidc[0].azure.tenant=tenant-name
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="keycloak">KeyCloak</h4>

<p>Common settings for this identity provider are available <a href="Configuration-Properties-Common.html#delegated-authentication-openid-connect-settings">here</a> 
under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.pac4j.oidc[0].keycloak</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.pac4j.oidc[0].keycloak.realm=
# cas.authn.pac4j.oidc[0].keycloak.base-uri=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="generic">Generic</h4>

<p>Common settings for this identity provider are available <a href="Configuration-Properties-Common.html#delegated-authentication-openid-connect-settings">here</a> 
under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.pac4j.oidc[0].generic</code>.</p>

<h3 id="saml2">SAML2</h3>

<p>Delegate authentication to an external SAML2 IdP.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.pac4j.saml[0].keystore-password=
# cas.authn.pac4j.saml[0].private-key-password=
# cas.authn.pac4j.saml[0].keystore-path=
# cas.authn.pac4j.saml[0].keystore-alias=
</span>
<span class="c"># cas.authn.pac4j.saml[0].service-provider-entity-id=
# cas.authn.pac4j.saml[0].service-provider-metadata-path=
</span>
<span class="c"># cas.authn.pac4j.saml[0].certificate-name-to-append=
</span>
<span class="c"># cas.authn.pac4j.saml[0].maximum-authentication-lifetime=3600
# cas.authn.pac4j.saml[0].maximum-authentication-lifetime=300
# cas.authn.pac4j.saml[0].destination-binding=urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect
</span>
<span class="c"># cas.authn.pac4j.saml[0].identity-provider-metadata-path=
</span>
<span class="c"># cas.authn.pac4j.saml[0].authn-context-class-ref[0]=
# cas.authn.pac4j.saml[0].authn-context-comparison-type=
# cas.authn.pac4j.saml[0].name-id-policy-format=
# cas.authn.pac4j.saml[0].force-auth=false
# cas.authn.pac4j.saml[0].passive=false
</span>
<span class="c"># cas.authn.pac4j.saml[0].wants-assertions-signed=
# cas.authn.pac4j.saml[0].wants-responses-signed=
# cas.authn.pac4j.saml[0].all-signature-validation-disabled=false
# cas.authn.pac4j.saml[0].sign-service-provider-metadata=false
# cas.authn.pac4j.saml[0].principal-id-attribute=eduPersonPrincipalName
# cas.authn.pac4j.saml[0].use-name-qualifier=true
# cas.authn.pac4j.saml[0].attribute-consuming-service-index=
# cas.authn.pac4j.saml[0].assertion-consumer-service-index=-1
# cas.authn.pac4j.saml[0].provider-name=
# cas.authn.pac4j.saml[0].name-id-policy-allow-create=TRUE|FALSE|UNDEFINED
</span>

<span class="c"># cas.authn.pac4j.saml[0].sign-authn-request=false
# cas.authn.pac4j.saml[0].sign-service-provider-logout-request=false
# cas.authn.pac4j.saml[0].black-listed-signature-signing-algorithms[0]=
# cas.authn.pac4j.saml[0].signature-algorithms[0]=
# cas.authn.pac4j.saml[0].signature-reference-digest-methods[0]=
# cas.authn.pac4j.saml[0].signature-canonicalization-algorithm=
</span>
<span class="c"># cas.authn.pac4j.saml[0].requested-attributes[0].name=
# cas.authn.pac4j.saml[0].requested-attributes[0].friendly-name=
# cas.authn.pac4j.saml[0].requested-attributes[0].name-format=urn:oasis:names:tc:SAML:2.0:attrname-format:uri
# cas.authn.pac4j.saml[0].requested-attributes[0].required=false
</span>
<span class="c"># cas.authn.pac4j.saml[0].mapped-attributes[0].name=urn:oid:2.5.4.42
# cas.authn.pac4j.saml[0].mapped-attributes[0].mapped-as=displayName
</span>
<span class="c"># cas.authn.pac4j.saml[0].message-store-factory=org.pac4j.saml.store.EmptyStoreFactory
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>Examine the generated metadata after accessing the CAS login screen to ensure all 
ports and endpoints are correctly adjusted. Finally, share the CAS SP metadata with the delegated IdP and register CAS as an authorized relying party.</p>

<h4 id="saml2-identity-provider-discovery">SAML2 Identity Provider Discovery</h4>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="err">cas.authn.pac4j.saml-discovery.resource[0]</span><span class="py">.location</span><span class="p">=</span><span class="s">file:/etc/cas/config/json-feed.json</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="facebook">Facebook</h3>

<p>Delegate authentication to Facebook. Common settings for this identity provider are available <a href="Configuration-Properties-Common.html#delegated-authentication-settings">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.pac4j.facebook</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.pac4j.facebook.fields=
# cas.authn.pac4j.facebook.scope=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="hiorg-server">HiOrg Server</h3>

<p>Delegate authentication to HiOrg Server. Common settings for this identity provider are available <a href="Configuration-Properties-Common.html#delegated-authentication-settings">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.pac4j.hi-org-server</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.pac4j.hi-org-server.scope=eigenedaten
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="linkedin">LinkedIn</h3>

<p>Delegate authentication to LinkedIn. Common settings for this identity provider are available <a href="Configuration-Properties-Common.html#delegated-authentication-settings">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.pac4j.linkedin</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.pac4j.linked-in.scope=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="twitter">Twitter</h3>
<p>Delegate authentication to Twitter.  Common settings for this identity provider are available <a href="Configuration-Properties-Common.html#delegated-authentication-settings">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.pac4j.twitter</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.pac4j.twitter.include-email=false
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="ws-federation">WS Federation</h2>

<p>Allow CAS to act as an identity provider and security token service
to support the WS-Federation protocol.</p>

<p>To learn more about this topic, <a href="../protocol/WS-Federation-Protocol.html">please review this guide</a></p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.wsfed-idp.idp.realm=urn:org:apereo:cas:ws:idp:realm-CAS
# cas.authn.wsfed-idp.idp.realm-name=CAS
</span>
<span class="c"># cas.authn.wsfed-idp.sts.signing-keystore-file=/etc/cas/config/ststrust.jks
# cas.authn.wsfed-idp.sts.signing-keystore-password=storepass
# cas.authn.wsfed-idp.sts.encryption-keystore-file=/etc/cas/config/stsencrypt.jks
# cas.authn.wsfed-idp.sts.encryption-keystore-password=storepass
</span>
<span class="c"># cas.authn.wsfed-idp.sts.subject-name-id-format=unspecified
# cas.authn.wsfed-idp.sts.subject-name-qualifier=http://cxf.apache.org/sts
# cas.authn.wsfed-idp.sts.encrypt-tokens=true
# cas.authn.wsfed-idp.sts.sign-tokens=true
</span>
<span class="c"># cas.authn.wsfed-idp.sts.conditions-accept-client-lifetime=true
# cas.authn.wsfed-idp.sts.conditions-fail-lifetime-exceedance=false
# cas.authn.wsfed-idp.sts.conditions-future-time-to-live=PT60S
# cas.authn.wsfed-idp.sts.conditions-lifetime=PT30M
# cas.authn.wsfed-idp.sts.conditions-max-lifetime=PT12H
</span>
<span class="c"># cas.authn.wsfed-idp.sts.realm.keystore-file=/etc/cas/config/stscasrealm.jks
# cas.authn.wsfed-idp.sts.realm.keystore-password=storepass
# cas.authn.wsfed-idp.sts.realm.keystore-alias=realmcas
# cas.authn.wsfed-idp.sts.realm.key-password=cas
# cas.authn.wsfed-idp.sts.realm.issuer=CAS
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="signing--encryption-3">Signing &amp; Encryption</h3>

<p>The signing and encryption keys <a href="Configuration-Properties-Common.html#signing--encryption">are both JWKs</a> of size <code class="language-plaintext highlighter-rouge">512</code> and <code class="language-plaintext highlighter-rouge">256</code>. The encryption algorithm is set to <code class="language-plaintext highlighter-rouge">AES_128_CBC_HMAC_SHA_256</code>.  These come into play in order to secure authentication requests between the IdP and STS. Signing &amp; encryption settings for this feature are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.wsfed-idp.sts</code>.</p>

<h2 id="oauth2">OAuth2</h2>

<p>Allows CAS to act as an OAuth2 provider. Here you can control how long various tokens issued by CAS should last, etc.</p>

<p>Signing &amp; encryption settings for this feature are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> 
under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.oauth</code>.</p>

<p>To learn more about this topic, <a href="../installation/OAuth-OpenId-Authentication.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.oauth.replicate-sessions=false 
# cas.authn.oauth.grants.resource-owner.require-service-header=true
# cas.authn.oauth.user-profile-view-type=NESTED|FLAT
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="refresh-tokens">Refresh Tokens</h3>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.oauth.refresh-token.time-to-kill-in-seconds=2592000
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="codes">Codes</h3>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.oauth.code.time-to-kill-in-seconds=30
# cas.authn.oauth.code.number-of-uses=1
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="access-tokens">Access Tokens</h3>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.oauth.access-token.time-to-kill-in-seconds=7200
# cas.authn.oauth.access-token.max-time-to-live-in-seconds=28800
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="device-tokens">Device Tokens</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre># cas.authn.oauth.device-token.time-to-kill-in-seconds=2592000
# cas.authn.oauth.device-token.refresh-interval=PT15S 
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="device-user-codes">Device User Codes</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre># cas.authn.oauth.device-user-code.time-to-kill-in-seconds=2592000
# cas.authn.oauth.device-user-code.user-code-length=8
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="oauth2-jwt-access-tokens">OAuth2 JWT Access Tokens</h3>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.oauth.access-token.create-as-jwt=false
# cas.authn.oauth.access-token.crypto.encryption-enabled=true
# cas.authn.oauth.access-token.crypto.signing-enabled=true
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>The signing key and the encryption key <a href="Configuration-Properties-Common.html#signing--encryption">are both JWKs</a> of size <code class="language-plaintext highlighter-rouge">512</code> and <code class="language-plaintext highlighter-rouge">256</code>.
Signing &amp; encryption settings for this feature are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> 
under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.oauth.access-token</code>.</p>

<h3 id="oauth2-uma">OAuth2 UMA</h3>

<p>To learn more about this topic, <a href="../installation/OAuth-OpenId-Authentication.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.uma.issuer=http://localhost:8080/cas
</span>
<span class="c"># cas.authn.uma.requesting-party-token.max-time-to-live-in-seconds=PT3M
# cas.authn.uma.requesting-party-token.jwks-file=file:/etc/cas/config/uma-keystore.jwks
</span>
<span class="c"># cas.authn.uma.permission-ticket.max-time-to-live-in-seconds=PT3M
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="oauth2-uma-jpa">OAuth2 UMA JPA</h4>

<p>Database settings for this feature are available <a href="Configuration-Properties-Common.html#database-settings">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.uma.resource-set.jpa</code>.</p>

<h2 id="localization">Localization</h2>

<p>To learn more about this topic, <a href="../ux/User-Interface-Customization-Localization.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># cas.locale.param-name=locale
# cas.locale.default-value=en
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>If the user changes the language, a special cookie is created by CAS to contain the selected language. Cookie settings for this feature are available <a href="Configuration-Properties-Common.html#cookie-properties">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.locale.cookie</code>.</p>

<h2 id="global-sso-behavior">Global SSO Behavior</h2>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="c"># cas.sso.allow-missing-service-parameter=true
# cas.sso.create-sso-cookie-on-renew-authn=true
# cas.sso.proxy-authn-enabled=true
# cas.sso.renew-authn-enabled=true
# cas.sso.required-service-pattern=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="warning-cookie">Warning Cookie</h2>

<p>Created by CAS if and when users are to be warned when accessing CAS protected services. Cookie settings for this feature are available <a href="Configuration-Properties-Common.html#cookie-properties">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.warning-cookie</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.warningCookie.auto-configure-cookie-path=true
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="ticket-granting-cookie">Ticket Granting Cookie</h2>

<p>Cookie settings for this feature are available <a href="Configuration-Properties-Common.html#cookie-properties">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.tgc</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c"># cas.tgc.pin-to-session=true
# cas.tgc.remember-me-max-age=P14D
# cas.tgc.auto-configure-cookie-path=true
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="signing--encryption-4">Signing &amp; Encryption</h3>

<p>The signing and encryption keys <a href="Configuration-Properties-Common.html#signing--encryption">are both JWKs</a> of size <code class="language-plaintext highlighter-rouge">512</code> and <code class="language-plaintext highlighter-rouge">256</code>.
The encryption algorithm is set to <code class="language-plaintext highlighter-rouge">AES_128_CBC_HMAC_SHA_256</code>.
Signing &amp; encryption settings for this feature are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.tgc</code>.</p>

<h2 id="logout">Logout</h2>

<p>Control various settings related to CAS logout functionality. To learn more about this topic, <a href="../installation/Logout-Single-Signout.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="c"># cas.logout.follow-service-redirects=false
# cas.logout.redirect-parameter=service
# cas.logout.redirect-url=https://www.github.com
# cas.logout.confirm-logout=false
# cas.logout.remove-descendant-tickets=false
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="single-logout">Single Logout</h2>

<p>To learn more about this topic, <a href="../installation/Logout-Single-Signout.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># cas.slo.disabled=false
# cas.slo.asynchronous=true
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="clearpass">Clearpass</h2>

<p>Capture and cache user credentials and optionally release them to trusted applications.
To learn more about this topic, <a href="../integration/ClearPass.html">please review this guide</a>.</p>

<div class="alert alert-warning"><strong>Usage Warning!</strong><p>ClearPass is turned off by default.
Think <strong>VERY CAREFULLY</strong> before turning on this feature, as it <strong>MUST</strong> be
the last resort in getting an integration to work...maybe not even then.</p></div>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.clearpass.cache-credential=false
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>The signing and encryption keys <a href="Configuration-Properties-Common.html#signing--encryption">are both JWKs</a> of size <code class="language-plaintext highlighter-rouge">512</code> and <code class="language-plaintext highlighter-rouge">256</code>. The encryption algorithm is set to <code class="language-plaintext highlighter-rouge">AES_128_CBC_HMAC_SHA_256</code>. Signing &amp; encryption settings for this feature are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.clearpass</code>.</p>

<h2 id="message-bundles">Message Bundles</h2>

<p>To learn more about this topic, <a href="../ux/User-Interface-Customization-Localization.html">please review this guide</a>.
The baseNames are message bundle base names representing files that either end in .properties or _xx.properties where xx is a country locale code. The commonNames are not actually message bundles but they are properties files that are merged together and contain keys that are only used if they are not found in the message bundles. Keys from the later files in the list will be preferred over keys from the earlier files.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="c"># cas.message-bundle.encoding=UTF-8
# cas.message-bundle.fallback-system-locale=false
# cas.message-bundle.cache-seconds=180
# cas.message-bundle.use-code-message=true
# cas.message-bundle.base-names=classpath:custom_messages,classpath:messages
# cas.message-bundle.common-names=classpath:/common_messages.properties,file:/etc/cas/config/common_messages.properties
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="audits">Audits</h2>

<p>Control how audit messages are formatted.
To learn more about this topic, <a href="../installation/Audits.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre><span class="c"># cas.audit.enabled=true
# cas.audit.ignore-audit-failures=false
# cas.audit.app-code=CAS
# cas.audit.number-of-days-in-history=30
# cas.audit.include-validation-assertion=false
# cas.audit.alternate-server-addr-header-name=
# cas.audit.alternate-client-addr-header-name=X-Forwarded-For
# cas.audit.use-server-host-address=false  
</span>
<span class="c"># cas.audit.supported-actions=*
# cas.audit.excluded-actions=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="slf4j-audits">Slf4j Audits</h3>

<p>Route audit logs to the Slf4j logging system which might in turn store audit logs in a file or any other
destination that the logging system supports.</p>

<p>The logger name is fixed at <code class="language-plaintext highlighter-rouge">org.apereo.inspektr.audit.support</code>.</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="nt">&lt;AsyncLogger</span> <span class="na">name=</span><span class="s">"org.apereo.inspektr.audit.support"</span> <span class="na">level=</span><span class="s">"info"</span><span class="nt">&gt;</span>
    <span class="c">&lt;!-- Route the audit data to any number of appenders supported by the logging framework. --&gt;</span>
<span class="nt">&lt;/AsyncLogger&gt;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="alert alert-info"><strong></strong><p>Audit records routed to the Slf4j log are not
able to read the audit data back given the abstraction layer between CAS, the logging system
and any number of log appenders that might push data to a variety of systems.</p></div>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="c"># cas.audit.slf4j.audit-format=DEFAULT|JSON
# cas.audit.slf4j.singleline-separator=|
# cas.audit.slf4j.use-single-line=false
# cas.audit.slf4j.enabled=true
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="mongodb-audits">MongoDb Audits</h3>

<p>Store audit logs inside a MongoDb database.</p>

<p>Common configuration settings for this feature are available 
<a href="Configuration-Properties-Common.html#mongodb-configuration">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.audit</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.audit.mongo.asynchronous=true
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="redis-audits">Redis Audits</h3>

<p>Store audit logs inside a Redis database.</p>

<p>Common configuration settings for this feature are available 
<a href="Configuration-Properties-Common.html#redis-configuration">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.audit</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.audit.redis.asynchronous=true
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="couchdb-audits">CouchDb Audits</h3>

<p>Store audit logs inside a CouchDb database.</p>

<p>Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#couchdb-configuration">here</a>
under the configuration key <code class="language-plaintext highlighter-rouge">cas.audit</code>.</p>

<h3 id="couchbase-audits">Couchbase Audits</h3>

<p>Store audit logs inside a Couchbase database.</p>

<p>Database settings for this feature are available <a href="Configuration-Properties-Common.html#couchbase-integration-settings">here</a> 
under the configuration key <code class="language-plaintext highlighter-rouge">cas.audit.couchbase</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.audit.couchbase.asynchronous=true
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="dynamodb-audits">DynamoDb Audits</h3>

<p>Store audit logs inside a DynamoDb database.</p>

<p>Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#dynamodb-configuration">here</a>
under the configuration key <code class="language-plaintext highlighter-rouge">cas.audit</code>.</p>

<p>AWS settings for this feature are available <a href="Configuration-Properties-Common.html#amazon-integration-settings">here</a> 
under the configuration key <code class="language-plaintext highlighter-rouge">cas.audit.dynamo-db</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.audit.dynamo-db.asynchronous=true
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="database-audits">Database Audits</h3>

<p>Store audit logs inside a database. Database settings for this feature are available <a href="Configuration-Properties-Common.html#database-settings">here</a>
under the configuration key <code class="language-plaintext highlighter-rouge">cas.audit.jdbc</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c"># cas.audit.jdbc.asynchronous=true
# cas.audit.jdbc.max-age-days=180
# cas.audit.jdbc.column-length=100
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>Scheduler settings for this feature are available <a href="Configuration-Properties-Common.html#job-scheduling">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.audit.jdbc</code>.</p>

<h3 id="rest-audits">REST Audits</h3>

<p>Store audit logs inside a database. RESTful settings for this feature are 
available <a href="Configuration-Properties-Common.html#restful-integrations">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.audit.rest</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.audit.rest.asynchronous=true
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="sleuth-distributed-tracing">Sleuth Distributed Tracing</h2>

<p>To learn more about this topic, <a href="../monitoring/Monitoring-Statistics.html#distributed-tracing">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="c"># spring.sleuth.sampler.percentage = 0.5
# spring.sleuth.enabled=true
</span>
<span class="c"># spring.zipkin.enabled=true
# spring.zipkin.base-url=http://localhost:9411/
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="monitoring">Monitoring</h2>

<p>To learn more about this topic, <a href="../monitoring/Monitoring-Statistics.html">please review this guide</a>.</p>

<h3 id="ticket-granting-tickets">Ticket Granting Tickets</h3>

<p>Decide how CAS should monitor the generation of TGTs.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># cas.monitor.tgt.warn.threshold=10
# cas.monitor.tgt.warn.eviction-threshold=0
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="service-tickets">Service Tickets</h3>

<p>Decide how CAS should monitor the generation of STs.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># cas.monitor.st.warn.threshold=10
# cas.monitor.st.warn.evictionThreshold=0
</span></pre></td></tr></tbody></table></code></pre></div></div>
<h3 id="load">Load</h3>

<p>Decide how CAS should monitor system load of a CAS Server.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.monitor.load.warn.threshold=25
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="cache-monitors">Cache Monitors</h3>

<p>Decide how CAS should monitor the internal state of various cache storage services.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># cas.monitor.warn.threshold=10
# cas.monitor.warn.eviction-threshold=0
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="memcached-monitors">Memcached Monitors</h3>

<p>Decide how CAS should monitor the internal state of a memcached connection pool. 
Integration settings for this registry are available <a href="Configuration-Properties-Common.html#memcached-integration-settings">here</a> 
under the configuration key <code class="language-plaintext highlighter-rouge">cas.monitor.memcached</code>.</p>

<h3 id="mongodb-monitors">MongoDb Monitors</h3>

<p>Decide how CAS should monitor the internal state of a MongoDb instance.<br />
Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#mongodb-configuration">here</a> 
under the configuration key <code class="language-plaintext highlighter-rouge">cas.monitor</code>.</p>

<h3 id="database-monitoring">Database Monitoring</h3>

<p>Decide how CAS should monitor the internal state of JDBC connections used
for authentication or attribute retrieval. Database settings for this feature are 
available <a href="Configuration-Properties-Common.html#database-settings">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.monitor.jdbc</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># cas.monitor.jdbc.validation-query=SELECT 1
# cas.monitor.jdbc.max-wait=5000
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="ldap-server-monitoring">LDAP Server Monitoring</h3>

<p>Decide how CAS should monitor the LDAP server it uses for authentication, etc.<br />
LDAP settings for this feature are 
available <a href="Configuration-Properties-Common.html#ldap-connection-settings">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.monitor.ldap[0]</code>.
The default for the pool size is zero to prevent failed ldap pool initialization to impact server startup.</p>

<p>The following properties are specific to the ldap monitor and configure the thread pool 
that will ping on the LDAP monitor connection pool.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="c"># cas.monitor.ldap[0].max-wait=5000
# cas.monitor.ldap[0].pool.min-size=0
# cas.monitor.ldap[0].pool.max-size=18
# cas.monitor.ldap[0].pool.enabled=true
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="memory">Memory</h3>

<p>Decide how CAS should monitor the internal state of JVM memory available at runtime.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.monitor.free-mem-threshold=10
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="themes">Themes</h2>

<p>To learn more about this topic, <a href="../ux/User-Interface-Customization-Themes.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># cas.theme.param-name=theme
# cas.theme.default-theme-name=cas-theme-default
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="events">Events</h2>

<p>Decide how CAS should track authentication events.
To learn more about this topic, <a href="../installation/Configuring-Authentication-Events.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="py">cas.events.enabled</span><span class="p">=</span><span class="s">true</span>

<span class="c"># Whether geolocation tracking should be turned on and requested from the browser.
# cas.events.track-geolocation=false
</span>
<span class="c"># Control whether CAS should monitor configuration files and auto-refresh context.
# cas.events.track-configuration-modifications=true
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="influxdb-events">InfluxDb Events</h3>

<p>Decide how CAS should store authentication events inside an InfluxDb instance. Common 
configuration settings for this feature are available <a href="Configuration-Properties-Common.html#influxdb-configuration">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.events.influx-db</code>.</p>

<h3 id="couchdb-events">CouchDb Events</h3>

<p>Decide how CAS should store authentication events inside a CouchDb instance. Common
configuration settings for this feature are available <a href="Configuration-Properties-Common.html#couchdb-configuration">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.events.couch-db</code>.</p>

<h3 id="database-events">Database Events</h3>

<p>Decide how CAS should store authentication events inside a database instance. Database 
settings for this feature are available <a href="Configuration-Properties-Common.html#database-settings">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.events.jpa</code>.</p>

<h3 id="mongodb-events">MongoDb Events</h3>

<p>Decide how CAS should store authentication events inside a MongoDb instance. Common 
configuration settings for this feature are available <a href="Configuration-Properties-Common.html#mongodb-configuration">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.events</code>.</p>

<h2 id="http-web-requests">Http Web Requests</h2>

<p>Control how CAS should respond and validate incoming HTTP requests.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
</pre></td><td class="rouge-code"><pre><span class="c"># cas.http-web-request.header.enabled=true
</span>
<span class="c"># cas.http-web-request.header.xframe=true
# cas.http-web-request.header.xframe-options=DENY
</span>
<span class="c"># cas.http-web-request.header.xss=true
# cas.http-web-request.header.xss-options=1; mode=block
</span>
<span class="c"># cas.http-web-request.header.hsts=true
# cas.http-web-request.header.xcontent=true
# cas.http-web-request.header.cache=true
# cas.http-web-request.header.content-security-policy=
</span>
<span class="c"># cas.http-web-request.cors.enabled=false
# cas.http-web-request.cors.allow-credentials=false
# cas.http-web-request.cors.allow-origins[0]=
# cas.http-web-request.cors.allow-methods[0]=*
# cas.http-web-request.cors.allow-headers[0]=*
# cas.http-web-request.cors.max-age=3600
# cas.http-web-request.cors.exposed-headers[0]=
</span>
<span class="c"># cas.http-web-request.web.force-encoding=true
# cas.http-web-request.web.encoding=UTF-8
</span>
<span class="c"># cas.http-web-request.allow-multi-value-parameters=false
# cas.http-web-request.only-post-params=username,password
# cas.http-web-request.params-to-check=ticket,service,renew,gateway,warn,method,target,SAMLart,pgtUrl,pgt,pgtId,pgtIou,targetService,entityId,token
# cas.http-web-request.pattern-to-block=
# cas.http-web-request.characters-to-forbid=none
</span>
<span class="c"># cas.http-web-request.custom-headers.header-name1=headerValue1
# cas.http-web-request.custom-headers.header-name2=headerValue2
</span>
<span class="c"># spring.http.encoding.charset=UTF-8
# spring.http.encoding.force=true
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="http-client">Http Client</h2>

<p>Control how CAS should attempt to contact resources on the web
via its own Http Client. This is most commonly used when responding
to ticket validation events and/or single logout.</p>

<p>In the event that local certificates are to be imported into the CAS running environment,
a local truststore is provided by CAS to improve portability of configuration across environments.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="rouge-code"><pre><span class="c"># cas.http-client.connection-timeout=5000
# cas.http-client.async-timeout=5000
# cas.http-client.read-timeout=5000 
</span>
<span class="c"># cas.http-client.proxy-host=
# cas.http-client.proxy-port=0 
</span>
<span class="c"># cas.http-client.host-name-verifier=NONE|DEFAULT
# cas.http-client.allow-local-logout-urls=false
# cas.http-client.authority-validation-reg-ex=
# cas.http-client.authority-validation-reg-ex-case-sensitive=true
</span>
<span class="c"># cas.http-client.truststore.psw=changeit
# cas.http-client.truststore.file=classpath:/truststore.jks
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="hostname-verification">Hostname Verification</h3>

<p>The default options are available for hostname verification:</p>

<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">NONE</code></td>
      <td>Ignore hostname verification.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">DEFAULT</code></td>
      <td>Enforce hostname verification.</td>
    </tr>
  </tbody>
</table>

<h2 id="service-registry">Service Registry</h2>

<p>See <a href="../services/Service-Management.html">this guide</a> to learn more.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="c"># cas.service-registry.watcher-enabled=true
</span>
<span class="c"># Auto-initialize the registry from default JSON service definitions
# cas.service-registry.init-from-json=false
</span>
<span class="c"># cas.service-registry.management-type=DEFAULT|DOMAIN
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>Scheduler settings for this feature are available <a href="Configuration-Properties-Common.html#job-scheduling">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.service-registry</code>.</p>

<h3 id="service-registry-notifications">Service Registry Notifications</h3>

<p>Email notifications settings for this feature are available <a href="Configuration-Properties-Common.html#email-notifications">here</a> 
under the configuration key <code class="language-plaintext highlighter-rouge">cas.service-registry</code>. SMS notifications settings for this feature are 
available <a href="Configuration-Properties-Common.html#sms-notifications">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.service-registry</code>.</p>

<h3 id="json-service-registry">JSON Service Registry</h3>

<p>If the underlying service registry is using local system resources
to locate JSON service definitions, decide how those resources should be found.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.service-registry.json.location=classpath:/services
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>To learn more about this topic, <a href="../services/JSON-Service-Management.html">please review this guide</a>.</p>

<h3 id="yaml-service-registry">YAML Service Registry</h3>

<p>If the underlying service registry is using local system resources
to locate YAML service definitions, decide how those resources should be found.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.service-registry.yaml.location=classpath:/services
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>To learn more about this topic, <a href="../services/YAML-Service-Management.html">please review this guide</a>.</p>

<h3 id="git-service-registry">Git Service Registry</h3>

<p>Works with git repository to fetch and manage service registry definitions.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre><span class="c"># cas.service-registry.git.repository-url=https://github.com/repository
# cas.service-registry.git.root-directory=
# cas.service-registry.git.active-branch=master
# cas.service-registry.git.sign-commits=false
# cas.service-registry.git.username=
# cas.service-registry.git.password=
# cas.service-registry.git.clone-directory=file:/tmp/cas-service-registry
# cas.service-registry.git.push-changes=false
# cas.service-registry.git.private-key-passphrase=
# cas.service-registry.git.private-key-path=
# cas.service-registry.git.ssh-session-password=
# cas.service-registry.git.timeout=PT10S
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>To learn more about this topic, <a href="../services/Git-Service-Management.html">please review this guide</a>.</p>

<h3 id="restful-service-registry">RESTful Service Registry</h3>

<p>To learn more about this topic, <a href="../services/REST-Service-Management.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c"># cas.service-registry.rest.url=https://example.api.org
# cas.service-registry.rest.basic-auth-username=
# cas.service-registry.rest.basic-auth-password=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="couchdb-service-registry">CouchDb Service Registry</h3>

<p>To learn more about this topic, <a href="../services/CouchDb-Service-Management.html">please review this guide</a>. Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#couchdb-configuration">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.service-registry</code>.</p>

<h3 id="redis-service-registry">Redis Service Registry</h3>

<p>To learn more about this topic, <a href="../services/Redis-Service-Management.html">please review this guide</a>. Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#redis-configuration">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.service-registry</code>.</p>

<h3 id="cosmosdb-service-registry">CosmosDb Service Registry</h3>

<p>To learn more about this topic, <a href="../services/CosmosDb-Service-Management.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="c"># cas.service-registry.cosmos-db.uri=
# cas.service-registry.cosmos-db.key=
# cas.service-registry.cosmos-db.database=
# cas.service-registry.cosmos-db.collection=
# cas.service-registry.cosmos-db.throughput=10000
# cas.service-registry.cosmos-db.drop-collection=true
# cas.service-registry.cosmos-db.consistency-level=Session
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="dynamodb-service-registry">DynamoDb Service Registry</h3>

<p>To learn more about this topic, <a href="../services/DynamoDb-Service-Management.html">please review this guide</a>.
Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#dynamodb-configuration">here</a>
under the configuration key <code class="language-plaintext highlighter-rouge">cas.service-registry</code>.
AWS settings for this feature are available <a href="Configuration-Properties-Common.html#amazon-integration-settings">here</a> 
under the configuration key <code class="language-plaintext highlighter-rouge">cas.service-registry.dynamo-db</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.service-registry.dynamo-db.table-name=DynamoDbCasServices
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="cassandra-service-registry">Cassandra Service Registry</h3>

<p>To learn more about this topic, <a href="../services/Cassandra-Service-Management.html">please review this guide</a>.</p>

<p>Common Cassandra settings for this feature are available <a href="Configuration-Properties-Common.html#cassandra-configuration">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.service-registry.cassandra</code>.</p>

<h3 id="mongodb-service-registry">MongoDb Service Registry</h3>

<p>Store CAS service definitions inside a MongoDb instance. To learn more about this topic, <a href="../services/MongoDb-Service-Management.html">please review this guide</a>.
 Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#mongodb-configuration">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.service-registry</code>.</p>

<h3 id="ldap-service-registry">LDAP Service Registry</h3>

<p>Control how CAS services should be found inside an LDAP instance.
To learn more about this topic, <a href="../services/LDAP-Service-Management.html">please review this guide</a>.  LDAP settings for this feature are available <a href="Configuration-Properties-Common.html#ldap-connection-settings">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.service-registry.ldap</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="c"># cas.service-registry.ldap.service-definition-attribute=description
# cas.service-registry.ldap.id-attribute=uid
# cas.service-registry.ldap.object-class=casRegisteredService
# cas.service-registry.ldap.search-filter=(%s={0})
# cas.service-registry.ldap.load-filter=(objectClass=%s)
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="couchbase-service-registry">Couchbase Service Registry</h3>

<p>Control how CAS services should be found inside a Couchbase instance.
To learn more about this topic, <a href="../services/Couchbase-Service-Management.html">please review this guide</a>. 
Database settings for this feature are available <a href="Configuration-Properties-Common.html#couchbase-integration-settings">here</a> 
under the configuration key <code class="language-plaintext highlighter-rouge">cas.service-registry.couchbase</code>.</p>

<h3 id="database-service-registry">Database Service Registry</h3>

<p>Control how CAS services should be found inside a database instance.
To learn more about this topic, <a href="../services/JPA-Service-Management.html">please review this guide</a>. 
Database settings for this feature are available <a href="Configuration-Properties-Common.html#database-settings">here</a> 
under the configuration key <code class="language-plaintext highlighter-rouge">cas.service-registry.jpa</code>.</p>

<h2 id="service-registry-replication">Service Registry Replication</h2>

<p>Control how CAS services definition files should be replicated across a CAS cluster.
To learn more about this topic, <a href="../services/Configuring-Service-Replication.html">please review this guide</a></p>

<p>Replication modes may be configured per the following options:</p>

<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ACTIVE_ACTIVE</code></td>
      <td>All CAS nodes sync copies of definitions and keep them locally.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ACTIVE_PASSIVE</code></td>
      <td>Default. One master node keeps definitions and streams changes to other passive nodes.</td>
    </tr>
  </tbody>
</table>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># cas.service-registry.stream.enabled=true
# cas.service-registry.stream.replication-mode=ACTIVE_ACTIVE|ACTIVE_PASSIVE
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="service-registry-replication-hazelcast">Service Registry Replication Hazelcast</h2>

<p>Control how CAS services definition files should be replicated across a CAS cluster backed by a distributed Hazelcast cache.
To learn more about this topic, <a href="../services/Configuring-Service-Replication.html">please review this guide</a>.</p>

<p>Hazelcast settings for this feature are available <a href="Configuration-Properties-Common.html#hazelcast-configuration">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.service-registry.stream.hazelcast.config</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.service-registry.stream.hazelcast.duration=PT1M
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="ticket-registry">Ticket Registry</h2>

<p>To learn more about this topic, <a href="../ticketing/Configuring-Ticketing-Components.html">please review this guide</a>.</p>

<h3 id="signing--encryption-5">Signing &amp; Encryption</h3>

<p>The encryption key must be randomly-generated string of size <code class="language-plaintext highlighter-rouge">16</code>. The signing key <a href="Configuration-Properties-Common.html#signing--encryption">is a JWK</a> of size <code class="language-plaintext highlighter-rouge">512</code>.</p>

<h3 id="cleaner-1">Cleaner</h3>

<p>A cleaner process is scheduled to run in the background to clean up expired and stale tickets.
This section controls how that process should behave. Scheduler settings for this feature are 
available <a href="Configuration-Properties-Common.html#job-scheduling">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.ticket.registry.cleaner</code>.</p>

<h3 id="jpa-ticket-registry">JPA Ticket Registry</h3>

<p>To learn more about this topic, <a href="../ticketing/JPA-Ticket-Registry.html">please review this guide</a>. Database settings for this feature are available <a href="Configuration-Properties-Common.html#database-settings">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.ticket.registry.jpa</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># cas.ticket.registry.jpa.ticket-lock-type=NONE
# cas.ticket.registry.jpa.jpa-locking-timeout=3600
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>Signing &amp; encryption settings for this registry are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.ticket.registry.jpa</code>.</p>

<h3 id="couchdb-ticket-registry">CouchDb Ticket Registry</h3>

<p>To learn more about this topic, <a href="../ticketing/CouchDb-Ticket-Registry.html">please review this guide</a>. Database settings for this feature are available <a href="Configuration-Properties-Common.html#couchdb-configuration">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.ticket.registry.couch-db</code>.</p>

<h3 id="couchbase-ticket-registry">Couchbase Ticket Registry</h3>

<p>To learn more about this topic, <a href="../ticketing/Couchbase-Ticket-Registry.html">please review this guide</a>. Database settings for this feature are available <a href="Configuration-Properties-Common.html#couchbase-integration-settings">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.ticket.registry.couchbase</code>.</p>

<p>Signing &amp; encryption settings for this registry are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.ticket.registry.couchbase</code>.</p>

<h3 id="hazelcast-ticket-registry">Hazelcast Ticket Registry</h3>

<p>To learn more about this topic, <a href="../ticketing/Hazelcast-Ticket-Registry.html">please review this guide</a>.</p>

<p>Common Hazelcast settings for this feature are available <a href="Configuration-Properties-Common.html#hazelcast-configuration">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.ticket.registry.hazelcast</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.ticket.registry.hazelcast.page-size=500
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>Signing &amp; encryption settings for this registry are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.ticket.registry.hazelcast</code>.</p>

<h3 id="cassandra-ticket-registry">Cassandra Ticket Registry</h3>

<p>To learn more about this topic, <a href="../ticketing/Cassandra-Ticket-Registry.html">please review this guide</a>.</p>

<p>Common Cassandra settings for this feature are available <a href="Configuration-Properties-Common.html#cassandra-configuration">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.ticket.registry.cassandra</code>.</p>

<p>Signing &amp; encryption settings for this registry are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.ticket.registry.cassandra</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.ticket.registry.cassandra.drop-tables-on-startup=false
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="infinispan-ticket-registry">Infinispan Ticket Registry</h3>

<p>To learn more about this topic, <a href="../ticketing/Infinispan-Ticket-Registry.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># cas.ticket.registry.infinispan.cache-name=
# cas.ticket.registry.infinispan.config-location=/infinispan.xml
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>Signing &amp; encryption settings for this registry are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.ticket.registry.infinispan</code>.</p>

<h3 id="inmemory-ticket-registry">InMemory Ticket Registry</h3>

<p>This is typically the default ticket registry instance where tickets
are kept inside the runtime environment memory.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="c"># Enable the backing map to be cacheable
# cas.ticket.registry.in-memory.cache=true
</span>
<span class="c"># cas.ticket.registry.in-memory.load-factor=1
# cas.ticket.registry.in-memory.concurrency=20
# cas.ticket.registry.in-memory.initial-capacity=1000
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>Signing &amp; encryption settings for this registry are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.ticket.registry.in-memory</code>.</p>

<h3 id="jms-ticket-registry">JMS Ticket Registry</h3>

<p>To learn more about this topic, <a href="../ticketing/Messaging-JMS-Ticket-Registry.html">please review this guide</a>.</p>

<p>Signing &amp; encryption settings for this registry are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a>
under the configuration key <code class="language-plaintext highlighter-rouge">cas.ticket.registry.jms</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.ticket.registry.jms.id=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="jms-ticket-registry-activemq">JMS Ticket Registry ActiveMQ</h4>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="c"># spring.activemq.broker-url=tcp://192.168.1.210:9876
# spring.activemq.user=admin
# spring.activemq.password=secret
# spring.activemq.pool.enabled=true
# spring.activemq.pool.max-connections=50
# spring.activemq.packages.trust-all=false
# spring.activemq.packages.trusted=org.apereo.cas
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="jms-ticket-registry-artemis">JMS Ticket Registry Artemis</h4>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="c"># spring.artemis.mode=native
# spring.artemis.host=192.168.1.210
# spring.artemis.port=9876
# spring.artemis.user=admin
# spring.artemis.password=secret
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="jms-ticket-registry-jndi">JMS Ticket Registry JNDI</h4>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># spring.jms.jndi-name=java:/MyConnectionFactory
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="ehcache-ticket-registry">Ehcache Ticket Registry</h3>

<p>Theses properties are for the module that uses version 2.x of the Ehcache library. 
To learn more about this topic, <a href="../ticketing/Ehcache-Ticket-Registry.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre></td><td class="rouge-code"><pre><span class="c"># cas.ticket.registry.ehcache.replicate-updates-via-copy=true
# cas.ticket.registry.ehcache.cache-manager-name=ticketRegistryCacheManager
# cas.ticket.registry.ehcache.replicate-puts=true
# cas.ticket.registry.ehcache.replicate-updates=true
# cas.ticket.registry.ehcache.memory-store-eviction-policy=LRU
# cas.ticket.registry.ehcache.config-location=classpath:/ehcache-replicated.xml
# cas.ticket.registry.ehcache.maximum-batch-size=100
# cas.ticket.registry.ehcache.shared=false
# cas.ticket.registry.ehcache.replication-interval=10000
# cas.ticket.registry.ehcache.cache-time-to-live=2147483647
# cas.ticket.registry.ehcache.disk-expiry-thread-interval-seconds=0
# cas.ticket.registry.ehcache.replicate-removals=true
# cas.ticket.registry.ehcache.max-chunk-size=5000000
# cas.ticket.registry.ehcache.max-elements-on-disk=0
# cas.ticket.registry.ehcache.max-elements-in-cache=0
# cas.ticket.registry.ehcache.max-elements-in-memory=10000
# cas.ticket.registry.ehcache.eternal=false
# cas.ticket.registry.ehcache.loader-async=true
# cas.ticket.registry.ehcache.replicate-puts-via-copy=true
# cas.ticket.registry.ehcache.cache-time-to-idle=0
# cas.ticket.registry.ehcache.persistence=LOCALTEMPSWAP|NONE|LOCALRESTARTABLE|DISTRIBUTED
# cas.ticket.registry.ehcache.synchronous-writes=
</span>
<span class="c"># The systemprops allows a map of properties to be set as system properties before configLocation config is processed.
# These properties may be referenced in the ehcache XML config via ${key}
# cas.ticket.registry.ehcache.systemprops.key1=value1
# cas.ticket.registry.ehcache.systemprops.key2=value2
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>Signing &amp; encryption settings for this registry are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.ticket.registry.ehcache</code>.</p>

<h3 id="ehcache-3-ticket-registry">Ehcache 3 Ticket Registry</h3>

<p>To learn more about this topic, <a href="../ticketing/Ehcache-Ticket-Registry.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="rouge-code"><pre><span class="c"># cas.ticket.registry.ehcache3.enabled=true
# cas.ticket.registry.ehcache3.max-elements-in-memory=10000
# cas.ticket.registry.ehcache3.per-cache-size-on-disk=20MB
# cas.ticket.registry.ehcache3.eternal=false
# cas.ticket.registry.ehcache3.enable-statistics=true
# cas.ticket.registry.ehcache3.enable-management=true
# cas.ticket.registry.ehcache3.terracotta-cluster-uri=
# cas.ticket.registry.ehcache3.default-server-resource=main
# cas.ticket.registry.ehcache3.resource-pool-name=cas-ticket-pool
# cas.ticket.registry.ehcache3.resource-pool-size=15MB
# cas.ticket.registry.ehcache3.root-directory=/tmp/cas/ehcache3
# cas.ticket.registry.ehcache3.persist-on-disk=true
# cas.ticket.registry.ehcache3.cluster-connection-timeout=150
# cas.ticket.registry.ehcache3.cluster-read-write-timeout=5
# cas.ticket.registry.ehcache3.clustered-cache-consistency=STRONG
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>There is no default value for the Terracota Cluster URI but the format is <code class="language-plaintext highlighter-rouge">terracotta://host1.company.org:9410,host2.company.org:9410/cas-application</code></p>

<p>Signing &amp; encryption settings for this registry are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.ticket.registry.ehcache3</code>.</p>

<h3 id="ignite-ticket-registry">Ignite Ticket Registry</h3>

<p>To learn more about this topic, <a href="../ticketing/Ignite-Ticket-Registry.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre></td><td class="rouge-code"><pre><span class="c"># cas.ticket.registry.ignite.key-algorithm=
# cas.ticket.registry.ignite.protocol=
# cas.ticket.registry.ignite.trust-store-password=
# cas.ticket.registry.ignite.key-store-type=
# cas.ticket.registry.ignite.key-store-file-path=
# cas.ticket.registry.ignite.key-store-password=
# cas.ticket.registry.ignite.trust-store-type=
# cas.ticket.registry.ignite.ignite-address[0]=localhost:47500
# cas.ticket.registry.ignite.ignite-address[1]=
# cas.ticket.registry.ignite.trust-store-file-path=
# cas.ticket.registry.ignite.ack-timeout=2000
# cas.ticket.registry.ignite.join-timeout=1000
# cas.ticket.registry.ignite.local-address=
# cas.ticket.registry.ignite.local-port=-1
# cas.ticket.registry.ignite.network-timeout=5000
# cas.ticket.registry.ignite.socket-timeout=5000
# cas.ticket.registry.ignite.thread-priority=10
# cas.ticket.registry.ignite.force-server-mode=false
# cas.ticket.registry.ignite.client-mode=false
</span>
<span class="c"># cas.ticket.registry.ignite.tickets-cache.write-synchronization-mode=FULL_SYNC
# cas.ticket.registry.ignite.tickets-cache.atomicity-mode=TRANSACTIONAL
# cas.ticket.registry.ignite.tickets-cache.cache-mode=REPLICATED
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>Signing &amp; encryption settings for this registry are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.ticket.registry.ignite</code>.</p>

<h3 id="memcached-ticket-registry">Memcached Ticket Registry</h3>

<p>To learn more about this topic, <a href="../ticketing/Memcached-Ticket-Registry.html">please review this guide</a>.Integration settings for this registry are available <a href="Configuration-Properties-Common.html#memcached-integration-settings">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.ticket.registry.memcached</code>.</p>

<p>Signing &amp; encryption settings for this registry are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.ticket.registry.memcached</code>.</p>

<h3 id="dynamodb-ticket-registry">DynamoDb Ticket Registry</h3>

<p>To learn more about this topic, <a href="../ticketing/DynamoDb-Ticket-Registry.html">please review this guide</a>.</p>

<p>Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#dynamodb-configuration">here</a> 
under the configuration key <code class="language-plaintext highlighter-rouge">cas.ticket.registry</code>.</p>

<p>Signing &amp; encryption settings for this registry are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> 
under the configuration key <code class="language-plaintext highlighter-rouge">cas.ticket.registry.dynamo-db</code>.</p>

<p>AWS settings for this feature are available <a href="Configuration-Properties-Common.html#amazon-integration-settings">here</a> 
under the configuration key <code class="language-plaintext highlighter-rouge">cas.ticket.registry.dynamo-db</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="c"># cas.ticket.registry.dynamo-db.service-tickets-table-name=serviceTicketsTable
# cas.ticket.registry.dynamo-db.proxy-tickets-table-name=proxyTicketsTable
# cas.ticket.registry.dynamo-db.ticket-granting-tickets-table-name=ticketGrantingTicketsTable
# cas.ticket.registry.dynamo-db.proxy-granting-tickets-table-name=proxyGrantingTicketsTable
# cas.ticket.registry.dynamo-db.transient-session-tickets-table-name=transientSessionTicketsTable
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="mongodb-ticket-registry">MongoDb Ticket Registry</h3>

<p>To learn more about this topic, <a href="../ticketing/MongoDb-Ticket-Registry.html">please review this guide</a>. 
Signing &amp; encryption settings for this registry are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> 
under the configuration key <code class="language-plaintext highlighter-rouge">cas.ticket.registry.mongo</code>.  Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#mongodb-configuration">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.ticket.registry</code>.</p>

<h3 id="redis-ticket-registry">Redis Ticket Registry</h3>

<p>To learn more about this topic, <a href="../ticketing/Redis-Ticket-Registry.html">please review this guide</a>. 
Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#redis-configuration">here</a> 
under the configuration key <code class="language-plaintext highlighter-rouge">cas.ticket.registry</code>. Signing &amp; encryption settings for this registry are 
available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.ticket.registry.redis</code>.</p>

<h2 id="protocol-ticket-security">Protocol Ticket Security</h2>

<p>Controls whether tickets issued by the CAS server should be secured via signing and encryption
when shared with client applications on outgoing calls. The signing and encryption 
keys <a href="Configuration-Properties-Common.html#signing--encryption">are both JWKs</a> of size <code class="language-plaintext highlighter-rouge">512</code> and <code class="language-plaintext highlighter-rouge">256</code>.
The encryption algorithm is set to <code class="language-plaintext highlighter-rouge">AES_128_CBC_HMAC_SHA_256</code>. Signing &amp; encryption settings for this 
feature are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.ticket</code>.</p>

<h2 id="service-tickets-behavior">Service Tickets Behavior</h2>

<p>Controls the expiration policy of service tickets, as well as other properties applicable to STs.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="c"># cas.ticket.st.max-length=20
</span>
<span class="c"># cas.ticket.st.number-of-uses=1
# cas.ticket.st.time-to-kill-in-seconds=10
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="proxy-granting-tickets-behavior">Proxy Granting Tickets Behavior</h2>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.ticket.pgt.max-length=50
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="proxy-tickets-behavior">Proxy Tickets Behavior</h2>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># cas.ticket.pt.time-to-kill-in-seconds=10
# cas.ticket.pt.number-of-uses=1
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="transient-session-tickets-behavior">Transient Session Tickets Behavior</h2>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.ticket.tst.time-to-kill-in-seconds=300
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="ticket-granting-tickets-behavior">Ticket Granting Tickets Behavior</h2>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># cas.ticket.tgt.only-track-most-recent-session=true
# cas.ticket.tgt.max-length=50
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="tgt-expiration-policy">TGT Expiration Policy</h2>

<p>Ticket expiration policies are activated in the following conditions:</p>

<ul>
  <li>If the timeout values for the default policy are all set to zero or less, CAS shall ensure tickets are <em>never</em> considered expired.</li>
  <li>Disabling a policy requires that all its timeout settings be set to a value equal or less than zero.</li>
  <li>If not ticket expiration policy is determined, CAS shall ensure the ticket are <em>always</em> considered expired.</li>
</ul>

<div class="alert alert-info"><strong>Keep What You Need!</strong><p>You are encouraged to only keep and maintain 
properties and settings needed for a particular policy. It is <strong>UNNECESSARY</strong> to grab a copy of all 
fields or keeping a copy as a reference while leaving them commented out. This strategy would ultimately lead to 
poor upgrades increasing chances of breaking changes and a messy deployment at that.</p></div>

<p>Ticket expiration policies are activated in the following order:</p>

<ol>
  <li>Tickets are never expired, if and when settings for the default policy are configured accordingly.</li>
  <li>Timeout</li>
  <li>Default</li>
  <li>Throttled Timeout</li>
  <li>Hard Timeout</li>
  <li>Tickets always expire immediately.</li>
</ol>

<h3 id="default">Default</h3>

<p>Provides a hard-time out as well as a sliding window.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c"># Set to a negative value to never expire tickets
# cas.ticket.tgt.max-time-to-live-in-seconds=28800
# cas.ticket.tgt.time-to-kill-in-seconds=7200
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="remember-me">Remember Me</h3>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># cas.ticket.tgt.remember-me.enabled=true
# cas.ticket.tgt.remember-me.time-to-kill-in-seconds=28800
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="timeout">Timeout</h3>

<p>The expiration policy applied to TGTs provides for most-recently-used expiration policy, similar to a Web server session timeout.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.ticket.tgt.timeout.max-time-to-live-in-seconds=28800
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="throttled-timeout">Throttled Timeout</h3>

<p>The throttled timeout policy extends the Timeout policy with the concept of throttling where a ticket may be used at most every N seconds.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># cas.ticket.tgt.throttledTimeout.timeToKillInSeconds=28800
# cas.ticket.tgt.throttledTimeout.timeInBetweenUsesInSeconds=5
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="hard-timeout">Hard Timeout</h3>

<p>The hard timeout policy provides for finite ticket lifetime as measured from the time of creation.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.ticket.tgt.hard-timeout.time-to-kill-in-seconds=28800
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="google-recaptcha-integration">Google reCAPTCHA Integration</h2>

<p>Display Google’s reCAPTCHA widget on the CAS login page.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="c"># cas.google-recaptcha.enabled=true
# cas.google-recaptcha.verify-url=https://www.google.com/recaptcha/api/siteverify
# cas.google-recaptcha.site-key=
# cas.google-recaptcha.secret=
# cas.google-recaptcha.invisible=
# cas.google-recaptcha.position=bottomright
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="google-analytics">Google Analytics</h2>

<p>To learn more about this topic, <a href="../integration/Configuring-Google-Analytics.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.googleAnalytics.googleAnalyticsTrackingId=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="google-analytics-cookie">Google Analytics Cookie</h3>

<p>The common cookie settings applicable to this feature are <a href="Configuration-Properties-Common.html#cookie-properties">available here</a> 
under the configuration key <code class="language-plaintext highlighter-rouge">cas.google-analytics.cookie</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="py">cas.google-analytics.cookie.attribute-name</span><span class="p">=</span>
<span class="py">cas.google-analytics.cookie.attribute-value-pattern</span><span class="p">=</span><span class="s">.+</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="spring-webflow">Spring Webflow</h2>

<p>Control how Spring Webflow’s conversational session state should be managed by CAS,
and all other webflow related settings.</p>

<p>To learn more about this topic, <a href="../webflow/Webflow-Customization.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="c"># cas.webflow.always-pause-redirect=false
# cas.webflow.refresh=true
# cas.webflow.redirect-same-state=false
# cas.webflow.autoconfigure=true
# cas.webflow.base-path=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="spring-webflow-login-decorations">Spring Webflow Login Decorations</h3>

<h4 id="groovy-6">Groovy</h4>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.webflow.login-decorator.groovy.location=file:/etc/cas/config/LoginDecorator.groovy
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="rest-5">REST</h4>

<p>RESTful settings for this feature are available <a href="Configuration-Properties-Common.html#restful-integrations">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.webflow.login-decorator.rest</code>.</p>

<h3 id="spring-webflow-auto-configuration">Spring Webflow Auto Configuration</h3>

<p>Options that control how the Spring Webflow context is dynamically altered and configured by CAS. To learn more about this topic, <a href="../webflow/Webflow-Customization-Extensions.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.webflow.autoconfigure=true
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="spring-webflow-groovy-auto-configuration">Spring Webflow Groovy Auto Configuration</h4>

<p>Control the Spring Webflow context via a custom Groovy script.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.webflow.groovy.location=file:/etc/cas/config/custom-webflow.groovy
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="spring-webflow-session-management">Spring Webflow Session Management</h3>

<p>To learn more about this topic, <a href="../webflow/Webflow-Customization-Sessions.html">see this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="c"># cas.webflow.session.lock-timeout=30
# cas.webflow.session.compress=false
# cas.webflow.session.max-conversations=5
</span>
<span class="c"># Enable server-side session management
# cas.webflow.session.storage=false
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>The signing and encryption keys <a href="Configuration-Properties-Common.html#signing--encryption">are both JWKs</a> of size <code class="language-plaintext highlighter-rouge">512</code> and <code class="language-plaintext highlighter-rouge">256</code>.</p>

<h4 id="spring-webflow-client-side-session">Spring Webflow Client-Side Session</h4>

<p>The encryption key must be randomly-generated string of size <code class="language-plaintext highlighter-rouge">16</code>. The signing key <a href="Configuration-Properties-Common.html#signing--encryption">is a JWK</a> of size <code class="language-plaintext highlighter-rouge">512</code>.</p>

<p>Signing &amp; encryption settings for this feature are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.webflow</code>.</p>

<h4 id="spring-webflow-hazelcast-server-side-session">Spring Webflow Hazelcast Server-Side Session</h4>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.webflow.session.hz-location=classpath:/hazelcast.xml
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="spring-webflow-mongodb-server-side-session">Spring Webflow MongoDb Server-Side Session</h4>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c"># spring.data.mongodb.host=mongo-srv
# spring.data.mongodb.port=27018
# spring.data.mongodb.database=prod
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="spring-webflow-redis-server-side-session">Spring Webflow Redis Server-Side Session</h4>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="c"># spring.session.store-type=redis
# spring.redis.host=localhost
# spring.redis.password=secret
# spring.redis.port=6379
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="spring-webflow-jdbc-server-side-session">Spring Webflow JDBC Server-Side Session</h4>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="c"># spring.session.store-type=jdbc
# spring.session.jdbc.initialize-schema=embedded
# spring.session.jdbc.schema=classpath:org/springframework/session/jdbc/schema-@@platform@@.sql
# spring.session.jdbc.table-name=SPRING_SESSION
</span>
<span class="c"># spring.datasource.url=jdbc:hsqldb:mem:cas-sessions
# spring.datasource.username=sa
# spring.datasource.password=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="authentication-exceptions">Authentication Exceptions</h3>

<p>Map custom authentication exceptions in the CAS webflow and link them to custom messages defined in message bundles.</p>

<p>To learn more about this topic, <a href="../webflow/Webflow-Customization-Exceptions.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.errors.exceptions=value1,value2,...
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="authentication-interrupt">Authentication Interrupt</h3>

<p>Interrupt the authentication flow to reach out to external services. To learn more about this topic, <a href="../webflow/Webflow-Customization-Interrupt.html">please review this guide</a>.</p>

<h4 id="authentication-interrupt-json">Authentication Interrupt JSON</h4>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.interrupt.json.location=file:/etc/cas/config/interrupt.json
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="authentication-interrupt-regex-attributes">Authentication Interrupt Regex Attributes</h4>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># cas.interrupt.attribute-name=attribute-name-pattern
# cas.interrupt.attribute-value=attribute-value-pattern
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="authentication-interrupt-groovy">Authentication Interrupt Groovy</h4>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.interrupt.groovy.location=file:/etc/cas/config/interrupt.groovy
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="authentication-interrupt-rest">Authentication Interrupt REST</h4>

<p>RESTful settings for this feature are available <a href="Configuration-Properties-Common.html#restful-integrations">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.interrupt.rest</code>.</p>

<h3 id="acceptable-usage-policy">Acceptable Usage Policy</h3>

<p>Decide how CAS should attempt to determine whether AUP is accepted.
To learn more about this topic, <a href="../webflow/Webflow-Customization-AUP.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># cas.acceptable-usage-policy.aup-attribute-name=aupAccepted
# cas.acceptable-usage-policy.aup-policy-terms-attribute-name=membership
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="default-1">Default</h4>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.acceptable-usage-policy.in-memory.scope=GLOBAL|AUTHENTICATION
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>The following scopes are supported:</p>

<table>
  <thead>
    <tr>
      <th>Scope</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">GLOBAL</code></td>
      <td>Store decisions in the global in-memory map (for life of server).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">AUTHENTICATION</code></td>
      <td>Store decisions such that user is prompted when they authenticate via credentials.</td>
    </tr>
  </tbody>
</table>

<h4 id="groovy-7">Groovy</h4>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.acceptable-usage-policy.groovy.location=file:/etc/cas/config/aup.groovy
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="rest-6">REST</h4>

<p>RESTful settings for this feature are available <a href="Configuration-Properties-Common.html#restful-integrations">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.acceptable-usage-policy.rest</code>.</p>

<h4 id="jdbc-2">JDBC</h4>

<p>If AUP is controlled via JDBC, decide how choices should be remembered back inside the database instance. Database settings for this feature are available <a href="Configuration-Properties-Common.html#database-settings">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.acceptable-usage-policy.jdbc</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="c"># cas.acceptable-usage-policy.jdbc.table-name=usage_policies_table
# cas.acceptable-usage-policy.jdbc.aup-column=
# cas.acceptable-usage-policy.jdbc.principal-id-column=username
# cas.acceptable-usage-policy.jdbc.principal-id-attribute=
# cas.acceptable-usage-policy.jdbc.sql-update=UPDATE %s SET %s=true WHERE %s=?
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="couchdb-1">CouchDb</h4>

<p>Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#couchdb-configuration">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.acceptable-usage-policy</code>. This feature uses the <code class="language-plaintext highlighter-rouge">asynchronous</code> setting.</p>

<h4 id="mongodb-2">MongoDb</h4>

<p>Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#mongodb-configuration">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.acceptable-usage-policy</code>.</p>

<h4 id="redis-2">Redis</h4>

<p>Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#redis-configuration">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.acceptable-usage-policy</code>.</p>

<h4 id="ldap-1">LDAP</h4>

<p>If AUP is controlled via LDAP, decide how choices should be remembered back inside the LDAP instance. LDAP settings for this feature are available <a href="Configuration-Properties-Common.html#ldap-connection-settings">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.acceptable-usage-policy.ldap[0]</code>.</p>

<h4 id="disable-acceptable-usage-policy">Disable Acceptable Usage Policy</h4>

<p>Allow acceptable usage policy webflow to be disabled - requires restart.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="py">cas.acceptable-usage-policy.enabled</span><span class="p">=</span><span class="s">true</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="rest-api">REST API</h2>

<p>To learn more about this topic, <a href="../protocol/REST-Protocol.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="c"># cas.rest.attribute-name=
# cas.rest.attribute-value=
# cas.rest.header-auth=
# cas.rest.body-auth=
# cas.rest.tls-client-auth=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="metrics">Metrics</h2>

<p>To learn more about this topic, <a href="../monitoring/Monitoring-Statistics.html">please review this guide</a>.</p>

<h3 id="atlas">Atlas</h3>

<p>By default, metrics are exported to Atlas running on your local machine. The location of the Atlas server to use can be provided using:</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># management.metrics.export.atlas.uri=http://atlas.example.com:7101/api/v1/publish
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="datadog">Datadog</h3>

<p>Datadog registry pushes metrics to <code class="language-plaintext highlighter-rouge">datadoghq</code> periodically. To export metrics to Datadog, your API key must be provided:</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># management.metrics.export.datadog.api-key=YOUR_KEY
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>You can also change the interval at which metrics are sent to Datadog:</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># management.metrics.export.datadog.step=30s
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="ganglia">Ganglia</h3>

<p>By default, metrics are exported to Ganglia running on your local machine. The Ganglia server host and port to use can be provided using:</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># management.metrics.export.ganglia.host=ganglia.example.com
# management.metrics.export.ganglia.port=9649
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="graphite">Graphite</h3>

<p>By default, metrics are exported to Graphite running on your local machine. The Graphite server host and port to use can be provided using:</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># management.metrics.export.graphite.host=graphite.example.com
# management.metrics.export.graphite.port=9004
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="influxdb">InfluxDb</h3>

<p>By default, metrics are exported to Influx running on your local machine. The location of the Influx server to use can be provided using:</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># management.metrics.export.influx.uri=http://influx.example.com:8086
</span></pre></td></tr></tbody></table></code></pre></div></div>
<h3 id="jmx">JMX</h3>

<p>Micrometer provides a hierarchical mapping to JMX, primarily as a cheap and portable way to view metrics locally.</p>

<h3 id="new-relic">New Relic</h3>

<p>New Relic registry pushes metrics to New Relic periodically. To export metrics to New Relic, your API key and account id must be provided:</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># management.metrics.export.newrelic.api-key=YOUR_KEY
# management.metrics.export.newrelic.account-id=YOUR_ACCOUNT_ID
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>You can also change the interval at which metrics are sent to New Relic:</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># management.metrics.export.newrelic.step=30s
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="prometheus">Prometheus</h3>

<p>Prometheus expects to scrape or poll individual app instances for metrics. Spring Boot provides an actuator endpoint 
available at <code class="language-plaintext highlighter-rouge">/actuator/prometheus</code> to present a Prometheus scrape with the appropriate format.</p>

<p>Here is an example <code class="language-plaintext highlighter-rouge">scrape_config</code> to add to <code class="language-plaintext highlighter-rouge">prometheus.yml</code>:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="na">scrape_configs</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">job_name</span><span class="pi">:</span> <span class="s1">'</span><span class="s">spring'</span>
    <span class="na">metrics_path</span><span class="pi">:</span> <span class="s1">'</span><span class="s">/actuator/prometheus'</span>
    <span class="na">static_configs</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">targets</span><span class="pi">:</span> <span class="pi">[</span><span class="s1">'</span><span class="s">HOST:PORT'</span><span class="pi">]</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="signalfx">SignalFx</h3>

<p>SignalFx registry pushes metrics to SignalFx periodically. To export metrics to SignalFx, your access token must be provided:</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># management.metrics.export.signalfx.access-token=YOUR_ACCESS_TOKEN
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>You can also change the interval at which metrics are sent to SignalFx:</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># management.metrics.export.signalfx.step=30s
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>Micrometer ships with a simple, in-memory backend that is automatically used as a fallback if no other registry is configured. 
This allows you to see what metrics are collected in the metrics endpoint.</p>

<p>The in-memory backend disables itself as soon as you’re using any of the other available backend. You can also disable it explicitly:</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># management.metrics.export.simple.enabled=false
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="statsd">StatsD</h3>

<p>The StatsD registry pushes metrics over UDP to a StatsD agent eagerly. By default, 
metrics are exported to a StatsD agent running on your local machine. The StatsD agent host and port to use can be provided using:</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># management.metrics.export.statsd.host=statsd.example.com
# management.metrics.export.statsd.port=9125
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>You can also change the StatsD line protocol to use (default to Datadog):</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># management.metrics.export.statsd.flavor=etsy
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="wavefront">Wavefront</h3>

<p>Wavefront registry pushes metrics to Wavefront periodically. If you are exporting metrics to 
Wavefront directly, your API token must be provided:</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># management.metrics.export.wavefront.api-token=YOUR_API_TOKEN
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>Alternatively, you may use a Wavefront sidecar or an internal proxy set up in your environment that 
forwards metrics data to the Wavefront API host:</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># management.metrics.export.uri=proxy://localhost:2878
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>You can also change the interval at which metrics are sent to Wavefront:</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># management.metrics.export.wavefront.step=30s
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="saml-metadata-ui">SAML Metadata UI</h2>

<p>Control how SAML MDUI elements should be displayed on the main CAS login page
in the event that CAS is handling authentication for an external SAML2 IdP.</p>

<p>To learn more about this topic, <a href="../integration/Shibboleth.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="c"># cas.saml-metadata-ui.require-valid-metadata=true
# cas.saml-metadata-ui.resources=classpath:/sp-metadata::classpath:/pub.key,http://md.incommon.org/InCommon/InCommon-metadata.xml::classpath:/inc-md-pub.key
# cas.saml-metadata-ui.max-validity=0
# cas.saml-metadata-ui.require-signed-root=false
# cas.saml-metadata-ui.parameter=entityId
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>Scheduler settings for this feature are available <a href="Configuration-Properties-Common.html#job-scheduling">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.saml-metadata-ui</code>.</p>

<h2 id="eureka-service-discovery">Eureka Service Discovery</h2>

<p>To learn more about this topic, <a href="../installation/Service-Discovery-Guide-Eureka.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="c"># eureka.client.service-url.default-zone=${EUREKA_SERVER_HOST:http://localhost:8761}/eureka/
# eureka.client.enabled=true
# eureka.instance.status-page-url=${cas.server.prefix}/actuator/info
# eureka.instance.health-check-url=${cas.server.prefix}/actuator/health
# eureka.instance.home-page-url=${cas.server.prefix}/
# eureka.client.healthcheck.enabled=true
</span>
<span class="c"># spring.cloud.config.discovery.enabled=false
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="consul-service-discovery">Consul Service Discovery</h2>

<p>To learn more about this topic, <a href="../installation/Service-Discovery-Guide-Consul.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre><span class="c"># spring.cloud.consul.port=8500
# spring.cloud.consul.enabled=true
# spring.cloud.consul.host=localhost
</span>
<span class="c"># spring.cloud.consul.discovery.health-check-path=&lt;health-endpoint-url&gt;
# spring.cloud.consul.discovery.health-check-interval=15s
# spring.cloud.consul.discovery.instance-id=${spring.application.name}:${random.value}
</span>
<span class="c"># spring.cloud.consul.discovery.heartbeat.enabled=true
# spring.cloud.consul.discovery.heartbeat.ttl-value=60
# spring.cloud.consul.discovery.heartbeat.ttl-unit=s
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="provisioning-1">Provisioning</h2>

<h3 id="scim">SCIM</h3>

<p>Provision the authenticated CAS principal via SCIM.
To learn more about this topic, <a href="../integration/SCIM-Integration.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="c"># cas.scim.version=2
# cas.scim.target=
# cas.scim.oauthToken=
# cas.scim.username=
# cas.scim.password=
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="attribute-consent">Attribute Consent</h2>

<p>CAS provides the ability to enforce user-informed consent upon attribute release.
To learn more about this topic, <a href="../integration/Attribute-Release-Consent.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># cas.consent.reminder=30
# cas.consent.reminder-time-unit=HOURS|DAYS|MONTHS
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>Signing &amp; encryption settings for this feature are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.consent</code>. The signing and encryption keys <a href="Configuration-Properties-Common.html#signing--encryption">are both JWKs</a> of size <code class="language-plaintext highlighter-rouge">512</code> and <code class="language-plaintext highlighter-rouge">256</code>.</p>

<h3 id="webflow-configuration-3">Webflow configuration</h3>

<p>Webflow auto-configuration settings for this feature are available <a href="Configuration-Properties-Common.html#webflow-auto-configuration">here</a> under 
the configuration key <code class="language-plaintext highlighter-rouge">cas.consent.webflow</code>.</p>

<h3 id="json-attribute-consent">JSON Attribute Consent</h3>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.consent.json.location=file:/etc/cas/config/consent.json
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="groovy-attribute-consent">Groovy Attribute Consent</h3>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.consent.groovy.location=file:/etc/cas/config/consent.groovy
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="jpa-attribute-consent">JPA Attribute Consent</h3>

<p>Database settings for this feature are available <a href="Configuration-Properties-Common.html#database-settings">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.consent.jpa</code>.</p>

<h3 id="ldap-attribute-consent">LDAP Attribute Consent</h3>

<p>LDAP settings for this feature are available <a href="Configuration-Properties-Common.html#ldap-connection-settings">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.consent.ldap</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.consent.ldap.consent-attribute-name=casConsentDecision
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="mongodb-attribute-consent">MongoDb Attribute Consent</h3>

<p>Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#mongodb-configuration">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.consent</code>.</p>

<h3 id="redis-attribute-consent">Redis Attribute Consent</h3>

<p>Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#redis-configuration">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.consent</code>.</p>

<h3 id="couchdb-attribute-consent">CouchDb Attribute Consent</h3>

<p>Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#couchdb-configuration">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.consent</code>.</p>

<h3 id="rest-attribute-consent">REST Attribute Consent</h3>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.consent.rest.endpoint=https://api.example.org/trustedBrowser
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="apache-fortress-authentication">Apache Fortress Authentication</h2>

<p>To learn more about this topic, <a href="../installation/Configuring-Fortress-Authentication.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.fortress.rbaccontext=HOME
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="cas-client">CAS Client</h2>

<p>Configure settings relevant to the Java CAS client configured to handle inbound ticket validation operations, etc.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># cas.client.prefix=https://sso.example.org/cas
# cas.client.validator-type=CAS10|CAS20|CAS30
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="password-synchronization">Password Synchronization</h2>

<p>Allow the user to synchronize account password to a variety of destinations in-place. To learn more about this 
topic, <a href="../installation/Password-Synchronization.html">please review this guide</a>.</p>

<h3 id="ldap-password-sync">LDAP Password Sync</h3>

<p>Common LDAP settings for this feature are available <a href="Configuration-Properties-Common.html#ldap-connection-settings">here</a> under 
the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.passwordSync.ldap[0]</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.password-sync.enabled=true
# cas.authn.password-sync.ldap[0].enabled=false
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="password-management">Password Management</h2>

<p>Allow the user to update their account password, etc in-place.
To learn more about this topic, <a href="../installation/Password-Policy-Enforcement.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.pm.enabled=true
# cas.authn.pm.captcha-enabled=false
</span>
<span class="c"># Minimum 8 and Maximum 10 characters at least 1 Uppercase Alphabet, 1 Lowercase Alphabet, 1 Number and 1 Special Character
# cas.authn.pm.policy-pattern=^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[$@$!%*?&amp;])[A-Za-z\\d$@$!%*?&amp;]{8,10}
</span>
<span class="c"># cas.authn.pm.reset.expirationMinutes=1
# cas.authn.pm.reset.security-questions-enabled=true
</span>
<span class="c"># Whether the Password Management Token will contain the client or server IP Address.
# cas.authn.pm.reset.include-server-ip-address=true
# cas.authn.pm.reset.include-client-ip-address=true
</span>
<span class="c"># Automatically log in after successful password change
# cas.authn.pm.auto-login=false
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>Common email notifications settings for this feature are available <a href="Configuration-Properties-Common.html#email-notifications">here</a> 
under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.pm.reset</code>. SMS notifications settings for this feature are 
available <a href="Configuration-Properties-Common.html#sms-notifications">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.pm.reset</code>.</p>

<p>The signing and encryption keys <a href="Configuration-Properties-Common.html#signing--encryption">are both JWKs</a> of size <code class="language-plaintext highlighter-rouge">512</code> and <code class="language-plaintext highlighter-rouge">256</code>.
The encryption algorithm is set to <code class="language-plaintext highlighter-rouge">AES_128_CBC_HMAC_SHA_256</code>. Signing &amp; encryption settings for this feature are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.pm.reset</code>.</p>

<h3 id="webflow-configuration-4">Webflow configuration</h3>

<p>Webflow auto-configuration settings for this feature are available <a href="Configuration-Properties-Common.html#webflow-auto-configuration">here</a> under 
the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.pm.webflow</code>.</p>

<h3 id="password-history">Password History</h3>

<p>To learn more about this topic, <a href="../installation/Password-Policy-Enforcement.html">please review this guide</a>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.pm.history.enabled=false
</span>
<span class="c"># cas.authn.pm.history.groovy.location=classpath:PasswordHistory.groovy
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="json-password-management">JSON Password Management</h3>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.pm.json.location=classpath:jsonResourcePassword.json
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="groovy-password-management">Groovy Password Management</h3>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.pm.groovy.location=classpath:PasswordManagementService.groovy
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="ldap-password-management">LDAP Password Management</h3>

<p>Common LDAP settings for this feature are available <a href="Configuration-Properties-Common.html#ldap-connection-settings">here</a> 
under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.pm.ldap[0]</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.pm.ldap[0].type=AD|GENERIC|EDirectory|FreeIPA
# cas.authn.pm.ldap[0].username-attribute=uid
</span>
<span class="c"># Attributes that should be fetched to indicate security questions and answers
# cas.authn.pm.ldap[0].security-questions-attributes.attr-question1=attrAnswer1
# cas.authn.pm.ldap[0].security-questions-attributes.attr-question2=attrAnswer2
# cas.authn.pm.ldap[0].security-questions-attributes.attr-question3=attrAnswer3
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="jdbc-password-management">JDBC Password Management</h3>

<p>Common Database settings for this feature are available <a href="Configuration-Properties-Common.html#database-settings">here</a> 
under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.pm.jdbc</code>. Common password encoding  settings for this 
feature are available <a href="Configuration-Properties-Common.html#password-encoding">here</a> under the configuration key <code class="language-plaintext highlighter-rouge">cas.authn.pm.jdbc</code>.</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="c"># The two fields indicated below are expected to be returned
# cas.authn.pm.jdbc.sql-security-questions=SELECT question, answer FROM table WHERE user=?
</span>
<span class="c"># cas.authn.pm.jdbc.sql-find-email=SELECT email FROM table WHERE user=?
# cas.authn.pm.jdbc.sql-find-phone=SELECT phone FROM table WHERE user=?
# cas.authn.pm.jdbc.sql-find-user=SELECT user FROM table WHERE email=?
# cas.authn.pm.jdbc.sql-change-password=UPDATE table SET password=? WHERE user=?
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="rest-password-management">REST Password Management</h3>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="c"># cas.authn.pm.rest.endpoint-url-email=
# cas.authn.pm.rest.endpoint-url-phone=
# cas.authn.pm.rest.endpoint-url-user=
# cas.authn.pm.rest.endpoint-url-security-questions=
# cas.authn.pm.rest.endpoint-url-change=
# cas.authn.pm.rest.endpoint-username=
# cas.authn.pm.rest.endpoint-password=
</span></pre></td></tr></tbody></table></code></pre></div></div>

                </div>
            </section>
        </main>
    </div>
</div>


<footer>
    <div class="container">
        CAS is supported by the <a href="https://www.apereo.org/">Apereo Foundation</a>.
    </div>
</footer>

<script>
    let pageSection = 'Configuration';
</script>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.3.2/js/tether.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js"></script>

<script src="../../javascripts/URI.js"></script>
<script src="../../javascripts/main.js"></script>

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>
<script type="text/javascript" src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
</body>

</html>
